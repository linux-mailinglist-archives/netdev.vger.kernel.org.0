Return-Path: <netdev-owner@vger.kernel.org>
X-Original-To: lists+netdev@lfdr.de
Delivered-To: lists+netdev@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 9AE2433B415
	for <lists+netdev@lfdr.de>; Mon, 15 Mar 2021 14:27:05 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S231317AbhCON0e (ORCPT <rfc822;lists+netdev@lfdr.de>);
        Mon, 15 Mar 2021 09:26:34 -0400
Received: from mail-mw2nam10on2047.outbound.protection.outlook.com ([40.107.94.47]:58977
        "EHLO NAM10-MW2-obe.outbound.protection.outlook.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S230422AbhCONZz (ORCPT <rfc822;netdev@vger.kernel.org>);
        Mon, 15 Mar 2021 09:25:55 -0400
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=Mu5zucj/xbDMhPZ653oAJYK2c5UHMsKbgHrapHIewCxMGB9UatSutoOlFLP5/558MBOaiUWti/xXGyfu1xUfSwi5qFCe47KnwdEM/RZwtXbV27swqE4TBhoZPQmxVR0KbBpVHdDvQ3fcS5BFMFkV7971L+FAqgTt18TdlyKZtfsuwyKVH6ATbHZ/j1INjI1ivMADQX5JGhpRCOASKMhT7pRuaCDJPvIMMncbEBF94/vmgLFl1EKoezQGgNhuq4xyCfJrLd2vrK/KJq7W8K8HatQ5+MZz34/TLKjszqAo/6gH9ZxkHFdfBoj2l6lVFgiVhEzZfxY/iJGRp3j+OWlwLQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=FcKV63VWyn65kSrJzQMKoBPTXdpf8XWAiVobtZ1IoSw=;
 b=DmfkI3dDl6XDcl8jiK5dIRSX9hGBAc08mMVQu+XQBgQGCTK9oOzmxtL7/uL0eNBP/TqRGjQbBtrmbIgFxLnakVtJ7ZxFBTi5VVIF9IQLPEIfT4bO/BL5r7l8FygkgBcI0JeyXcg6mg/HvW83X8IsXStkZOQrDYvjY066hNc1nkgOJDMOcsrlK1PUXNY0VtCrRN9vC8N0kiY/mJDORd4269ieA5MpqkDXDxy1qsGPch0Cx+8ofdU3nIYM7NkSGgIZi8cQifTQzUznsc5dFbSnpvgsCO7dJJo/OMECwx9XkKrs5+x+6osA4F+lpz//4EFwCnFyML6sp+qrLLtS1zJKFA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=silabs.com; dmarc=pass action=none header.from=silabs.com;
 dkim=pass header.d=silabs.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=silabs.onmicrosoft.com; s=selector2-silabs-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=FcKV63VWyn65kSrJzQMKoBPTXdpf8XWAiVobtZ1IoSw=;
 b=pik6A9dfkHbvGmxHJiV2w5TxEKIdFzz2XR3FOVRCSzsmHgmdxOc9DpVn+VGG7pCnE5jqzlkNWKO1NSXARB/KATxaiXrHtN1+VlEt9Ly6JlmCTgQpoYOvbUcDY1G2ofbV18sFwx6G7F+ecSHvGQSOObw9XOHEv1k6cdP61Uar3lY=
Authentication-Results: vger.kernel.org; dkim=none (message not signed)
 header.d=none;vger.kernel.org; dmarc=none action=none header.from=silabs.com;
Received: from SN6PR11MB2718.namprd11.prod.outlook.com (2603:10b6:805:63::18)
 by SA0PR11MB4544.namprd11.prod.outlook.com (2603:10b6:806:92::18) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.3933.32; Mon, 15 Mar
 2021 13:25:50 +0000
Received: from SN6PR11MB2718.namprd11.prod.outlook.com
 ([fe80::41bc:5ce:dfa0:9701]) by SN6PR11MB2718.namprd11.prod.outlook.com
 ([fe80::41bc:5ce:dfa0:9701%7]) with mapi id 15.20.3933.032; Mon, 15 Mar 2021
 13:25:50 +0000
From:   Jerome Pouiller <Jerome.Pouiller@silabs.com>
To:     linux-wireless@vger.kernel.org, netdev@vger.kernel.org
Cc:     devel@driverdev.osuosl.org, linux-kernel@vger.kernel.org,
        Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
        Kalle Valo <kvalo@codeaurora.org>,
        "David S . Miller" <davem@davemloft.net>,
        devicetree@vger.kernel.org, Rob Herring <robh+dt@kernel.org>,
        linux-mmc@vger.kernel.org,
        =?UTF-8?q?Pali=20Roh=C3=A1r?= <pali@kernel.org>,
        Ulf Hansson <ulf.hansson@linaro.org>,
        =?UTF-8?q?J=C3=A9r=C3=B4me=20Pouiller?= 
        <jerome.pouiller@silabs.com>
Subject: [PATCH v5 10/24] wfx: add fwio.c/fwio.h
Date:   Mon, 15 Mar 2021 14:24:47 +0100
Message-Id: <20210315132501.441681-11-Jerome.Pouiller@silabs.com>
X-Mailer: git-send-email 2.30.2
In-Reply-To: <20210315132501.441681-1-Jerome.Pouiller@silabs.com>
References: <20210315132501.441681-1-Jerome.Pouiller@silabs.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
X-Originating-IP: [2a01:e35:2435:66a0:544b:f17b:7ae8:fb7]
X-ClientProxiedBy: SN4PR0801CA0014.namprd08.prod.outlook.com
 (2603:10b6:803:29::24) To SN6PR11MB2718.namprd11.prod.outlook.com
 (2603:10b6:805:63::18)
MIME-Version: 1.0
X-MS-Exchange-MessageSentRepresentingType: 1
Received: from pc-42.silabs.com (2a01:e35:2435:66a0:544b:f17b:7ae8:fb7) by SN4PR0801CA0014.namprd08.prod.outlook.com (2603:10b6:803:29::24) with Microsoft SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.3933.32 via Frontend Transport; Mon, 15 Mar 2021 13:25:47 +0000
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: 1b59e4b7-416b-4d28-bc1e-08d8e7b5d977
X-MS-TrafficTypeDiagnostic: SA0PR11MB4544:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <SA0PR11MB45447C05C2877B5DDE0E339B936C9@SA0PR11MB4544.namprd11.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:1122;
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: kBJo+VTyp+R+CJuv7HsPuxDA/2rmwKN4Qo2Xhzz3rjArMyE5jdB3wVwQt+smpxTXq7Llz7s0wBboBKEhHoTN+W1RZVIGuXhlr2tNSbRfwphx1c7/5wpwo3qFwARE5+W0KdB2U3QffglyO4SJKQaNvGyLhSleBQM1xCArpSbtLxJXnpJigUy9DC8ZB7THROgMflcyWOMUeBAbeM02bPrEP+66RDUBI9vqIxnDY2CRvP3qp2QgsWSX7r3qDmfyxlaqHI3UezMpygkPxwpuwJQ7oT+xoM2oIvKSyDkzZ2+CuxrItBsiDGvBRXjjyVqn8B3Nq9JePDhx6NL0hvPIC7rLho3SS5lPKAjEOVPsEJFlXw6rUY911mQ4Wp5EpIZM29YV2ILtOSVRKQnCjaeSCJivRAXH760fRtxYxm9kcaVogv2OlfkmAtUOaPDx9wWMY0+aPOfKDl0Rpk7AbVfEL5sgfHl+BpPWScH5qOQJ54NNFqo9Rrqop0eCzkf+M3vcaKvcLSkEk36ix9sgyF1ZiWQD6Qr5kJTCz7IGETjskTYFgDRIMffHEZymGgz7YPHJvudY
X-Forefront-Antispam-Report: CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:SN6PR11MB2718.namprd11.prod.outlook.com;PTR:;CAT:NONE;SFS:(346002)(396003)(366004)(376002)(39850400004)(136003)(66574015)(8676002)(186003)(52116002)(86362001)(5660300002)(6486002)(7696005)(2906002)(83380400001)(4326008)(66476007)(16526019)(2616005)(30864003)(107886003)(66946007)(8936002)(66556008)(1076003)(478600001)(36756003)(7416002)(316002)(54906003);DIR:OUT;SFP:1101;
X-MS-Exchange-AntiSpam-MessageData: =?utf-8?B?OFVmYy81SnRyUjJQZDR4WW8yYnk1cTJENEsva2NRZHZVVzFNMEoyelZwTUlU?=
 =?utf-8?B?bnRxY096eGVPRHpaYTJrNnBrTHlZd3cyaTlWVVlncmp0U1NvbW9ySWFzeVZM?=
 =?utf-8?B?aitrYjE3NnBSNkxhNFFNcUxjRWJLNnpHOTBZSDVmTmNqemVGRUZ1eWhCOHcz?=
 =?utf-8?B?dWZXV05ubFRrdTdmaFN4NVg1c0pLY2oxWlFFSjI0YmpmZ0R3QzlSQ0hZSkZs?=
 =?utf-8?B?MDhnOE9XRVBvd1N1eSswdmx4Q3ZhTjRRbzNwYWc3TkFLb3JXeU5URWFVdmEr?=
 =?utf-8?B?UWNjeERLaWRQRk45SDJIYTR4WW9icTgrU0FxQmYvbFdPT25vNnlKcnhUeHBl?=
 =?utf-8?B?QXJrQUJxbUc0YUZCeUJNUTM2OU5vOWl5UEdFVkxSZXpzOCtzOEt3bEdRMStj?=
 =?utf-8?B?U0xRZm9XYUNvV1VOZFRJUjV0dWlKSGlEZ3RyMXBuYmZTSDRTWG1ySkJiTklr?=
 =?utf-8?B?aVJGZ1NHdXpTS25vdDE1TkxheFROTFdmeVliWUVIUXk3S0loTFhSdW1PNGJ1?=
 =?utf-8?B?V0t6ak1xSzh3NlFIR1l1RzlrTnNmWXNiSXZsS1NUS1BkcHN6ajZaWnAyZmlw?=
 =?utf-8?B?YUtNbGFoK01zRUl4S2hIaFoyZEZncjlielZCMjZiL1h3bkdmQWZFdkZJMEho?=
 =?utf-8?B?L0ZBaWJEdXMxSEZrdERUSm9aditxamlEVTZxRit2MmJSYjhhMng3c3oyWENu?=
 =?utf-8?B?bmN2b3E4elVaYThOVUp3VEJLTDgvWGRsQk0xMkRzMXJuOWkya1JraytmVXN0?=
 =?utf-8?B?V3AzaloybGJSMnJONWpVYmhlVUVHZjZzT1pBWXR0MlAzOFJhcE0xV0tKVm5q?=
 =?utf-8?B?RkNGck80Y1VYTzQ1VzVRK2hjQXZneC9nZXI4RjlNNmFTY3JBTi9tTStRRVEv?=
 =?utf-8?B?QW53WFZuM3lYQU9ONitaWHBpTjMyTW0wNi9lQTN5L0NsSmlQaTJJOFRaT3ZM?=
 =?utf-8?B?OUZ2NXpJS3ZYUkV1Yms0QXdtamFRVkFtWjhMU3ZPS2dCZnZVMkhVajZmVmdx?=
 =?utf-8?B?UFBvdUtJNkVMbjVMcHJlM21aUzdzOVFGWGR5NTBrZnhCcFVDNkdlQnpIV0wv?=
 =?utf-8?B?ektVWjc3RXVadDJXbHQ0YitGNklQUm5HNVNsSnVZTzBOVmkwSFMxUU9ZTHkr?=
 =?utf-8?B?Vm1UaHJYQzJxU2VKZ0xQVzZNUjB2QnZmSURFL095WkVIWm1Xc2tTMTNkUXhW?=
 =?utf-8?B?eUhxQ1BWdyt3UFloR05oMm1EZ3NTMlQwYmdBNG16NCt4TjhheTVGTkhDcDVR?=
 =?utf-8?B?N0FXdmVENGEvYXVsNzdnZlg5aURCb0VzLzFCc1JRR1U3SXpiaUp5ZVRIOFFy?=
 =?utf-8?B?Wmh3Q3E1Q2svbTlMTnpURlFVTHdsOGpEd1JOTU9Wdlh3L1M1THc5aVQzcXJU?=
 =?utf-8?B?d3RaejVZMDBBUVVDdldMUForb3BhRm9nYkJrdzRvQzZiZEI2OWsrbnlUYkJR?=
 =?utf-8?B?eEtrQS8vS3hHcnFtV0xpTktDVzdLQW45S3VqSW5FbWk3ZGVucGEwa0ZaOVFi?=
 =?utf-8?B?cEhsaTZkc1B2bXdMaVRJN0IyRFRpcUlIOFpJZXZCTG8xQWRpNDNMVkFQdUVq?=
 =?utf-8?B?ZHk3bDRRNVl0WEdEc0M1aDFrM0x0Yi9odzNCaFJCUThIbk5SbHBYbWsvRGp0?=
 =?utf-8?B?aFNRekwzZ3h1VTdYT1lYSjU4NElCVU9sQ2N5WXFZTDRhRUZsT2ZXNlliQzNX?=
 =?utf-8?B?V0NhS3RFc24vN1pRWExUVTJUeWRDWnZDWndjOUJ4eUY2TjJacFlIbzRaSzUv?=
 =?utf-8?B?NkxKaVBFdmlvanlWcjEvc2d5aUpiVUdWSmpxME9xbWQxRWFXUndGclRTdmZr?=
 =?utf-8?B?NEN2aWhVbWJTWnc1WXlkcVhiQi81N1RSelY3cENHRDVYd1RnbEdveURIOXBI?=
 =?utf-8?Q?okRU7zYPCeURL?=
X-OriginatorOrg: silabs.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 1b59e4b7-416b-4d28-bc1e-08d8e7b5d977
X-MS-Exchange-CrossTenant-AuthSource: SN6PR11MB2718.namprd11.prod.outlook.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 15 Mar 2021 13:25:50.0532
 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 54dbd822-5231-4b20-944d-6f4abcd541fb
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: HunEtDfh1ErAR8v/HOMXauJ9p3xE8oMJu/feD+FgxLcSr8GK/QJeK6xoUqg5RwVJNg7yOYSxjXCeULBGXdQPyg==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: SA0PR11MB4544
Precedence: bulk
List-ID: <netdev.vger.kernel.org>
X-Mailing-List: netdev@vger.kernel.org

RnJvbTogSsOpcsO0bWUgUG91aWxsZXIgPGplcm9tZS5wb3VpbGxlckBzaWxhYnMuY29tPgoKU2ln
bmVkLW9mZi1ieTogSsOpcsO0bWUgUG91aWxsZXIgPGplcm9tZS5wb3VpbGxlckBzaWxhYnMuY29t
PgotLS0KIGRyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93ZngvZndpby5jIHwgNDA1ICsrKysr
KysrKysrKysrKysrKysrKysrKysKIGRyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93ZngvZndp
by5oIHwgIDE1ICsKIDIgZmlsZXMgY2hhbmdlZCwgNDIwIGluc2VydGlvbnMoKykKIGNyZWF0ZSBt
b2RlIDEwMDY0NCBkcml2ZXJzL25ldC93aXJlbGVzcy9zaWxhYnMvd2Z4L2Z3aW8uYwogY3JlYXRl
IG1vZGUgMTAwNjQ0IGRyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93ZngvZndpby5oCgpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9uZXQvd2lyZWxlc3Mvc2lsYWJzL3dmeC9md2lvLmMgYi9kcml2ZXJz
L25ldC93aXJlbGVzcy9zaWxhYnMvd2Z4L2Z3aW8uYwpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRl
eCAwMDAwMDAwMDAwMDAuLjNjOGIwYjc4N2Y0MgotLS0gL2Rldi9udWxsCisrKyBiL2RyaXZlcnMv
bmV0L3dpcmVsZXNzL3NpbGFicy93ZngvZndpby5jCkBAIC0wLDAgKzEsNDA1IEBACisvLyBTUERY
LUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5CisvKgorICogRmlybXdhcmUgbG9hZGlu
Zy4KKyAqCisgKiBDb3B5cmlnaHQgKGMpIDIwMTctMjAyMCwgU2lsaWNvbiBMYWJvcmF0b3JpZXMs
IEluYy4KKyAqIENvcHlyaWdodCAoYykgMjAxMCwgU1QtRXJpY3Nzb24KKyAqLworI2luY2x1ZGUg
PGxpbnV4L2Zpcm13YXJlLmg+CisjaW5jbHVkZSA8bGludXgvc2xhYi5oPgorI2luY2x1ZGUgPGxp
bnV4L21tLmg+CisjaW5jbHVkZSA8bGludXgvYml0ZmllbGQuaD4KKworI2luY2x1ZGUgImZ3aW8u
aCIKKyNpbmNsdWRlICJ3ZnguaCIKKyNpbmNsdWRlICJod2lvLmgiCisKKy8qIEFkZHJlc3NlcyBi
ZWxvdyBhcmUgaW4gU1JBTSBhcmVhICovCisjZGVmaW5lIFdGWF9ETkxEX0ZJRk8gICAgICAgICAg
ICAgMHgwOTAwNDAwMAorI2RlZmluZSAgICAgRE5MRF9CTE9DS19TSVpFICAgICAgICAgICAweDA0
MDAKKyNkZWZpbmUgICAgIEROTERfRklGT19TSVpFICAgICAgICAgICAgMHg4MDAwIC8qICgzMiAq
IEROTERfQkxPQ0tfU0laRSkgKi8KKy8qIERvd25sb2FkIENvbnRyb2wgQXJlYSAoRENBKSAqLwor
I2RlZmluZSBXRlhfRENBX0lNQUdFX1NJWkUgICAgICAgIDB4MDkwMEMwMDAKKyNkZWZpbmUgV0ZY
X0RDQV9QVVQgICAgICAgICAgICAgICAweDA5MDBDMDA0CisjZGVmaW5lIFdGWF9EQ0FfR0VUICAg
ICAgICAgICAgICAgMHgwOTAwQzAwOAorI2RlZmluZSBXRlhfRENBX0hPU1RfU1RBVFVTICAgICAg
IDB4MDkwMEMwMEMKKyNkZWZpbmUgICAgIEhPU1RfUkVBRFkgICAgICAgICAgICAgICAgMHg4NzY1
NDMyMQorI2RlZmluZSAgICAgSE9TVF9JTkZPX1JFQUQgICAgICAgICAgICAweEE3NTNCRDk5Cisj
ZGVmaW5lICAgICBIT1NUX1VQTE9BRF9QRU5ESU5HICAgICAgIDB4QUJDRERDQkEKKyNkZWZpbmUg
ICAgIEhPU1RfVVBMT0FEX0NPTVBMRVRFICAgICAgMHhENEM2NEE5OQorI2RlZmluZSAgICAgSE9T
VF9PS19UT19KVU1QICAgICAgICAgICAweDE3NEZDODgyCisjZGVmaW5lIFdGWF9EQ0FfTkNQX1NU
QVRVUyAgICAgICAgMHgwOTAwQzAxMAorI2RlZmluZSAgICAgTkNQX05PVF9SRUFEWSAgICAgICAg
ICAgICAweDEyMzQ1Njc4CisjZGVmaW5lICAgICBOQ1BfUkVBRFkgICAgICAgICAgICAgICAgIDB4
ODc2NTQzMjEKKyNkZWZpbmUgICAgIE5DUF9JTkZPX1JFQURZICAgICAgICAgICAgMHhCRDUzRUY5
OQorI2RlZmluZSAgICAgTkNQX0RPV05MT0FEX1BFTkRJTkcgICAgICAweEFCQ0REQ0JBCisjZGVm
aW5lICAgICBOQ1BfRE9XTkxPQURfQ09NUExFVEUgICAgIDB4Q0FGRUZFQ0EKKyNkZWZpbmUgICAg
IE5DUF9BVVRIX09LICAgICAgICAgICAgICAgMHhENEM2NEE5OQorI2RlZmluZSAgICAgTkNQX0FV
VEhfRkFJTCAgICAgICAgICAgICAweDE3NEZDODgyCisjZGVmaW5lICAgICBOQ1BfUFVCX0tFWV9S
RFkgICAgICAgICAgIDB4N0FCNDFEMTkKKyNkZWZpbmUgV0ZYX0RDQV9GV19TSUdOQVRVUkUgICAg
ICAweDA5MDBDMDE0CisjZGVmaW5lICAgICBGV19TSUdOQVRVUkVfU0laRSAgICAgICAgIDB4NDAK
KyNkZWZpbmUgV0ZYX0RDQV9GV19IQVNIICAgICAgICAgICAweDA5MDBDMDU0CisjZGVmaW5lICAg
ICBGV19IQVNIX1NJWkUgICAgICAgICAgICAgIDB4MDgKKyNkZWZpbmUgV0ZYX0RDQV9GV19WRVJT
SU9OICAgICAgICAweDA5MDBDMDVDCisjZGVmaW5lICAgICBGV19WRVJTSU9OX1NJWkUgICAgICAg
ICAgIDB4MDQKKyNkZWZpbmUgV0ZYX0RDQV9SRVNFUlZFRCAgICAgICAgICAweDA5MDBDMDYwCisj
ZGVmaW5lICAgICBEQ0FfUkVTRVJWRURfU0laRSAgICAgICAgIDB4MjAKKyNkZWZpbmUgV0ZYX1NU
QVRVU19JTkZPICAgICAgICAgICAweDA5MDBDMDgwCisjZGVmaW5lIFdGWF9CT09UTE9BREVSX0xB
QkVMICAgICAgMHgwOTAwQzA4NAorI2RlZmluZSAgICAgQk9PVExPQURFUl9MQUJFTF9TSVpFICAg
ICAweDNDCisjZGVmaW5lIFdGWF9QVEVfSU5GTyAgICAgICAgICAgICAgMHgwOTAwQzBDMAorI2Rl
ZmluZSAgICAgUFRFX0lORk9fS0VZU0VUX0lEWCAgICAgICAweDBECisjZGVmaW5lICAgICBQVEVf
SU5GT19TSVpFICAgICAgICAgICAgIDB4MTAKKyNkZWZpbmUgV0ZYX0VSUl9JTkZPICAgICAgICAg
ICAgICAweDA5MDBDMEQwCisjZGVmaW5lICAgICBFUlJfSU5WQUxJRF9TRUNfVFlQRSAgICAgIDB4
MDUKKyNkZWZpbmUgICAgIEVSUl9TSUdfVkVSSUZfRkFJTEVEICAgICAgMHgwRgorI2RlZmluZSAg
ICAgRVJSX0FFU19DVFJMX0tFWSAgICAgICAgICAweDEwCisjZGVmaW5lICAgICBFUlJfRUNDX1BV
Ql9LRVkgICAgICAgICAgIDB4MTEKKyNkZWZpbmUgICAgIEVSUl9NQUNfS0VZICAgICAgICAgICAg
ICAgMHgxOAorCisjZGVmaW5lIERDQV9USU1FT1VUICA1MCAvKiBtaWxsaXNlY29uZHMgKi8KKyNk
ZWZpbmUgV0FLRVVQX1RJTUVPVVQgMjAwIC8qIG1pbGxpc2Vjb25kcyAqLworCitzdGF0aWMgY29u
c3QgY2hhciAqIGNvbnN0IGZ3aW9fZXJyb3JzW10gPSB7CisJW0VSUl9JTlZBTElEX1NFQ19UWVBF
XSA9ICJJbnZhbGlkIHNlY3Rpb24gdHlwZSBvciB3cm9uZyBlbmNyeXB0aW9uIiwKKwlbRVJSX1NJ
R19WRVJJRl9GQUlMRURdID0gIlNpZ25hdHVyZSB2ZXJpZmljYXRpb24gZmFpbGVkIiwKKwlbRVJS
X0FFU19DVFJMX0tFWV0gPSAiQUVTIGNvbnRyb2wga2V5IG5vdCBpbml0aWFsaXplZCIsCisJW0VS
Ul9FQ0NfUFVCX0tFWV0gPSAiRUNDIHB1YmxpYyBrZXkgbm90IGluaXRpYWxpemVkIiwKKwlbRVJS
X01BQ19LRVldID0gIk1BQyBrZXkgbm90IGluaXRpYWxpemVkIiwKK307CisKKy8qIHJlcXVlc3Rf
ZmlybXdhcmUoKSBhbGxvY2F0ZSBkYXRhIHVzaW5nIHZtYWxsb2MoKS4gSXQgaXMgbm90IGNvbXBh
dGlibGUgd2l0aAorICogdW5kZXJseWluZyBoYXJkd2FyZSB0aGF0IHVzZSBETUEuIEZ1bmN0aW9u
IGJlbG93IGRldGVjdCB0aGlzIGNhc2UgYW5kCisgKiBhbGxvY2F0ZSBhIGJvdW5jZSBidWZmZXIg
aWYgbmVjZXNzYXJ5LgorICoKKyAqIE5vdGljZSB0aGF0LCBpbiBkb3VidCwgeW91IGNhbiBlbmFi
bGUgQ09ORklHX0RFQlVHX1NHIHRvIGFzayBrZXJuZWwgdG8KKyAqIGRldGVjdCB0aGlzIHByb2Js
ZW0gYXQgcnVudGltZSAgKGVsc2UsIGtlcm5lbCBzaWxlbnRseSBmYWlsKS4KKyAqCisgKiBOT1RF
OiBpdCBtYXkgYWxzbyBiZSBwb3NzaWJsZSB0byB1c2UgJ3BhZ2VzJyBmcm9tIHN0cnVjdCBmaXJt
d2FyZSBhbmQgYXZvaWQKKyAqIGJvdW5jZSBidWZmZXIKKyAqLworc3RhdGljIGludCBzcmFtX3dy
aXRlX2RtYV9zYWZlKHN0cnVjdCB3ZnhfZGV2ICp3ZGV2LCB1MzIgYWRkciwgY29uc3QgdTggKmJ1
ZiwKKwkJCSAgICAgICBzaXplX3QgbGVuKQoreworCWludCByZXQ7CisJY29uc3QgdTggKnRtcDsK
KworCWlmICghdmlydF9hZGRyX3ZhbGlkKGJ1ZikpIHsKKwkJdG1wID0ga21lbWR1cChidWYsIGxl
biwgR0ZQX0tFUk5FTCk7CisJCWlmICghdG1wKQorCQkJcmV0dXJuIC1FTk9NRU07CisJfSBlbHNl
IHsKKwkJdG1wID0gYnVmOworCX0KKwlyZXQgPSBzcmFtX2J1Zl93cml0ZSh3ZGV2LCBhZGRyLCB0
bXAsIGxlbik7CisJaWYgKHRtcCAhPSBidWYpCisJCWtmcmVlKHRtcCk7CisJcmV0dXJuIHJldDsK
K30KKworc3RhdGljIGludCBnZXRfZmlybXdhcmUoc3RydWN0IHdmeF9kZXYgKndkZXYsIHUzMiBr
ZXlzZXRfY2hpcCwKKwkJCWNvbnN0IHN0cnVjdCBmaXJtd2FyZSAqKmZ3LCBpbnQgKmZpbGVfb2Zm
c2V0KQoreworCWludCBrZXlzZXRfZmlsZTsKKwljaGFyIGZpbGVuYW1lWzI1Nl07CisJY29uc3Qg
Y2hhciAqZGF0YTsKKwlpbnQgcmV0OworCisJc25wcmludGYoZmlsZW5hbWUsIHNpemVvZihmaWxl
bmFtZSksICIlc18lMDJYLnNlYyIsCisJCSB3ZGV2LT5wZGF0YS5maWxlX2Z3LCBrZXlzZXRfY2hp
cCk7CisJcmV0ID0gZmlybXdhcmVfcmVxdWVzdF9ub3dhcm4oZncsIGZpbGVuYW1lLCB3ZGV2LT5k
ZXYpOworCWlmIChyZXQpIHsKKwkJZGV2X2luZm8od2Rldi0+ZGV2LCAiY2FuJ3QgbG9hZCAlcywg
ZmFsbGluZyBiYWNrIHRvICVzLnNlY1xuIiwKKwkJCSBmaWxlbmFtZSwgd2Rldi0+cGRhdGEuZmls
ZV9mdyk7CisJCXNucHJpbnRmKGZpbGVuYW1lLCBzaXplb2YoZmlsZW5hbWUpLCAiJXMuc2VjIiwK
KwkJCSB3ZGV2LT5wZGF0YS5maWxlX2Z3KTsKKwkJcmV0ID0gcmVxdWVzdF9maXJtd2FyZShmdywg
ZmlsZW5hbWUsIHdkZXYtPmRldik7CisJCWlmIChyZXQpIHsKKwkJCWRldl9lcnIod2Rldi0+ZGV2
LCAiY2FuJ3QgbG9hZCAlc1xuIiwgZmlsZW5hbWUpOworCQkJKmZ3ID0gTlVMTDsKKwkJCXJldHVy
biByZXQ7CisJCX0KKwl9CisKKwlkYXRhID0gKCpmdyktPmRhdGE7CisJaWYgKG1lbWNtcChkYXRh
LCAiS0VZU0VUIiwgNikgIT0gMCkgeworCQkvKiBMZWdhY3kgZmlybXdhcmUgZm9ybWF0ICovCisJ
CSpmaWxlX29mZnNldCA9IDA7CisJCWtleXNldF9maWxlID0gMHg5MDsKKwl9IGVsc2UgeworCQkq
ZmlsZV9vZmZzZXQgPSA4OworCQlrZXlzZXRfZmlsZSA9IChoZXhfdG9fYmluKGRhdGFbNl0pICog
MTYpIHwgaGV4X3RvX2JpbihkYXRhWzddKTsKKwkJaWYgKGtleXNldF9maWxlIDwgMCkgeworCQkJ
ZGV2X2Vycih3ZGV2LT5kZXYsICIlcyBjb3JydXB0ZWRcbiIsIGZpbGVuYW1lKTsKKwkJCXJlbGVh
c2VfZmlybXdhcmUoKmZ3KTsKKwkJCSpmdyA9IE5VTEw7CisJCQlyZXR1cm4gLUVJTlZBTDsKKwkJ
fQorCX0KKwlpZiAoa2V5c2V0X2ZpbGUgIT0ga2V5c2V0X2NoaXApIHsKKwkJZGV2X2Vycih3ZGV2
LT5kZXYsICJmaXJtd2FyZSBrZXlzZXQgaXMgaW5jb21wYXRpYmxlIHdpdGggY2hpcCAoZmlsZTog
MHglMDJYLCBjaGlwOiAweCUwMlgpXG4iLAorCQkJa2V5c2V0X2ZpbGUsIGtleXNldF9jaGlwKTsK
KwkJcmVsZWFzZV9maXJtd2FyZSgqZncpOworCQkqZncgPSBOVUxMOworCQlyZXR1cm4gLUVOT0RF
VjsKKwl9CisJd2Rldi0+a2V5c2V0ID0ga2V5c2V0X2ZpbGU7CisJcmV0dXJuIDA7Cit9CisKK3N0
YXRpYyBpbnQgd2FpdF9uY3Bfc3RhdHVzKHN0cnVjdCB3ZnhfZGV2ICp3ZGV2LCB1MzIgc3RhdHVz
KQoreworCWt0aW1lX3Qgbm93LCBzdGFydDsKKwl1MzIgcmVnOworCWludCByZXQ7CisKKwlzdGFy
dCA9IGt0aW1lX2dldCgpOworCWZvciAoOzspIHsKKwkJcmV0ID0gc3JhbV9yZWdfcmVhZCh3ZGV2
LCBXRlhfRENBX05DUF9TVEFUVVMsICZyZWcpOworCQlpZiAocmV0IDwgMCkKKwkJCXJldHVybiAt
RUlPOworCQlub3cgPSBrdGltZV9nZXQoKTsKKwkJaWYgKHJlZyA9PSBzdGF0dXMpCisJCQlicmVh
azsKKwkJaWYgKGt0aW1lX2FmdGVyKG5vdywga3RpbWVfYWRkX21zKHN0YXJ0LCBEQ0FfVElNRU9V
VCkpKQorCQkJcmV0dXJuIC1FVElNRURPVVQ7CisJfQorCWlmIChrdGltZV9jb21wYXJlKG5vdywg
c3RhcnQpKQorCQlkZXZfZGJnKHdkZXYtPmRldiwgImNoaXAgYW5zd2VyIGFmdGVyICVsbGR1c1xu
IiwKKwkJCWt0aW1lX3VzX2RlbHRhKG5vdywgc3RhcnQpKTsKKwllbHNlCisJCWRldl9kYmcod2Rl
di0+ZGV2LCAiY2hpcCBhbnN3ZXIgaW1tZWRpYXRlbHlcbiIpOworCXJldHVybiAwOworfQorCitz
dGF0aWMgaW50IHVwbG9hZF9maXJtd2FyZShzdHJ1Y3Qgd2Z4X2RldiAqd2RldiwgY29uc3QgdTgg
KmRhdGEsIHNpemVfdCBsZW4pCit7CisJaW50IHJldDsKKwl1MzIgb2ZmcywgYnl0ZXNfZG9uZSA9
IDA7CisJa3RpbWVfdCBub3csIHN0YXJ0OworCisJaWYgKGxlbiAlIEROTERfQkxPQ0tfU0laRSkg
eworCQlkZXZfZXJyKHdkZXYtPmRldiwgImZpcm13YXJlIHNpemUgaXMgbm90IGFsaWduZWQuIEJ1
ZmZlciBvdmVycnVuIHdpbGwgb2NjdXJcbiIpOworCQlyZXR1cm4gLUVJTzsKKwl9CisJb2ZmcyA9
IDA7CisJd2hpbGUgKG9mZnMgPCBsZW4pIHsKKwkJc3RhcnQgPSBrdGltZV9nZXQoKTsKKwkJZm9y
ICg7OykgeworCQkJbm93ID0ga3RpbWVfZ2V0KCk7CisJCQlpZiAob2ZmcyArIEROTERfQkxPQ0tf
U0laRSAtIGJ5dGVzX2RvbmUgPCBETkxEX0ZJRk9fU0laRSkKKwkJCQlicmVhazsKKwkJCWlmIChr
dGltZV9hZnRlcihub3csIGt0aW1lX2FkZF9tcyhzdGFydCwgRENBX1RJTUVPVVQpKSkKKwkJCQly
ZXR1cm4gLUVUSU1FRE9VVDsKKwkJCXJldCA9IHNyYW1fcmVnX3JlYWQod2RldiwgV0ZYX0RDQV9H
RVQsICZieXRlc19kb25lKTsKKwkJCWlmIChyZXQgPCAwKQorCQkJCXJldHVybiByZXQ7CisJCX0K
KwkJaWYgKGt0aW1lX2NvbXBhcmUobm93LCBzdGFydCkpCisJCQlkZXZfZGJnKHdkZXYtPmRldiwg
ImFuc3dlciBhZnRlciAlbGxkdXNcbiIsCisJCQkJa3RpbWVfdXNfZGVsdGEobm93LCBzdGFydCkp
OworCisJCXJldCA9IHNyYW1fd3JpdGVfZG1hX3NhZmUod2RldiwgV0ZYX0ROTERfRklGTyArCisJ
CQkJCSAgKG9mZnMgJSBETkxEX0ZJRk9fU0laRSksCisJCQkJCSAgZGF0YSArIG9mZnMsIEROTERf
QkxPQ0tfU0laRSk7CisJCWlmIChyZXQgPCAwKQorCQkJcmV0dXJuIHJldDsKKworCQkvKiBXRngg
c2VlbXMgdG8gbm90IHN1cHBvcnQgd3JpdGluZyAwIGluIHRoaXMgcmVnaXN0ZXIgZHVyaW5nCisJ
CSAqIGZpcnN0IGxvb3AKKwkJICovCisJCW9mZnMgKz0gRE5MRF9CTE9DS19TSVpFOworCQlyZXQg
PSBzcmFtX3JlZ193cml0ZSh3ZGV2LCBXRlhfRENBX1BVVCwgb2Zmcyk7CisJCWlmIChyZXQgPCAw
KQorCQkJcmV0dXJuIHJldDsKKwl9CisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyB2b2lkIHByaW50
X2Jvb3Rfc3RhdHVzKHN0cnVjdCB3ZnhfZGV2ICp3ZGV2KQoreworCXUzMiByZWc7CisKKwlzcmFt
X3JlZ19yZWFkKHdkZXYsIFdGWF9TVEFUVVNfSU5GTywgJnJlZyk7CisJaWYgKHJlZyA9PSAweDEy
MzQ1Njc4KQorCQlyZXR1cm47CisJc3JhbV9yZWdfcmVhZCh3ZGV2LCBXRlhfRVJSX0lORk8sICZy
ZWcpOworCWlmIChyZWcgPCBBUlJBWV9TSVpFKGZ3aW9fZXJyb3JzKSAmJiBmd2lvX2Vycm9yc1ty
ZWddKQorCQlkZXZfaW5mbyh3ZGV2LT5kZXYsICJzZWN1cmUgYm9vdDogJXNcbiIsIGZ3aW9fZXJy
b3JzW3JlZ10pOworCWVsc2UKKwkJZGV2X2luZm8od2Rldi0+ZGV2LCAic2VjdXJlIGJvb3Q6IEVy
cm9yICUjMDJ4XG4iLCByZWcpOworfQorCitzdGF0aWMgaW50IGxvYWRfZmlybXdhcmVfc2VjdXJl
KHN0cnVjdCB3ZnhfZGV2ICp3ZGV2KQoreworCWNvbnN0IHN0cnVjdCBmaXJtd2FyZSAqZncgPSBO
VUxMOworCWludCBoZWFkZXJfc2l6ZTsKKwlpbnQgZndfb2Zmc2V0OworCWt0aW1lX3Qgc3RhcnQ7
CisJdTggKmJ1ZjsKKwlpbnQgcmV0OworCisJQlVJTERfQlVHX09OKFBURV9JTkZPX1NJWkUgPiBC
T09UTE9BREVSX0xBQkVMX1NJWkUpOworCWJ1ZiA9IGttYWxsb2MoQk9PVExPQURFUl9MQUJFTF9T
SVpFICsgMSwgR0ZQX0tFUk5FTCk7CisJaWYgKCFidWYpCisJCXJldHVybiAtRU5PTUVNOworCisJ
c3JhbV9yZWdfd3JpdGUod2RldiwgV0ZYX0RDQV9IT1NUX1NUQVRVUywgSE9TVF9SRUFEWSk7CisJ
cmV0ID0gd2FpdF9uY3Bfc3RhdHVzKHdkZXYsIE5DUF9JTkZPX1JFQURZKTsKKwlpZiAocmV0KQor
CQlnb3RvIGVycm9yOworCisJc3JhbV9idWZfcmVhZCh3ZGV2LCBXRlhfQk9PVExPQURFUl9MQUJF
TCwgYnVmLCBCT09UTE9BREVSX0xBQkVMX1NJWkUpOworCWJ1ZltCT09UTE9BREVSX0xBQkVMX1NJ
WkVdID0gMDsKKwlkZXZfZGJnKHdkZXYtPmRldiwgImJvb3Rsb2FkZXI6IFwiJXNcIlxuIiwgYnVm
KTsKKworCXNyYW1fYnVmX3JlYWQod2RldiwgV0ZYX1BURV9JTkZPLCBidWYsIFBURV9JTkZPX1NJ
WkUpOworCXJldCA9IGdldF9maXJtd2FyZSh3ZGV2LCBidWZbUFRFX0lORk9fS0VZU0VUX0lEWF0s
ICZmdywgJmZ3X29mZnNldCk7CisJaWYgKHJldCkKKwkJZ290byBlcnJvcjsKKwloZWFkZXJfc2l6
ZSA9IGZ3X29mZnNldCArIEZXX1NJR05BVFVSRV9TSVpFICsgRldfSEFTSF9TSVpFOworCisJc3Jh
bV9yZWdfd3JpdGUod2RldiwgV0ZYX0RDQV9IT1NUX1NUQVRVUywgSE9TVF9JTkZPX1JFQUQpOwor
CXJldCA9IHdhaXRfbmNwX3N0YXR1cyh3ZGV2LCBOQ1BfUkVBRFkpOworCWlmIChyZXQpCisJCWdv
dG8gZXJyb3I7CisKKwlzcmFtX3JlZ193cml0ZSh3ZGV2LCBXRlhfRE5MRF9GSUZPLCAweEZGRkZG
RkZGKTsgLyogRmlmbyBpbml0ICovCisJc3JhbV93cml0ZV9kbWFfc2FmZSh3ZGV2LCBXRlhfRENB
X0ZXX1ZFUlNJT04sICJceDAxXHgwMFx4MDBceDAwIiwKKwkJCSAgICBGV19WRVJTSU9OX1NJWkUp
OworCXNyYW1fd3JpdGVfZG1hX3NhZmUod2RldiwgV0ZYX0RDQV9GV19TSUdOQVRVUkUsIGZ3LT5k
YXRhICsgZndfb2Zmc2V0LAorCQkJICAgIEZXX1NJR05BVFVSRV9TSVpFKTsKKwlzcmFtX3dyaXRl
X2RtYV9zYWZlKHdkZXYsIFdGWF9EQ0FfRldfSEFTSCwKKwkJCSAgICBmdy0+ZGF0YSArIGZ3X29m
ZnNldCArIEZXX1NJR05BVFVSRV9TSVpFLAorCQkJICAgIEZXX0hBU0hfU0laRSk7CisJc3JhbV9y
ZWdfd3JpdGUod2RldiwgV0ZYX0RDQV9JTUFHRV9TSVpFLCBmdy0+c2l6ZSAtIGhlYWRlcl9zaXpl
KTsKKwlzcmFtX3JlZ193cml0ZSh3ZGV2LCBXRlhfRENBX0hPU1RfU1RBVFVTLCBIT1NUX1VQTE9B
RF9QRU5ESU5HKTsKKwlyZXQgPSB3YWl0X25jcF9zdGF0dXMod2RldiwgTkNQX0RPV05MT0FEX1BF
TkRJTkcpOworCWlmIChyZXQpCisJCWdvdG8gZXJyb3I7CisKKwlzdGFydCA9IGt0aW1lX2dldCgp
OworCXJldCA9IHVwbG9hZF9maXJtd2FyZSh3ZGV2LCBmdy0+ZGF0YSArIGhlYWRlcl9zaXplLAor
CQkJICAgICAgZnctPnNpemUgLSBoZWFkZXJfc2l6ZSk7CisJaWYgKHJldCkKKwkJZ290byBlcnJv
cjsKKwlkZXZfZGJnKHdkZXYtPmRldiwgImZpcm13YXJlIGxvYWQgYWZ0ZXIgJWxsZHVzXG4iLAor
CQlrdGltZV91c19kZWx0YShrdGltZV9nZXQoKSwgc3RhcnQpKTsKKworCXNyYW1fcmVnX3dyaXRl
KHdkZXYsIFdGWF9EQ0FfSE9TVF9TVEFUVVMsIEhPU1RfVVBMT0FEX0NPTVBMRVRFKTsKKwlyZXQg
PSB3YWl0X25jcF9zdGF0dXMod2RldiwgTkNQX0FVVEhfT0spOworCS8qIExlZ2FjeSBST00gc3Vw
cG9ydCAqLworCWlmIChyZXQgPCAwKQorCQlyZXQgPSB3YWl0X25jcF9zdGF0dXMod2RldiwgTkNQ
X1BVQl9LRVlfUkRZKTsKKwlpZiAocmV0IDwgMCkKKwkJZ290byBlcnJvcjsKKwlzcmFtX3JlZ193
cml0ZSh3ZGV2LCBXRlhfRENBX0hPU1RfU1RBVFVTLCBIT1NUX09LX1RPX0pVTVApOworCitlcnJv
cjoKKwlrZnJlZShidWYpOworCWlmIChmdykKKwkJcmVsZWFzZV9maXJtd2FyZShmdyk7CisJaWYg
KHJldCkKKwkJcHJpbnRfYm9vdF9zdGF0dXMod2Rldik7CisJcmV0dXJuIHJldDsKK30KKworc3Rh
dGljIGludCBpbml0X2dwcihzdHJ1Y3Qgd2Z4X2RldiAqd2RldikKK3sKKwlpbnQgcmV0LCBpOwor
CXN0YXRpYyBjb25zdCBzdHJ1Y3QgeworCQlpbnQgaW5kZXg7CisJCXUzMiB2YWx1ZTsKKwl9IGdw
cl9pbml0W10gPSB7CisJCXsgMHgwNywgMHgyMDg3NzUgfSwKKwkJeyAweDA4LCAweDJFQzAyMCB9
LAorCQl7IDB4MDksIDB4M0MzQzNDIH0sCisJCXsgMHgwQiwgMHgzMjJDNDQgfSwKKwkJeyAweDBD
LCAweEEwNjQ5NyB9LAorCX07CisKKwlmb3IgKGkgPSAwOyBpIDwgQVJSQVlfU0laRShncHJfaW5p
dCk7IGkrKykgeworCQlyZXQgPSBpZ3ByX3JlZ193cml0ZSh3ZGV2LCBncHJfaW5pdFtpXS5pbmRl
eCwKKwkJCQkgICAgIGdwcl9pbml0W2ldLnZhbHVlKTsKKwkJaWYgKHJldCA8IDApCisJCQlyZXR1
cm4gcmV0OworCQlkZXZfZGJnKHdkZXYtPmRldiwgIiAgaW5kZXggJTAyeDogJTA4eFxuIiwKKwkJ
CWdwcl9pbml0W2ldLmluZGV4LCBncHJfaW5pdFtpXS52YWx1ZSk7CisJfQorCXJldHVybiAwOwor
fQorCitpbnQgd2Z4X2luaXRfZGV2aWNlKHN0cnVjdCB3ZnhfZGV2ICp3ZGV2KQoreworCWludCBy
ZXQ7CisJaW50IGh3X3JldmlzaW9uLCBod190eXBlOworCWludCB3YWtldXBfdGltZW91dCA9IDUw
OyAvKiBtcyAqLworCWt0aW1lX3Qgbm93LCBzdGFydDsKKwl1MzIgcmVnOworCisJcmVnID0gQ0ZH
X0RJUkVDVF9BQ0NFU1NfTU9ERSB8IENGR19DUFVfUkVTRVQgfCBDRkdfQllURV9PUkRFUl9BQkNE
OworCWlmICh3ZGV2LT5wZGF0YS51c2VfcmlzaW5nX2NsaykKKwkJcmVnIHw9IENGR19DTEtfUklT
RV9FREdFOworCXJldCA9IGNvbmZpZ19yZWdfd3JpdGUod2RldiwgcmVnKTsKKwlpZiAocmV0IDwg
MCkgeworCQlkZXZfZXJyKHdkZXYtPmRldiwgImJ1cyByZXR1cm5lZCBhbiBlcnJvciBkdXJpbmcg
Zmlyc3Qgd3JpdGUgYWNjZXNzLiBIb3N0IGNvbmZpZ3VyYXRpb24gZXJyb3I/XG4iKTsKKwkJcmV0
dXJuIC1FSU87CisJfQorCisJcmV0ID0gY29uZmlnX3JlZ19yZWFkKHdkZXYsICZyZWcpOworCWlm
IChyZXQgPCAwKSB7CisJCWRldl9lcnIod2Rldi0+ZGV2LCAiYnVzIHJldHVybmVkIGFuIGVycm9y
IGR1cmluZyBmaXJzdCByZWFkIGFjY2Vzcy4gQnVzIGNvbmZpZ3VyYXRpb24gZXJyb3I/XG4iKTsK
KwkJcmV0dXJuIC1FSU87CisJfQorCWlmIChyZWcgPT0gMCB8fCByZWcgPT0gfjApIHsKKwkJZGV2
X2Vycih3ZGV2LT5kZXYsICJjaGlwIG11dGUuIEJ1cyBjb25maWd1cmF0aW9uIGVycm9yIG9yIGNo
aXAgd2Fzbid0IHJlc2V0P1xuIik7CisJCXJldHVybiAtRUlPOworCX0KKwlkZXZfZGJnKHdkZXYt
PmRldiwgImluaXRpYWwgY29uZmlnIHJlZ2lzdGVyIHZhbHVlOiAlMDh4XG4iLCByZWcpOworCisJ
aHdfcmV2aXNpb24gPSBGSUVMRF9HRVQoQ0ZHX0RFVklDRV9JRF9NQUpPUiwgcmVnKTsKKwlpZiAo
aHdfcmV2aXNpb24gPT0gMCkgeworCQlkZXZfZXJyKHdkZXYtPmRldiwgImJhZCBoYXJkd2FyZSBy
ZXZpc2lvbiBudW1iZXI6ICVkXG4iLAorCQkJaHdfcmV2aXNpb24pOworCQlyZXR1cm4gLUVOT0RF
VjsKKwl9CisJaHdfdHlwZSA9IEZJRUxEX0dFVChDRkdfREVWSUNFX0lEX1RZUEUsIHJlZyk7CisJ
aWYgKGh3X3R5cGUgPT0gMSkgeworCQlkZXZfbm90aWNlKHdkZXYtPmRldiwgImRldmVsb3BtZW50
IGhhcmR3YXJlIGRldGVjdGVkXG4iKTsKKwkJd2FrZXVwX3RpbWVvdXQgPSAyMDAwOworCX0KKwor
CXJldCA9IGluaXRfZ3ByKHdkZXYpOworCWlmIChyZXQgPCAwKQorCQlyZXR1cm4gcmV0OworCisJ
cmV0ID0gY29udHJvbF9yZWdfd3JpdGUod2RldiwgQ1RSTF9XTEFOX1dBS0VVUCk7CisJaWYgKHJl
dCA8IDApCisJCXJldHVybiAtRUlPOworCXN0YXJ0ID0ga3RpbWVfZ2V0KCk7CisJZm9yICg7Oykg
eworCQlyZXQgPSBjb250cm9sX3JlZ19yZWFkKHdkZXYsICZyZWcpOworCQlub3cgPSBrdGltZV9n
ZXQoKTsKKwkJaWYgKHJlZyAmIENUUkxfV0xBTl9SRUFEWSkKKwkJCWJyZWFrOworCQlpZiAoa3Rp
bWVfYWZ0ZXIobm93LCBrdGltZV9hZGRfbXMoc3RhcnQsIHdha2V1cF90aW1lb3V0KSkpIHsKKwkJ
CWRldl9lcnIod2Rldi0+ZGV2LCAiY2hpcCBkaWRuJ3Qgd2FrZSB1cC4gQ2hpcCB3YXNuJ3QgcmVz
ZXQ/XG4iKTsKKwkJCXJldHVybiAtRVRJTUVET1VUOworCQl9CisJfQorCWRldl9kYmcod2Rldi0+
ZGV2LCAiY2hpcCB3YWtlIHVwIGFmdGVyICVsbGR1c1xuIiwKKwkJa3RpbWVfdXNfZGVsdGEobm93
LCBzdGFydCkpOworCisJcmV0ID0gY29uZmlnX3JlZ193cml0ZV9iaXRzKHdkZXYsIENGR19DUFVf
UkVTRVQsIDApOworCWlmIChyZXQgPCAwKQorCQlyZXR1cm4gcmV0OworCXJldCA9IGxvYWRfZmly
bXdhcmVfc2VjdXJlKHdkZXYpOworCWlmIChyZXQgPCAwKQorCQlyZXR1cm4gcmV0OworCXJldHVy
biBjb25maWdfcmVnX3dyaXRlX2JpdHMod2RldiwKKwkJCQkgICAgIENGR19ESVJFQ1RfQUNDRVNT
X01PREUgfAorCQkJCSAgICAgQ0ZHX0lSUV9FTkFCTEVfREFUQSB8CisJCQkJICAgICBDRkdfSVJR
X0VOQUJMRV9XUkRZLAorCQkJCSAgICAgQ0ZHX0lSUV9FTkFCTEVfREFUQSk7Cit9CmRpZmYgLS1n
aXQgYS9kcml2ZXJzL25ldC93aXJlbGVzcy9zaWxhYnMvd2Z4L2Z3aW8uaCBiL2RyaXZlcnMvbmV0
L3dpcmVsZXNzL3NpbGFicy93ZngvZndpby5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAw
MDAwMDAwMDAwMC4uZWVlYTYxMjEwZWNhCi0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9uZXQv
d2lyZWxlc3Mvc2lsYWJzL3dmeC9md2lvLmgKQEAgLTAsMCArMSwxNSBAQAorLyogU1BEWC1MaWNl
bnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb25seSAqLworLyoKKyAqIEZpcm13YXJlIGxvYWRpbmcu
CisgKgorICogQ29weXJpZ2h0IChjKSAyMDE3LTIwMTksIFNpbGljb24gTGFib3JhdG9yaWVzLCBJ
bmMuCisgKiBDb3B5cmlnaHQgKGMpIDIwMTAsIFNULUVyaWNzc29uCisgKi8KKyNpZm5kZWYgV0ZY
X0ZXSU9fSAorI2RlZmluZSBXRlhfRldJT19ICisKK3N0cnVjdCB3ZnhfZGV2OworCitpbnQgd2Z4
X2luaXRfZGV2aWNlKHN0cnVjdCB3ZnhfZGV2ICp3ZGV2KTsKKworI2VuZGlmCi0tIAoyLjMwLjIK
Cg==
