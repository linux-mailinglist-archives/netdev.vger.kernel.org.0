Return-Path: <netdev-owner@vger.kernel.org>
X-Original-To: lists+netdev@lfdr.de
Delivered-To: lists+netdev@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id E0EFF3CCDDE
	for <lists+netdev@lfdr.de>; Mon, 19 Jul 2021 08:26:10 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S234370AbhGSG2x (ORCPT <rfc822;lists+netdev@lfdr.de>);
        Mon, 19 Jul 2021 02:28:53 -0400
Received: from mail-am6eur05on2092.outbound.protection.outlook.com ([40.107.22.92]:52480
        "EHLO EUR05-AM6-obe.outbound.protection.outlook.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S233580AbhGSG2u (ORCPT <rfc822;netdev@vger.kernel.org>);
        Mon, 19 Jul 2021 02:28:50 -0400
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=VJFeoe4r1KcGJVxS5/fCb8XtDb/UxDvB1MxVr83LRNnzsiyGU0S93uTqCyrGsp+Kk/kD+PWuiiGX4m2wzNb/di618UpVWLhI1JucrHcSIA8lGZ+05fkzt9weNicjUS+uSCNc6IZVCyZYi58Dhjjt/fmnXJAHflUneOKWL1259yFW34COH9Ep0NASTFZrRqGaXZbXSx9qOnf7eUhj6fi0CBKO+dVKmUSnq1+7+39Krb+gA7TPSmSE9p2h9hqSdcdebX228qKsZh71pF57OeLH9CnUjr1gAv83rm2yiZpP0ruW3aeNz2tpBjJs3ikj1ueqSN+tMTnqT9BTCZ2Cr9IbfA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=xVx49oXx8ozh5Ie97HOTLJgsHOOGeX/cdF9taFRmLrQ=;
 b=cPXyCimblDXgZv2ShJTrt4BPsasL0G5QeQl+PwGwVjngdYLYvC+k5Hmx/L2DIlip4KUwYEq646nYcUjee9hn/c/d5b4eQHdgeirD2kYmy1PoxnTAtSkYMhKxk/3ryADtrObX9rf7jElPADv/BTghfJpi5rSNKdMxdzP0yD6O1sGHDi0GaN2re806c2zNSEUl8dXKqSqvM9FZbVtwA9lQNknhFJlxIjR3qmUDF8BaZv/x0Hbo1YESSkEDwmqVS34S4sSxmWz3hRyA/qwtDC+rqTPLw//VE7CKtevTOJMH1Mnam2CllR5v97WQVNhG3te2Zd2MBUOcNnHTU7if8VzQhw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=hbkworld.com; dmarc=pass action=none header.from=hbkworld.com;
 dkim=pass header.d=hbkworld.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=hbkworld.com;
 s=selector1;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=xVx49oXx8ozh5Ie97HOTLJgsHOOGeX/cdF9taFRmLrQ=;
 b=h155L9q6CcSNV96hoGNKDj1Fy2V0/kILFija68zbBHfsFmaIKUoKWLb7W7fcE0a2MqwILingKvkbXdgS8xgAHKwwBNw0KThW4azF4ghDJNSlWCf8B/aCQj7p8p6gwpbfALTJqrGd56MPuD3seSrqqKG6u0oKqZ6+JTTiHUX6yZLRWFzLdJbPNdldXyVgzWO/4D082HnWTbslHFboDJ/zbCW161czcz1b4X72IBC++On+r7QE0S3KR8rVz7EI9FcUgrMPG5xPksWOyJA7VDvPM/ZzBUT1MORp6sdiAyFGJyh4vzU9scmrfAn/StGcDRceLTqOgbn59p81Nh3Ru5UOqA==
Received: from AM0PR09MB4276.eurprd09.prod.outlook.com (2603:10a6:20b:166::10)
 by AM0PR09MB2611.eurprd09.prod.outlook.com (2603:10a6:208:e1::19) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.4331.29; Mon, 19 Jul
 2021 06:25:46 +0000
Received: from AM0PR09MB4276.eurprd09.prod.outlook.com
 ([fe80::4d88:bf9c:b655:7a92]) by AM0PR09MB4276.eurprd09.prod.outlook.com
 ([fe80::4d88:bf9c:b655:7a92%7]) with mapi id 15.20.4331.032; Mon, 19 Jul 2021
 06:25:46 +0000
From:   Ruud Bos <ruud.bos@hbkworld.com>
To:     "netdev@vger.kernel.org" <netdev@vger.kernel.org>
Subject: [PATCH net-next 2/4] igb: move PEROUT and EXTTS isr logic to separate
 functions
Thread-Topic: [PATCH net-next 2/4] igb: move PEROUT and EXTTS isr logic to
 separate functions
Thread-Index: Add8Zg2HsnagZRwHRyWVVy37Ak9WQA==
Date:   Mon, 19 Jul 2021 06:25:46 +0000
Message-ID: <AM0PR09MB4276ABFD97B00983D83C69F1F0E19@AM0PR09MB4276.eurprd09.prod.outlook.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_9208be00-d674-40fd-8399-cd3587f85bc0_Enabled=true;
 MSIP_Label_9208be00-d674-40fd-8399-cd3587f85bc0_SetDate=2021-07-19T06:25:45Z;
 MSIP_Label_9208be00-d674-40fd-8399-cd3587f85bc0_Method=Privileged;
 MSIP_Label_9208be00-d674-40fd-8399-cd3587f85bc0_Name=Unrestricted;
 MSIP_Label_9208be00-d674-40fd-8399-cd3587f85bc0_SiteId=6cce74a3-3975-45e0-9893-b072988b30b6;
 MSIP_Label_9208be00-d674-40fd-8399-cd3587f85bc0_ActionId=5eecda3c-6006-4c8d-9727-f6a9c7277be8;
 MSIP_Label_9208be00-d674-40fd-8399-cd3587f85bc0_ContentBits=2
authentication-results: vger.kernel.org; dkim=none (message not signed)
 header.d=none;vger.kernel.org; dmarc=none action=none
 header.from=hbkworld.com;
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 6422ff35-078e-4b62-2955-08d94a7e0b7e
x-ms-traffictypediagnostic: AM0PR09MB2611:
x-microsoft-antispam-prvs: <AM0PR09MB2611F671F8976F34708C5E24F0E19@AM0PR09MB2611.eurprd09.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:6430;
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: Y9102dSofeyMaDTbVoJJybOXO9mJyZUVQcE6AIpiYLWNhQjTqBMiO94RhStXEQ4quw+52dJlpgeygcc/qR25HMEsq73RvAyaUVWUV6NE8RH2jAAdZSP0HXVSY1o8vgDTAGo5wR/2sU+1iZ655VeGGp/+PTNLQMxKuc+p01kRxNFX/uGzt5z3yxIWMcgmWrR1z0+B14QgWQyTLXMRUoIaSKWtqYpAbftFqP8WrSXQ9Y7cCE9meA4Wow5SJ1z595hePVevPsFc867FLsogiF1eV1bGu/QVKCo7XJZr0wlSHBJQxBFdtuRY0ckUFN8+PjJyZ97sLSFK1CR3z5xjUFFGxm8uJ5PCv7UFnvaA0v5U4z3HNbB7FRdhtqMxrb8GJJemZksxLB9f5zLyFYkTxisya9Y/eC+huxtsG35T0qsGbJcA/puTVAF/qDeqXr/3ObETDfjKPk/g5GCo07m+Gnc68WeY269bixZ9/0LOdUSJisyuAiKCuUo+UQ7oY1p2Bjq+dbWjaOs/eRD1O11AbNmMsbKN/l1DDV4PcdijjZACEikOE3/PQeGyl4qXn+buvZHQzPnx1xPJULjNxZxLFcifCbsWx5pbgIFPIkxU101xKehW8ucV4OE88scrXRuL1U4AdffRq6wwA3Uto5+mbZRK6b+9IH6Li9aV/4Cn1IzTMboAaIMQFJRXe68URloY6X/Tm0QUWzpPAGyuDX0oFzOnDg==
x-forefront-antispam-report: CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:AM0PR09MB4276.eurprd09.prod.outlook.com;PTR:;CAT:NONE;SFS:(4636009)(39850400004)(346002)(396003)(366004)(136003)(376002)(478600001)(83380400001)(9686003)(52536014)(44832011)(71200400001)(5660300002)(55016002)(38100700002)(6506007)(2906002)(122000001)(316002)(33656002)(15974865002)(6916009)(76116006)(7696005)(86362001)(26005)(66476007)(186003)(66556008)(66446008)(8936002)(8676002)(66946007)(64756008)(38070700004);DIR:OUT;SFP:1102;
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?WmY0VmJPVHJGMkJQbzljM1pzbW5EZTlEaUhkelBOdTZ1dzNnY3ZsYUpvWDlm?=
 =?utf-8?B?a3lqdVVHZm1ZZlhCeUc0aWZ6anh3dGFlZG5uR0NFTkVJeEljZVlMMWQ0c3hF?=
 =?utf-8?B?cVVqU1FpM1h1TjZ2cmQ5K2sxWVh2ekJ2QnFUU0ZHOWdBV3NITGdGcWZ0WGEx?=
 =?utf-8?B?aFRWSEJKTjdramlqZkltWlN2bjJqblViVkF6cTVxSVdDZzJLazVYcHZkV2hE?=
 =?utf-8?B?UWJ6ekw3ZG9pVFdWMVRJazF0ZnhqWnRBL1Z5alZQdmNFdUVKUkcyTXFpQ3B2?=
 =?utf-8?B?dkxlWEVxcERTVEVPQ09GaFY4QVhqTk5zMGpoVW9pRGtzcjBGM3B1L3NoWHQ1?=
 =?utf-8?B?eHhMS0pwUGlHSHRSK0xUUHI0RG14MnpkaW52T3hDcDZHNlo2cXUycFUzMEpj?=
 =?utf-8?B?UVprYUdSNzJOaGJBQmp1VENTTDNjeUxQVEFjWWVZTHk3Nk1MazMwQVptcjZL?=
 =?utf-8?B?dkE0c29HdkZLaElzUVNaTDdxZVhjbGltdEQvQ2xxYm5CY084ZytiV3FqNFdw?=
 =?utf-8?B?bjcxVm5aZEVQQlRIdm1IdkJTclU0bXJ0N09RVzV3eEx6eUZyRC9qdFMxL2hs?=
 =?utf-8?B?aStEOVEyc2ZFRUwwTjNrS1hQNkYxZmxpZ3NWVE5IRUVGUUM1RVlqUk5hQk1t?=
 =?utf-8?B?aURUOEVBaFFVZEFCZ1VVOHZHUTlUVzVZTElLQ3VKRUI4Y2RkNzBpRFVZNHFS?=
 =?utf-8?B?MUJiOEJKYmRDdWdnQkNzQkJCSzllb1NXUGhEOWhIdzExSzdLNjQreGl2S2pv?=
 =?utf-8?B?WElLbDJ6Q241QmRzeFpkbmlLa1hkdmxNNFh3Y2FHS0hTaDNiZWFRM3FBL3pF?=
 =?utf-8?B?RE5JbmxtSkFaN0F5cW5yZndsSVZyTytNVFdpejZWNyt4TUR1anFHYmVLYmZk?=
 =?utf-8?B?N3UxWUdxME9oV2RjZVBaSDUyd2FqWnVLMmJva1BiZEVxSVNRWURRWWF1ZSsw?=
 =?utf-8?B?WEtPbUlOdlluVEIrZWIrZ0t0T1AvS2QyNUVaOUJyVW15eE8yWGJ3N3ZSWXE2?=
 =?utf-8?B?OXZSTnpIYWF5SVJhVldXVk4rakZZTWVYMFM2WWdSNmdVR1k2Y2doZ3Nmdkx1?=
 =?utf-8?B?ejZuRDc3dndrdzBtOUJtV3IzV3g1TytmaFgvdDZ1cmJodGQ0RThrcEJ6aSsv?=
 =?utf-8?B?VXhTbkx2NDJRN0RNQ3Z4WjZWU3RYMlIzMmE5TFp5akNwUDRmLytTOU5RaUE4?=
 =?utf-8?B?TVl1aElKMmZEQnZpT1hiT20ySDkycVJiQytsUGRhQStDQmdFN1d6U25OZDlE?=
 =?utf-8?B?T2pnZ1hwTHg4WUx6c0pLRWpFRzVRNUo0bWw3TEI3N25mZHlDQjNGdlNIakIy?=
 =?utf-8?B?SG1CaWZtR2FmUlRYb005bE1Od0g5aTNnMWEvY0xKRE13Slp5OUdyNzJPVmdq?=
 =?utf-8?B?R1ZvdlNuTEtmTFZBMXBNdVkvdzZrWnpOYnhEMXU3MFlrUlZGaFpWMDBtM1NM?=
 =?utf-8?B?L1ZiM0xBdWdseFJabGM0VmcrUENodHQ3MDhUUExXTGdGc0J5bFlOK2tjeUtm?=
 =?utf-8?B?dkV0aVNXTkhKVHVCeU0vUzRoUHZYMUZRUFN0Z3R6TnBnaThTV1pGak9adVNv?=
 =?utf-8?B?OHZmaFVZMGs1ZTFxRk4wNVFYdXN6L09GeFRPNVBjQy9YVVV3SFoydWVQUUx6?=
 =?utf-8?B?QWZKYmtJRkV1V2VuVHpLOGI0L3ppb3pJaVBBRXBNOVRGTXZXTVFiWFlINGFV?=
 =?utf-8?B?aG8weCs4bHJzanhjNmthN2xDMWthaVk2YU1vVW5ldlFPVVdsR3Q0bGxraVJ2?=
 =?utf-8?Q?CL6iampq74xUV7g9E0=3D?=
x-ms-exchange-transport-forked: True
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: hbkworld.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: AM0PR09MB4276.eurprd09.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 6422ff35-078e-4b62-2955-08d94a7e0b7e
X-MS-Exchange-CrossTenant-originalarrivaltime: 19 Jul 2021 06:25:46.8210
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 6cce74a3-3975-45e0-9893-b072988b30b6
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: ncHn1nlVcWQvqNuHNybx73VGbhlWzIf0mFvYarS7VrpeiXXpH6cMRIvEROx9KyDL
X-MS-Exchange-Transport-CrossTenantHeadersStamped: AM0PR09MB2611
Precedence: bulk
List-ID: <netdev.vger.kernel.org>
X-Mailing-List: netdev@vger.kernel.org

UmVtb3ZlIGNvZGUgZHVwbGljYXRpb24gaW4gdGhlIHRzeW5jIGludGVycnVwdCBoYW5kbGVyIGZ1
bmN0aW9uIGJ5IG1vdmluZw0KdGhpcyBsb2dpYyB0byBzZXBhcmF0ZSBmdW5jdGlvbnMuIFRoaXMg
a2VlcHMgdGhlIGludGVycnVwdCBoYW5kbGVyIHJlYWRhYmxlDQphbmQgYWxsb3dzIHRoZSBuZXcg
ZnVuY3Rpb25zIHRvIGJlIGV4dGVuZGVkIGZvciBhZGFwdGVyIHR5cGVzIG90aGVyIHRoYW4NCmky
MTAuDQoNClNpZ25lZC1vZmYtYnk6IFJ1dWQgQm9zIDxydXVkLmJvc0BoYmt3b3JsZC5jb20+DQot
LS0NCiBkcml2ZXJzL25ldC9ldGhlcm5ldC9pbnRlbC9pZ2IvaWdiX21haW4uYyB8IDc5ICsrKysr
KysrKysrKystLS0tLS0tLS0tDQogMSBmaWxlIGNoYW5nZWQsIDQ0IGluc2VydGlvbnMoKyksIDM1
IGRlbGV0aW9ucygtKQ0KDQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwv
aWdiL2lnYl9tYWluLmMgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9pbnRlbC9pZ2IvaWdiX21haW4u
Yw0KaW5kZXggN2U2NDM1ZGM3ZTgwLi45MjhhYzliYTFjNjYgMTAwNjQ0DQotLS0gYS9kcml2ZXJz
L25ldC9ldGhlcm5ldC9pbnRlbC9pZ2IvaWdiX21haW4uYw0KKysrIGIvZHJpdmVycy9uZXQvZXRo
ZXJuZXQvaW50ZWwvaWdiL2lnYl9tYWluLmMNCkBAIC02NzIxLDEyICs2NzIxLDUwIEBAIHZvaWQg
aWdiX3VwZGF0ZV9zdGF0cyhzdHJ1Y3QgaWdiX2FkYXB0ZXIgKmFkYXB0ZXIpDQogICAgICAgIH0N
CiB9DQoNCitzdGF0aWMgdm9pZCBpZ2JfcGVyb3V0KHN0cnVjdCBpZ2JfYWRhcHRlciAqYWRhcHRl
ciwgaW50IHNkcCkNCit7DQorICAgICAgIHN0cnVjdCBlMTAwMF9odyAqaHcgPSAmYWRhcHRlci0+
aHc7DQorICAgICAgIHN0cnVjdCB0aW1lc3BlYzY0IHRzOw0KKyAgICAgICB1MzIgdHNhdXhjOw0K
Kw0KKyAgICAgICBpZiAoc2RwIDwgMCB8fCBzZHAgPj0gSUdCX05fUEVST1VUKQ0KKyAgICAgICAg
ICAgICAgIHJldHVybjsNCisNCisgICAgICAgc3Bpbl9sb2NrKCZhZGFwdGVyLT50bXJlZ19sb2Nr
KTsNCisgICAgICAgdHMgPSB0aW1lc3BlYzY0X2FkZChhZGFwdGVyLT5wZXJvdXRbc2RwXS5zdGFy
dCwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGFwdGVyLT5wZXJvdXRbc2RwXS5wZXJp
b2QpOw0KKyAgICAgICAvKiB1MzIgY29udmVyc2lvbiBvZiB0dl9zZWMgaXMgc2FmZSB1bnRpbCB5
MjEwNiAqLw0KKyAgICAgICB3cjMyKChzZHAgPT0gMSkgPyBFMTAwMF9UUkdUVElNTDEgOiBFMTAw
MF9UUkdUVElNTDAsIHRzLnR2X25zZWMpOw0KKyAgICAgICB3cjMyKChzZHAgPT0gMSkgPyBFMTAw
MF9UUkdUVElNSDEgOiBFMTAwMF9UUkdUVElNSDAsICh1MzIpdHMudHZfc2VjKTsNCisgICAgICAg
dHNhdXhjID0gcmQzMihFMTAwMF9UU0FVWEMpOw0KKyAgICAgICB0c2F1eGMgfD0gVFNBVVhDX0VO
X1RUMDsNCisgICAgICAgd3IzMihFMTAwMF9UU0FVWEMsIHRzYXV4Yyk7DQorICAgICAgIGFkYXB0
ZXItPnBlcm91dFtzZHBdLnN0YXJ0ID0gdHM7DQorICAgICAgIHNwaW5fdW5sb2NrKCZhZGFwdGVy
LT50bXJlZ19sb2NrKTsNCit9DQorDQorc3RhdGljIHZvaWQgaWdiX2V4dHRzKHN0cnVjdCBpZ2Jf
YWRhcHRlciAqYWRhcHRlciwgaW50IHNkcCkNCit7DQorICAgICAgIHN0cnVjdCBlMTAwMF9odyAq
aHcgPSAmYWRhcHRlci0+aHc7DQorICAgICAgIHUzMiBzZWMsIG5zZWM7DQorICAgICAgIHN0cnVj
dCBwdHBfY2xvY2tfZXZlbnQgZXZlbnQ7DQorDQorICAgICAgIGlmIChzZHAgPCAwIHx8IHNkcCA+
PSBJR0JfTl9FWFRUUykNCisgICAgICAgICAgICAgICByZXR1cm47DQorDQorICAgICAgIG5zZWMg
PSByZDMyKChzZHAgPT0gMSkgPyBFMTAwMF9BVVhTVE1QTDEgOiBFMTAwMF9BVVhTVE1QTDApOw0K
KyAgICAgICBzZWMgID0gcmQzMigoc2RwID09IDEpID8gRTEwMDBfQVVYU1RNUEgxIDogRTEwMDBf
QVVYU1RNUEgwKTsNCisgICAgICAgZXZlbnQudHlwZSA9IFBUUF9DTE9DS19FWFRUUzsNCisgICAg
ICAgZXZlbnQuaW5kZXggPSBzZHA7DQorICAgICAgIGV2ZW50LnRpbWVzdGFtcCA9IHNlYyAqIDEw
MDAwMDAwMDBVTEwgKyBuc2VjOw0KKyAgICAgICBwdHBfY2xvY2tfZXZlbnQoYWRhcHRlci0+cHRw
X2Nsb2NrLCAmZXZlbnQpOw0KK30NCisNCiBzdGF0aWMgdm9pZCBpZ2JfdHN5bmNfaW50ZXJydXB0
KHN0cnVjdCBpZ2JfYWRhcHRlciAqYWRhcHRlcikNCiB7DQogICAgICAgIHN0cnVjdCBlMTAwMF9o
dyAqaHcgPSAmYWRhcHRlci0+aHc7DQogICAgICAgIHN0cnVjdCBwdHBfY2xvY2tfZXZlbnQgZXZl
bnQ7DQotICAgICAgIHN0cnVjdCB0aW1lc3BlYzY0IHRzOw0KLSAgICAgICB1MzIgYWNrID0gMCwg
dHNhdXhjLCBzZWMsIG5zZWMsIHRzaWNyID0gcmQzMihFMTAwMF9UU0lDUik7DQorICAgICAgIHUz
MiBhY2sgPSAwLCB0c2ljciA9IHJkMzIoRTEwMDBfVFNJQ1IpOw0KDQogICAgICAgIGlmICh0c2lj
ciAmIFRTSU5UUl9TWVNfV1JBUCkgew0KICAgICAgICAgICAgICAgIGV2ZW50LnR5cGUgPSBQVFBf
Q0xPQ0tfUFBTOw0KQEAgLTY3NDIsNTEgKzY3ODAsMjIgQEAgc3RhdGljIHZvaWQgaWdiX3RzeW5j
X2ludGVycnVwdChzdHJ1Y3QgaWdiX2FkYXB0ZXIgKmFkYXB0ZXIpDQogICAgICAgIH0NCg0KICAg
ICAgICBpZiAodHNpY3IgJiBUU0lOVFJfVFQwKSB7DQotICAgICAgICAgICAgICAgc3Bpbl9sb2Nr
KCZhZGFwdGVyLT50bXJlZ19sb2NrKTsNCi0gICAgICAgICAgICAgICB0cyA9IHRpbWVzcGVjNjRf
YWRkKGFkYXB0ZXItPnBlcm91dFswXS5zdGFydCwNCi0gICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGFkYXB0ZXItPnBlcm91dFswXS5wZXJpb2QpOw0KLSAgICAgICAgICAgICAgIC8q
IHUzMiBjb252ZXJzaW9uIG9mIHR2X3NlYyBpcyBzYWZlIHVudGlsIHkyMTA2ICovDQotICAgICAg
ICAgICAgICAgd3IzMihFMTAwMF9UUkdUVElNTDAsIHRzLnR2X25zZWMpOw0KLSAgICAgICAgICAg
ICAgIHdyMzIoRTEwMDBfVFJHVFRJTUgwLCAodTMyKXRzLnR2X3NlYyk7DQotICAgICAgICAgICAg
ICAgdHNhdXhjID0gcmQzMihFMTAwMF9UU0FVWEMpOw0KLSAgICAgICAgICAgICAgIHRzYXV4YyB8
PSBUU0FVWENfRU5fVFQwOw0KLSAgICAgICAgICAgICAgIHdyMzIoRTEwMDBfVFNBVVhDLCB0c2F1
eGMpOw0KLSAgICAgICAgICAgICAgIGFkYXB0ZXItPnBlcm91dFswXS5zdGFydCA9IHRzOw0KLSAg
ICAgICAgICAgICAgIHNwaW5fdW5sb2NrKCZhZGFwdGVyLT50bXJlZ19sb2NrKTsNCisgICAgICAg
ICAgICAgICBpZ2JfcGVyb3V0KGFkYXB0ZXIsIDApOw0KICAgICAgICAgICAgICAgIGFjayB8PSBU
U0lOVFJfVFQwOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKHRzaWNyICYgVFNJTlRSX1RUMSkg
ew0KLSAgICAgICAgICAgICAgIHNwaW5fbG9jaygmYWRhcHRlci0+dG1yZWdfbG9jayk7DQotICAg
ICAgICAgICAgICAgdHMgPSB0aW1lc3BlYzY0X2FkZChhZGFwdGVyLT5wZXJvdXRbMV0uc3RhcnQs
DQotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGFwdGVyLT5wZXJvdXRbMV0u
cGVyaW9kKTsNCi0gICAgICAgICAgICAgICB3cjMyKEUxMDAwX1RSR1RUSU1MMSwgdHMudHZfbnNl
Yyk7DQotICAgICAgICAgICAgICAgd3IzMihFMTAwMF9UUkdUVElNSDEsICh1MzIpdHMudHZfc2Vj
KTsNCi0gICAgICAgICAgICAgICB0c2F1eGMgPSByZDMyKEUxMDAwX1RTQVVYQyk7DQotICAgICAg
ICAgICAgICAgdHNhdXhjIHw9IFRTQVVYQ19FTl9UVDE7DQotICAgICAgICAgICAgICAgd3IzMihF
MTAwMF9UU0FVWEMsIHRzYXV4Yyk7DQotICAgICAgICAgICAgICAgYWRhcHRlci0+cGVyb3V0WzFd
LnN0YXJ0ID0gdHM7DQotICAgICAgICAgICAgICAgc3Bpbl91bmxvY2soJmFkYXB0ZXItPnRtcmVn
X2xvY2spOw0KKyAgICAgICAgICAgICAgIGlnYl9wZXJvdXQoYWRhcHRlciwgMSk7DQogICAgICAg
ICAgICAgICAgYWNrIHw9IFRTSU5UUl9UVDE7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAodHNp
Y3IgJiBUU0lOVFJfQVVUVDApIHsNCi0gICAgICAgICAgICAgICBuc2VjID0gcmQzMihFMTAwMF9B
VVhTVE1QTDApOw0KLSAgICAgICAgICAgICAgIHNlYyAgPSByZDMyKEUxMDAwX0FVWFNUTVBIMCk7
DQotICAgICAgICAgICAgICAgZXZlbnQudHlwZSA9IFBUUF9DTE9DS19FWFRUUzsNCi0gICAgICAg
ICAgICAgICBldmVudC5pbmRleCA9IDA7DQotICAgICAgICAgICAgICAgZXZlbnQudGltZXN0YW1w
ID0gc2VjICogMTAwMDAwMDAwMFVMTCArIG5zZWM7DQotICAgICAgICAgICAgICAgcHRwX2Nsb2Nr
X2V2ZW50KGFkYXB0ZXItPnB0cF9jbG9jaywgJmV2ZW50KTsNCisgICAgICAgICAgICAgICBpZ2Jf
ZXh0dHMoYWRhcHRlciwgMCk7DQogICAgICAgICAgICAgICAgYWNrIHw9IFRTSU5UUl9BVVRUMDsN
CiAgICAgICAgfQ0KDQogICAgICAgIGlmICh0c2ljciAmIFRTSU5UUl9BVVRUMSkgew0KLSAgICAg
ICAgICAgICAgIG5zZWMgPSByZDMyKEUxMDAwX0FVWFNUTVBMMSk7DQotICAgICAgICAgICAgICAg
c2VjICA9IHJkMzIoRTEwMDBfQVVYU1RNUEgxKTsNCi0gICAgICAgICAgICAgICBldmVudC50eXBl
ID0gUFRQX0NMT0NLX0VYVFRTOw0KLSAgICAgICAgICAgICAgIGV2ZW50LmluZGV4ID0gMTsNCi0g
ICAgICAgICAgICAgICBldmVudC50aW1lc3RhbXAgPSBzZWMgKiAxMDAwMDAwMDAwVUxMICsgbnNl
YzsNCi0gICAgICAgICAgICAgICBwdHBfY2xvY2tfZXZlbnQoYWRhcHRlci0+cHRwX2Nsb2NrLCAm
ZXZlbnQpOw0KKyAgICAgICAgICAgICAgIGlnYl9leHR0cyhhZGFwdGVyLCAxKTsNCiAgICAgICAg
ICAgICAgICBhY2sgfD0gVFNJTlRSX0FVVFQxOw0KICAgICAgICB9DQoNCi0tDQoyLjMwLjINCg0K
DQpVTlJFU1RSSUNURUQNCkhCSyBCZW5lbHV4IEIuVi4sIFNjaHV0d2VnIDE1YSwgTkwtNTE0NSBO
UCBXYWFsd2lqaywgVGhlIE5ldGhlcmxhbmRzIHd3dy5oYmt3b3JsZC5jb20gUmVnaXN0ZXJlZCBh
cyBCLlYuIChEdXRjaCBsaW1pdGVkIGxpYWJpbGl0eSBjb21wYW55KSBpbiB0aGUgRHV0Y2ggY29t
bWVyY2lhbCByZWdpc3RlciAwODE4MzA3NSAwMDAwIENvbXBhbnkgZG9taWNpbGVkIGluIFdhYWx3
aWprIE1hbmFnaW5nIERpcmVjdG9ycyA6IEFsZXhhbmRyYSBIZWxsZW1hbnMsIEplbnMgV2llZ2Fu
ZCwgSm9ybiBCYWdpam4gVGhlIGluZm9ybWF0aW9uIGluIHRoaXMgZW1haWwgaXMgY29uZmlkZW50
aWFsLiBJdCBpcyBpbnRlbmRlZCBzb2xlbHkgZm9yIHRoZSBhZGRyZXNzZWUuIElmIHlvdSBhcmUg
bm90IHRoZSBpbnRlbmRlZCByZWNpcGllbnQsIHBsZWFzZSBsZXQgbWUga25vdyBhbmQgZGVsZXRl
IHRoaXMgZW1haWwuDQo=
