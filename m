Return-Path: <netdev-owner@vger.kernel.org>
X-Original-To: lists+netdev@lfdr.de
Delivered-To: lists+netdev@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id BC2CD11A092
	for <lists+netdev@lfdr.de>; Wed, 11 Dec 2019 02:40:10 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726888AbfLKBkJ (ORCPT <rfc822;lists+netdev@lfdr.de>);
        Tue, 10 Dec 2019 20:40:09 -0500
Received: from mail-eopbgr30059.outbound.protection.outlook.com ([40.107.3.59]:59286
        "EHLO EUR03-AM5-obe.outbound.protection.outlook.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S1726364AbfLKBkI (ORCPT <rfc822;netdev@vger.kernel.org>);
        Tue, 10 Dec 2019 20:40:08 -0500
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=RA6aqNtGz44PS03LoVDfNJbqNKxjCT2LeGlw6x4byItWgUsLqlodIlux3ZZROjERqj6wuj81gp3Xw7+pYH/ieabzmqMf6mX6iL53DoTMlY2YxIttK4Hv+blRJO664aFRKE82o0BxTnMuSShTPv7D76HmOMNA7NUFPTwobnjvXWKocDIjwDArfKxWWrapNdIfxaU/je5H8+wHfGvtSBGI3HaBDdG1+ZJH5DFBhLi7XS1x0ukkYZkaQ1z+2hKzMUFE1/D5OLHXitH5vg4FIPFh+QlTW7lFTNzWPsldsxZamWkzqCZV4h6Y1Oui66JI6XKVCgU/s1iJo3WEtL63QUAp/g==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=5WN6Zkq57fMxV4cCPsZHxISxv9GcG8IXYQCB47bWIAo=;
 b=OTfMnoDxgdv6Nw6lkWFjJDuEcuCCFaiv4KpQhIuQhFxuEOAiv+E7x+z1PZp1kjm43nGUPddPhsVd2z+TbP+UnqADG+sBLJqmEnwNLCKFa9hOniY+PJwShrSG8SIjqgNnccnBxkSMfTLkFg3acLwGQaMSClfG1eQdnf+eSpLXeyyh/bcDyz5nkstsSprnSvYZISorcpOcgdU7TiWAb4GVidOv9JxAjQwlL7pEmh+8SFZ743Js6IVmelblyfI0wk6OL9DKt5schFr0OhXII4Z+GtCYNwI2E9Nlnuom6awiyKVqc5IcGtUEhMKU/Cc6tqP5SF4HDTOv0ZKLU7r2BRwpqQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=mellanox.com; dmarc=pass action=none header.from=mellanox.com;
 dkim=pass header.d=mellanox.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=Mellanox.com;
 s=selector1;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=5WN6Zkq57fMxV4cCPsZHxISxv9GcG8IXYQCB47bWIAo=;
 b=Y3rdI1ourZlNWgXBktd2NLQmLV7wDNUmaTSjemI2gBXtW/4Z1adDpTOm/KP/0unXJCkHqrf7yAnaAFyaCY4WjlT/crphPIPl8GgVDyYeSgTh3+ZN+HRGkQLcJQCSI8/K3yJeSYzmECt7zsBCb7mY9WN0kU9T6JmyspBILqN5+W8=
Received: from AM0PR05MB4866.eurprd05.prod.outlook.com (20.176.214.160) by
 AM0PR05MB4257.eurprd05.prod.outlook.com (52.134.124.158) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2516.14; Wed, 11 Dec 2019 01:39:55 +0000
Received: from AM0PR05MB4866.eurprd05.prod.outlook.com
 ([fe80::16:9951:5a4b:9ec6]) by AM0PR05MB4866.eurprd05.prod.outlook.com
 ([fe80::16:9951:5a4b:9ec6%7]) with mapi id 15.20.2516.018; Wed, 11 Dec 2019
 01:39:55 +0000
From:   Parav Pandit <parav@mellanox.com>
To:     Shannon Nelson <snelson@pensando.io>,
        "netdev@vger.kernel.org" <netdev@vger.kernel.org>,
        "davem@davemloft.net" <davem@davemloft.net>
Subject: Re: [PATCH net-next 2/2] ionic: support sr-iov operations
Thread-Topic: [PATCH net-next 2/2] ionic: support sr-iov operations
Thread-Index: AQHVr6zOFjqN5wjDOEqkWYoFSecuO6e0KGwA
Date:   Wed, 11 Dec 2019 01:39:55 +0000
Message-ID: <84808074-6984-14ca-7d22-65332086ad19@mellanox.com>
References: <20191210225421.35193-1-snelson@pensando.io>
 <20191210225421.35193-3-snelson@pensando.io>
In-Reply-To: <20191210225421.35193-3-snelson@pensando.io>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=parav@mellanox.com; 
x-originating-ip: [68.203.16.89]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: f4b88344-0d82-449c-a7c3-08d77ddb0649
x-ms-traffictypediagnostic: AM0PR05MB4257:
x-microsoft-antispam-prvs: <AM0PR05MB42579667C12A98AC76808889D15A0@AM0PR05MB4257.eurprd05.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:159;
x-forefront-prvs: 024847EE92
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(4636009)(39860400002)(366004)(136003)(346002)(376002)(396003)(189003)(199004)(2616005)(5660300002)(81156014)(91956017)(64756008)(66446008)(66476007)(66556008)(6512007)(81166006)(36756003)(8676002)(76116006)(66946007)(6486002)(2906002)(31686004)(8936002)(26005)(316002)(31696002)(53546011)(30864003)(86362001)(186003)(71200400001)(478600001)(6506007)(110136005);DIR:OUT;SFP:1101;SCL:1;SRVR:AM0PR05MB4257;H:AM0PR05MB4866.eurprd05.prod.outlook.com;FPR:;SPF:None;LANG:en;PTR:InfoNoRecords;MX:1;A:1;
received-spf: None (protection.outlook.com: mellanox.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: aHFqlTcDVBSCG6Zzb7mDBjsYpWddrBJToobBRBl7+V7fsJl6ON1mjo91gq19BO57Oe+J7b1ZbJ58QZ1aV6ceqrhbGik7j8lLeCySxHPPJ64RyrJ5DPNUda0gdMvHO+EmwlEKVRrbqWBTH8Xk48tUXcegfRbkWHb84wxD/pfWtBlxzkOhS5T8pUFy1eNOHkotAMhsA5OY/KQX7A1OR2qvUlGhl1BbDPFCShHhDcBg9VVSc+xUOthZ3Gh3kxgLNtUoBnfoL1uPcd03UuX8uquYIhcT4w7o+6yP6gcewMx5i3pDhfvYiAgXD2z8olmMae3XPOeY0s4TMsSgheQzFlz5+5QGfdg7Yf1hs6F+uymAZSRQYnpiTwyuAvQvPDGH8aJjlElb9s2/zj0RIPNGN+NYnSj/LN2E1enCzPvoM8Upy+/PLlJHkHQ6/V5XoBrVsDlH
x-ms-exchange-transport-forked: True
Content-Type: text/plain; charset="utf-8"
Content-ID: <B0C5F28423C3DF4EBD1F1F4059E549E2@eurprd05.prod.outlook.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: Mellanox.com
X-MS-Exchange-CrossTenant-Network-Message-Id: f4b88344-0d82-449c-a7c3-08d77ddb0649
X-MS-Exchange-CrossTenant-originalarrivaltime: 11 Dec 2019 01:39:55.1275
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: a652971c-7d2e-4d9b-a6a4-d149256f461b
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: 4TOrFEtmiVxPj/fnRM+oFwjdBnXHV/0G1bWH3XgNEi2B69iKCETOC2vCzSmTTmrBpwRcNfltSXpfM16j4dLwyw==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: AM0PR05MB4257
Sender: netdev-owner@vger.kernel.org
Precedence: bulk
List-ID: <netdev.vger.kernel.org>
X-Mailing-List: netdev@vger.kernel.org

T24gMTIvMTAvMjAxOSA0OjU0IFBNLCBTaGFubm9uIE5lbHNvbiB3cm90ZToNCj4gQWRkIHRoZSBu
ZXRkZXYgb3BzIGZvciBtYW5hZ2luZyBWRnMuICBTaW5jZSBtb3N0IG9mIHRoZQ0KPiBtYW5hZ2Vt
ZW50IHdvcmsgaGFwcGVucyBpbiB0aGUgTklDIGZpcm13YXJlLCB0aGUgZHJpdmVyIGJlY29tZXMN
Cj4gbW9zdGx5IGEgcGFzcy10aHJvdWdoIGZvciB0aGUgbmV0d29yayBzdGFjayBjb21tYW5kcyB0
aGF0IHdhbnQNCj4gdG8gY29udHJvbCBhbmQgY29uZmlndXJlIHRoZSBWRnMuDQo+IA0KPiBXZSBh
bHNvIHR3ZWFrIGlvbmljX3N0YXRpb25fc2V0KCkgYSBsaXR0bGUgdG8gYWxsb3cgZm9yDQo+IHRo
ZSBWRnMgdGhhdCBzdGFydCBvZmYgd2l0aCBhIHplcm8nZCBtYWMgYWRkcmVzcy4NCj4gDQo+IFNp
Z25lZC1vZmYtYnk6IFNoYW5ub24gTmVsc29uIDxzbmVsc29uQHBlbnNhbmRvLmlvPg0KPiAtLS0N
Cj4gIGRyaXZlcnMvbmV0L2V0aGVybmV0L3BlbnNhbmRvL2lvbmljL2lvbmljLmggICB8ICAxNiAr
LQ0KPiAgLi4uL2V0aGVybmV0L3BlbnNhbmRvL2lvbmljL2lvbmljX2J1c19wY2kuYyAgIHwgIDc1
ICsrKysrKysNCj4gIC4uLi9uZXQvZXRoZXJuZXQvcGVuc2FuZG8vaW9uaWMvaW9uaWNfZGV2LmMg
ICB8ICA2MSArKysrKysNCj4gIC4uLi9uZXQvZXRoZXJuZXQvcGVuc2FuZG8vaW9uaWMvaW9uaWNf
ZGV2LmggICB8ICAgNyArDQo+ICAuLi4vbmV0L2V0aGVybmV0L3BlbnNhbmRvL2lvbmljL2lvbmlj
X2xpZi5jICAgfCAxODggKysrKysrKysrKysrKysrKystDQo+ICAuLi4vbmV0L2V0aGVybmV0L3Bl
bnNhbmRvL2lvbmljL2lvbmljX2xpZi5oICAgfCAgIDYgKw0KPiAgLi4uL25ldC9ldGhlcm5ldC9w
ZW5zYW5kby9pb25pYy9pb25pY19tYWluLmMgIHwgICA0ICsNCj4gIDcgZmlsZXMgY2hhbmdlZCwg
MzQ5IGluc2VydGlvbnMoKyksIDggZGVsZXRpb25zKC0pDQo+IA0KPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9uZXQvZXRoZXJuZXQvcGVuc2FuZG8vaW9uaWMvaW9uaWMuaCBiL2RyaXZlcnMvbmV0L2V0
aGVybmV0L3BlbnNhbmRvL2lvbmljL2lvbmljLmgNCj4gaW5kZXggOThlMTAyYWY3NzU2Li5kNGNm
NThkYThkMTMgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvbmV0L2V0aGVybmV0L3BlbnNhbmRvL2lv
bmljL2lvbmljLmgNCj4gKysrIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvcGVuc2FuZG8vaW9uaWMv
aW9uaWMuaA0KPiBAQCAtMTIsNyArMTIsNyBAQCBzdHJ1Y3QgaW9uaWNfbGlmOw0KPiAgDQo+ICAj
ZGVmaW5lIElPTklDX0RSVl9OQU1FCQkiaW9uaWMiDQo+ICAjZGVmaW5lIElPTklDX0RSVl9ERVND
UklQVElPTgkiUGVuc2FuZG8gRXRoZXJuZXQgTklDIERyaXZlciINCj4gLSNkZWZpbmUgSU9OSUNf
RFJWX1ZFUlNJT04JIjAuMTguMC1rIg0KPiArI2RlZmluZSBJT05JQ19EUlZfVkVSU0lPTgkiMC4y
MC4wLWsiDQo+ICANCj4gICNkZWZpbmUgUENJX1ZFTkRPUl9JRF9QRU5TQU5ETwkJCTB4MWRkOA0K
PiAgDQo+IEBAIC0yNSw2ICsyNSwxOCBAQCBzdHJ1Y3QgaW9uaWNfbGlmOw0KPiAgDQo+ICAjZGVm
aW5lIERFVkNNRF9USU1FT1VUICAxMA0KPiAgDQo+ICtzdHJ1Y3QgaW9uaWNfdmYgew0KPiArCXUx
NgkgaW5kZXg7DQo+ICsJdTgJIG1hY2FkZHJbNl07DQo+ICsJX19sZTMyCSBtYXhyYXRlOw0KPiAr
CV9fbGUxNgkgdmxhbmlkOw0KPiArCXU4CSBzcG9vZmNoazsNCj4gKwl1OAkgdHJ1c3RlZDsNCj4g
Kwl1OAkgbGlua3N0YXRlOw0KPiArCWRtYV9hZGRyX3QgICAgICAgc3RhdHNfcGE7DQo+ICsJc3Ry
dWN0IGlvbmljX2xpZl9zdGF0cyBzdGF0czsNCj4gK307DQo+ICsNCj4gIHN0cnVjdCBpb25pYyB7
DQo+ICAJc3RydWN0IHBjaV9kZXYgKnBkZXY7DQo+ICAJc3RydWN0IGRldmljZSAqZGV2Ow0KPiBA
QCAtNDYsNiArNTgsOCBAQCBzdHJ1Y3QgaW9uaWMgew0KPiAgCURFQ0xBUkVfQklUTUFQKGludHJz
LCBJT05JQ19JTlRSX0NUUkxfUkVHU19NQVgpOw0KPiAgCXN0cnVjdCB3b3JrX3N0cnVjdCBuYl93
b3JrOw0KPiAgCXN0cnVjdCBub3RpZmllcl9ibG9jayBuYjsNCj4gKwlpbnQgbnVtX3ZmczsNCj4g
KwlzdHJ1Y3QgaW9uaWNfdmYgKip2ZjsNCj4gIAlzdHJ1Y3QgdGltZXJfbGlzdCB3YXRjaGRvZ190
aW1lcjsNCj4gIAlpbnQgd2F0Y2hkb2dfcGVyaW9kOw0KPiAgfTsNCj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvbmV0L2V0aGVybmV0L3BlbnNhbmRvL2lvbmljL2lvbmljX2J1c19wY2kuYyBiL2RyaXZl
cnMvbmV0L2V0aGVybmV0L3BlbnNhbmRvL2lvbmljL2lvbmljX2J1c19wY2kuYw0KPiBpbmRleCA5
YTlhYjhjYjJjYjMuLmZlNGVmZTEyYjUwYiAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9uZXQvZXRo
ZXJuZXQvcGVuc2FuZG8vaW9uaWMvaW9uaWNfYnVzX3BjaS5jDQo+ICsrKyBiL2RyaXZlcnMvbmV0
L2V0aGVybmV0L3BlbnNhbmRvL2lvbmljL2lvbmljX2J1c19wY2kuYw0KPiBAQCAtMjc0LDExICsy
NzQsODYgQEAgc3RhdGljIHZvaWQgaW9uaWNfcmVtb3ZlKHN0cnVjdCBwY2lfZGV2ICpwZGV2KQ0K
PiAgCWlvbmljX2RldmxpbmtfZnJlZShpb25pYyk7DQo+ICB9DQo+ICANCj4gK3N0YXRpYyBpbnQg
aW9uaWNfc3Jpb3ZfY29uZmlndXJlKHN0cnVjdCBwY2lfZGV2ICpwZGV2LCBpbnQgbnVtX3ZmcykN
Cj4gK3sNCj4gKwlzdHJ1Y3QgaW9uaWMgKmlvbmljID0gcGNpX2dldF9kcnZkYXRhKHBkZXYpOw0K
PiArCXN0cnVjdCBkZXZpY2UgKmRldiA9IGlvbmljLT5kZXY7DQo+ICsJdW5zaWduZWQgaW50IHNp
emU7DQo+ICsJaW50IGksIGVyciA9IDA7DQo+ICsNCj4gKwlpZiAoIWlvbmljX2lzX3BmKGlvbmlj
KSkNCj4gKwkJcmV0dXJuIC1FTk9ERVY7DQo+ICsNCj4gKwlpZiAobnVtX3ZmcyA+IDApIHsNCj4g
KwkJZXJyID0gcGNpX2VuYWJsZV9zcmlvdihwZGV2LCBudW1fdmZzKTsNCj4gKwkJaWYgKGVycikg
ew0KPiArCQkJZGV2X2VycigmcGRldi0+ZGV2LCAiQ2Fubm90IGVuYWJsZSBTUklPVjogJWRcbiIs
IGVycik7DQo+ICsJCQlyZXR1cm4gZXJyOw0KPiArCQl9DQo+ICsNCj4gKwkJc2l6ZSA9IHNpemVv
ZihzdHJ1Y3QgaW9uaWNfdmYgKikgKiBudW1fdmZzOw0KPiArCQlpb25pYy0+dmYgPSBremFsbG9j
KHNpemUsIEdGUF9LRVJORUwpOw0KPiArCQlpZiAoIWlvbmljLT52Zikgew0KPiArCQkJcGNpX2Rp
c2FibGVfc3Jpb3YocGRldik7DQo+ICsJCQlyZXR1cm4gLUVOT01FTTsNCj4gKwkJfQ0KPiArDQo+
ICsJCWZvciAoaSA9IDA7IGkgPCBudW1fdmZzOyBpKyspIHsNCj4gKwkJCXN0cnVjdCBpb25pY192
ZiAqdjsNCj4gKw0KPiArCQkJdiA9IGt6YWxsb2Moc2l6ZW9mKCp2KSwgR0ZQX0tFUk5FTCk7DQo+
ICsJCQlpZiAoIXYpIHsNCj4gKwkJCQllcnIgPSAtRU5PTUVNOw0KPiArCQkJCW51bV92ZnMgPSAw
Ow0KPiArCQkJCWdvdG8gcmVtb3ZlX3ZmczsNCj4gKwkJCX0NCj4gKw0KPiArCQkJdi0+c3RhdHNf
cGEgPSBkbWFfbWFwX3NpbmdsZShkZXYsICZ2LT5zdGF0cywNCj4gKwkJCQkJCSAgICAgc2l6ZW9m
KHYtPnN0YXRzKSwNCj4gKwkJCQkJCSAgICAgRE1BX0ZST01fREVWSUNFKTsNCj4gKwkJCWlmIChk
bWFfbWFwcGluZ19lcnJvcihkZXYsIHYtPnN0YXRzX3BhKSkgew0KPiArCQkJCWVyciA9IC1FTk9E
RVY7DQo+ICsJCQkJa2ZyZWUodik7DQo+ICsJCQkJaW9uaWMtPnZmW2ldID0gTlVMTDsNCj4gKwkJ
CQludW1fdmZzID0gMDsNCj4gKwkJCQlnb3RvIHJlbW92ZV92ZnM7DQo+ICsJCQl9DQo+ICsNCj4g
KwkJCWlvbmljLT52ZltpXSA9IHY7DQo+ICsJCQlpb25pYy0+bnVtX3ZmcysrOw0KPiArCQl9DQo+
ICsNCj4gKwkJcmV0dXJuIG51bV92ZnM7DQo+ICsJfQ0KPiArDQo+ICtyZW1vdmVfdmZzOg0KPiAr
CWlmIChudW1fdmZzID09IDApIHsNCj4gKwkJaWYgKGVycikNCj4gKwkJCWRldl9lcnIoJnBkZXYt
PmRldiwgIlNSSU9WIHNldHVwIGZhaWxlZDogJWRcbiIsIGVycik7DQo+ICsNCj4gKwkJcGNpX2Rp
c2FibGVfc3Jpb3YocGRldik7DQo+ICsNCj4gKwkJZm9yIChpID0gMDsgaSA8IGlvbmljLT5udW1f
dmZzOyBpKyspIHsNCj4gKwkJCWRtYV91bm1hcF9zaW5nbGUoZGV2LCBpb25pYy0+dmZbaV0tPnN0
YXRzX3BhLA0KPiArCQkJCQkgc2l6ZW9mKHN0cnVjdCBpb25pY19saWZfc3RhdHMpLA0KPiArCQkJ
CQkgRE1BX0ZST01fREVWSUNFKTsNCj4gKwkJCWtmcmVlKGlvbmljLT52ZltpXSk7DQo+ICsJCX0N
Cj4gKw0KPiArCQlrZnJlZShpb25pYy0+dmYpOw0KPiArCQlpb25pYy0+dmYgPSBOVUxMOw0KPiAr
CQlpb25pYy0+bnVtX3ZmcyA9IDA7DQo+ICsJfQ0KPiArDQo+ICsJcmV0dXJuIGVycjsNCj4gK30N
Cj4gKw0KPiAgc3RhdGljIHN0cnVjdCBwY2lfZHJpdmVyIGlvbmljX2RyaXZlciA9IHsNCj4gIAku
bmFtZSA9IElPTklDX0RSVl9OQU1FLA0KPiAgCS5pZF90YWJsZSA9IGlvbmljX2lkX3RhYmxlLA0K
PiAgCS5wcm9iZSA9IGlvbmljX3Byb2JlLA0KPiAgCS5yZW1vdmUgPSBpb25pY19yZW1vdmUsDQo+
ICsJLnNyaW92X2NvbmZpZ3VyZSA9IGlvbmljX3NyaW92X2NvbmZpZ3VyZSwNCj4gIH07DQo+ICAN
Cj4gIGludCBpb25pY19idXNfcmVnaXN0ZXJfZHJpdmVyKHZvaWQpDQo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL25ldC9ldGhlcm5ldC9wZW5zYW5kby9pb25pYy9pb25pY19kZXYuYyBiL2RyaXZlcnMv
bmV0L2V0aGVybmV0L3BlbnNhbmRvL2lvbmljL2lvbmljX2Rldi5jDQo+IGluZGV4IDVmOWQyZWM3
MDQ0Ni4uOGYwYWI1ODM4NjY3IDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9w
ZW5zYW5kby9pb25pYy9pb25pY19kZXYuYw0KPiArKysgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9w
ZW5zYW5kby9pb25pYy9pb25pY19kZXYuYw0KPiBAQCAtMjg2LDYgKzI4Niw2NyBAQCB2b2lkIGlv
bmljX2Rldl9jbWRfcG9ydF9wYXVzZShzdHJ1Y3QgaW9uaWNfZGV2ICppZGV2LCB1OCBwYXVzZV90
eXBlKQ0KPiAgCWlvbmljX2Rldl9jbWRfZ28oaWRldiwgJmNtZCk7DQo+ICB9DQo+ICANCj4gKy8q
IFZGIGNvbW1hbmRzICovDQo+ICtpbnQgaW9uaWNfc2V0X3ZmX2NvbmZpZyhzdHJ1Y3QgaW9uaWMg
KmlvbmljLCBpbnQgdmYsIHU4IGF0dHIsIHU4ICpkYXRhKQ0KPiArew0KSSBmb3Jnb3QgdG8gbWVu
dGlvbiBpbiBteSBwcmV2aW91cyByZXZpZXcgY29tbWVudCB0aGF0IHNldF92Zl9jb25maWcoKQ0K
YW5kIG90aGVyIFZGIGNvbmZpZyBmcmllbmQgY2FsbGJhY2sgZnVuY3Rpb25zIGNhbiByYWNlIHdp
dGgNCmlvbmljX3NyaW92X2NvbmZpZ3VyZSgpLg0KDQpGb3JtZXIgaXMgY2FsbGVkIGZyb20gbmV0
bGluayBjb250ZXh0LCBsYXRlciBpcyBjYWxsZWQgZnJvbSBzeXNmcy4NCkl0cyBub3QgdG9vIGhh
cmQgdG8gY3Jhc2ggdGhlIHN5c3RlbSBib3RoIHJhY2luZyB3aXRoIGVhY2ggb3RoZXIuDQoNCkhl
bmNlIHByb3RlY3QgdGhlbSB1c2luZyByd3NlbSwgd2hlcmUgc2V0X3ZmXygpIGFuZCBzcmlvdl9j
b25maWd1cmUoKQ0KZG9lcyBkb3duL3VwX3dyaXRlKCkgYW5kIGdldF92Zl9jb25maWcoKSBhbmQg
Z2V0X3ZmX3N0YXQoKSBkb2VzDQpkb3duX3VwL3JlYWQoKS4NCg0KPiArCXVuaW9uIGlvbmljX2Rl
dl9jbWQgY21kID0gew0KPiArCQkudmZfc2V0YXR0ci5vcGNvZGUgPSBJT05JQ19DTURfVkZfU0VU
QVRUUiwNCj4gKwkJLnZmX3NldGF0dHIuYXR0ciA9IGF0dHIsDQo+ICsJCS52Zl9zZXRhdHRyLnZm
X2luZGV4ID0gdmYsDQo+ICsJfTsNCj4gKwlpbnQgZXJyOw0KPiArDQo+ICsJaWYgKHZmID49IGlv
bmljLT5udW1fdmZzKQ0KPiArCQlyZXR1cm4gLUVJTlZBTDsNCj4gKw0KPiArCXN3aXRjaCAoYXR0
cikgew0KPiArCWNhc2UgSU9OSUNfVkZfQVRUUl9TUE9PRkNISzoNCj4gKwkJY21kLnZmX3NldGF0
dHIuc3Bvb2ZjaGsgPSAqZGF0YTsNCj4gKwkJZGV2X2RiZyhpb25pYy0+ZGV2LCAiJXM6IHZmICVk
IHNwb29mICVkXG4iLA0KPiArCQkJX19mdW5jX18sIHZmLCAqZGF0YSk7DQo+ICsJCWJyZWFrOw0K
PiArCWNhc2UgSU9OSUNfVkZfQVRUUl9UUlVTVDoNCj4gKwkJY21kLnZmX3NldGF0dHIudHJ1c3Qg
PSAqZGF0YTsNCj4gKwkJZGV2X2RiZyhpb25pYy0+ZGV2LCAiJXM6IHZmICVkIHRydXN0ICVkXG4i
LA0KPiArCQkJX19mdW5jX18sIHZmLCAqZGF0YSk7DQo+ICsJCWJyZWFrOw0KPiArCWNhc2UgSU9O
SUNfVkZfQVRUUl9MSU5LU1RBVEU6DQo+ICsJCWNtZC52Zl9zZXRhdHRyLmxpbmtzdGF0ZSA9ICpk
YXRhOw0KPiArCQlkZXZfZGJnKGlvbmljLT5kZXYsICIlczogdmYgJWQgbGlua3N0YXRlICVkXG4i
LA0KPiArCQkJX19mdW5jX18sIHZmLCAqZGF0YSk7DQo+ICsJCWJyZWFrOw0KPiArCWNhc2UgSU9O
SUNfVkZfQVRUUl9NQUM6DQo+ICsJCWV0aGVyX2FkZHJfY29weShjbWQudmZfc2V0YXR0ci5tYWNh
ZGRyLCBkYXRhKTsNCj4gKwkJZGV2X2RiZyhpb25pYy0+ZGV2LCAiJXM6IHZmICVkIG1hY2FkZHIg
JXBNXG4iLA0KPiArCQkJX19mdW5jX18sIHZmLCBkYXRhKTsNCj4gKwkJYnJlYWs7DQo+ICsJY2Fz
ZSBJT05JQ19WRl9BVFRSX1ZMQU46DQo+ICsJCWNtZC52Zl9zZXRhdHRyLnZsYW5pZCA9IGNwdV90
b19sZTE2KCoodTE2ICopZGF0YSk7DQo+ICsJCWRldl9kYmcoaW9uaWMtPmRldiwgIiVzOiB2ZiAl
ZCB2bGFuICVkXG4iLA0KPiArCQkJX19mdW5jX18sIHZmLCAqKHUxNiAqKWRhdGEpOw0KPiArCQli
cmVhazsNCj4gKwljYXNlIElPTklDX1ZGX0FUVFJfUkFURToNCj4gKwkJY21kLnZmX3NldGF0dHIu
bWF4cmF0ZSA9IGNwdV90b19sZTMyKCoodTMyICopZGF0YSk7DQo+ICsJCWRldl9kYmcoaW9uaWMt
PmRldiwgIiVzOiB2ZiAlZCBtYXhyYXRlICVkXG4iLA0KPiArCQkJX19mdW5jX18sIHZmLCAqKHUz
MiAqKWRhdGEpOw0KPiArCQlicmVhazsNCj4gKwljYXNlIElPTklDX1ZGX0FUVFJfU1RBVFNBRERS
Og0KPiArCQljbWQudmZfc2V0YXR0ci5zdGF0c19wYSA9IGNwdV90b19sZTY0KCoodTY0ICopZGF0
YSk7DQo+ICsJCWRldl9kYmcoaW9uaWMtPmRldiwgIiVzOiB2ZiAlZCBzdGF0c19wYSAweCUwOGxs
eFxuIiwNCj4gKwkJCV9fZnVuY19fLCB2ZiwgKih1NjQgKilkYXRhKTsNCj4gKwkJYnJlYWs7DQo+
ICsJZGVmYXVsdDoNCj4gKwkJcmV0dXJuIC1FSU5WQUw7DQo+ICsJfQ0KPiArDQo+ICsJbXV0ZXhf
bG9jaygmaW9uaWMtPmRldl9jbWRfbG9jayk7DQo+ICsJaW9uaWNfZGV2X2NtZF9nbygmaW9uaWMt
PmlkZXYsICZjbWQpOw0KPiArCWVyciA9IGlvbmljX2Rldl9jbWRfd2FpdChpb25pYywgREVWQ01E
X1RJTUVPVVQpOw0KPiArCW11dGV4X3VubG9jaygmaW9uaWMtPmRldl9jbWRfbG9jayk7DQo+ICsN
Cj4gKwlyZXR1cm4gZXJyOw0KPiArfQ0KPiArDQo+ICAvKiBMSUYgY29tbWFuZHMgKi8NCj4gIHZv
aWQgaW9uaWNfZGV2X2NtZF9saWZfaWRlbnRpZnkoc3RydWN0IGlvbmljX2RldiAqaWRldiwgdTgg
dHlwZSwgdTggdmVyKQ0KPiAgew0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvZXRoZXJuZXQv
cGVuc2FuZG8vaW9uaWMvaW9uaWNfZGV2LmggYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9wZW5zYW5k
by9pb25pYy9pb25pY19kZXYuaA0KPiBpbmRleCA0NjY1YzVkYzUzMjQuLjc4MzhlMzQyYzRmZCAx
MDA2NDQNCj4gLS0tIGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvcGVuc2FuZG8vaW9uaWMvaW9uaWNf
ZGV2LmgNCj4gKysrIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvcGVuc2FuZG8vaW9uaWMvaW9uaWNf
ZGV2LmgNCj4gQEAgLTExMyw2ICsxMTMsMTIgQEAgc3RhdGljX2Fzc2VydChzaXplb2Yoc3RydWN0
IGlvbmljX3J4cV9kZXNjKSA9PSAxNik7DQo+ICBzdGF0aWNfYXNzZXJ0KHNpemVvZihzdHJ1Y3Qg
aW9uaWNfcnhxX3NnX2Rlc2MpID09IDEyOCk7DQo+ICBzdGF0aWNfYXNzZXJ0KHNpemVvZihzdHJ1
Y3QgaW9uaWNfcnhxX2NvbXApID09IDE2KTsNCj4gIA0KPiArLyogU1IvSU9WICovDQo+ICtzdGF0
aWNfYXNzZXJ0KHNpemVvZihzdHJ1Y3QgaW9uaWNfdmZfc2V0YXR0cl9jbWQpID09IDY0KTsNCj4g
K3N0YXRpY19hc3NlcnQoc2l6ZW9mKHN0cnVjdCBpb25pY192Zl9zZXRhdHRyX2NvbXApID09IDE2
KTsNCj4gK3N0YXRpY19hc3NlcnQoc2l6ZW9mKHN0cnVjdCBpb25pY192Zl9nZXRhdHRyX2NtZCkg
PT0gNjQpOw0KPiArc3RhdGljX2Fzc2VydChzaXplb2Yoc3RydWN0IGlvbmljX3ZmX2dldGF0dHJf
Y29tcCkgPT0gMTYpOw0KPiArDQo+ICBzdHJ1Y3QgaW9uaWNfZGV2aW5mbyB7DQo+ICAJdTggYXNp
Y190eXBlOw0KPiAgCXU4IGFzaWNfcmV2Ow0KPiBAQCAtMjc1LDYgKzI4MSw3IEBAIHZvaWQgaW9u
aWNfZGV2X2NtZF9wb3J0X2F1dG9uZWcoc3RydWN0IGlvbmljX2RldiAqaWRldiwgdTggYW5fZW5h
YmxlKTsNCj4gIHZvaWQgaW9uaWNfZGV2X2NtZF9wb3J0X2ZlYyhzdHJ1Y3QgaW9uaWNfZGV2ICpp
ZGV2LCB1OCBmZWNfdHlwZSk7DQo+ICB2b2lkIGlvbmljX2Rldl9jbWRfcG9ydF9wYXVzZShzdHJ1
Y3QgaW9uaWNfZGV2ICppZGV2LCB1OCBwYXVzZV90eXBlKTsNCj4gIA0KPiAraW50IGlvbmljX3Nl
dF92Zl9jb25maWcoc3RydWN0IGlvbmljICppb25pYywgaW50IHZmLCB1OCBhdHRyLCB1OCAqZGF0
YSk7DQo+ICB2b2lkIGlvbmljX2Rldl9jbWRfbGlmX2lkZW50aWZ5KHN0cnVjdCBpb25pY19kZXYg
KmlkZXYsIHU4IHR5cGUsIHU4IHZlcik7DQo+ICB2b2lkIGlvbmljX2Rldl9jbWRfbGlmX2luaXQo
c3RydWN0IGlvbmljX2RldiAqaWRldiwgdTE2IGxpZl9pbmRleCwNCj4gIAkJCSAgICBkbWFfYWRk
cl90IGFkZHIpOw0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvcGVuc2FuZG8v
aW9uaWMvaW9uaWNfbGlmLmMgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9wZW5zYW5kby9pb25pYy9p
b25pY19saWYuYw0KPiBpbmRleCA2MGZkMTRkZjQ5ZDcuLjllYjNjZTA1N2FhOCAxMDA2NDQNCj4g
LS0tIGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvcGVuc2FuZG8vaW9uaWMvaW9uaWNfbGlmLmMNCj4g
KysrIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvcGVuc2FuZG8vaW9uaWMvaW9uaWNfbGlmLmMNCj4g
QEAgLTE2MTYsNiArMTYxNiwxNjggQEAgaW50IGlvbmljX3N0b3Aoc3RydWN0IG5ldF9kZXZpY2Ug
Km5ldGRldikNCj4gIAlyZXR1cm4gZXJyOw0KPiAgfQ0KPiAgDQo+ICtzdGF0aWMgaW50IGlvbmlj
X2dldF92Zl9jb25maWcoc3RydWN0IG5ldF9kZXZpY2UgKm5ldGRldiwNCj4gKwkJCSAgICAgICBp
bnQgdmYsIHN0cnVjdCBpZmxhX3ZmX2luZm8gKml2ZikNCj4gK3sNCj4gKwlzdHJ1Y3QgaW9uaWNf
bGlmICpsaWYgPSBuZXRkZXZfcHJpdihuZXRkZXYpOw0KPiArCXN0cnVjdCBpb25pYyAqaW9uaWMg
PSBsaWYtPmlvbmljOw0KPiArDQo+ICsJaWYgKHZmID49IGlvbmljLT5udW1fdmZzKQ0KPiArCQly
ZXR1cm4gLUVJTlZBTDsNCj4gKw0KPiArCWl2Zi0+dmYgICAgICAgICAgID0gdmY7DQo+ICsJaXZm
LT52bGFuICAgICAgICAgPSBpb25pYy0+dmZbdmZdLT52bGFuaWQ7DQo+ICsJaXZmLT5xb3MJICA9
IDA7DQo+ICsJaXZmLT5zcG9vZmNoayAgICAgPSBpb25pYy0+dmZbdmZdLT5zcG9vZmNoazsNCj4g
KwlpdmYtPmxpbmtzdGF0ZSAgICA9IGlvbmljLT52Zlt2Zl0tPmxpbmtzdGF0ZTsNCj4gKwlpdmYt
Pm1heF90eF9yYXRlICA9IGlvbmljLT52Zlt2Zl0tPm1heHJhdGU7DQo+ICsJaXZmLT50cnVzdGVk
ICAgICAgPSBpb25pYy0+dmZbdmZdLT50cnVzdGVkOw0KPiArCWV0aGVyX2FkZHJfY29weShpdmYt
Pm1hYywgaW9uaWMtPnZmW3ZmXS0+bWFjYWRkcik7DQo+ICsNCj4gKwlyZXR1cm4gMDsNCj4gK30N
Cj4gKw0KPiArc3RhdGljIGludCBpb25pY19nZXRfdmZfc3RhdHMoc3RydWN0IG5ldF9kZXZpY2Ug
Km5ldGRldiwgaW50IHZmLA0KPiArCQkJICAgICAgc3RydWN0IGlmbGFfdmZfc3RhdHMgKnZmX3N0
YXRzKQ0KPiArew0KPiArCXN0cnVjdCBpb25pY19saWYgKmxpZiA9IG5ldGRldl9wcml2KG5ldGRl
dik7DQo+ICsJc3RydWN0IGlvbmljICppb25pYyA9IGxpZi0+aW9uaWM7DQo+ICsJc3RydWN0IGlv
bmljX2xpZl9zdGF0cyAqdnM7DQo+ICsNCj4gKwlpZiAodmYgPj0gaW9uaWMtPm51bV92ZnMpDQo+
ICsJCXJldHVybiAtRUlOVkFMOw0KPiArDQo+ICsJbWVtc2V0KHZmX3N0YXRzLCAwLCBzaXplb2Yo
KnZmX3N0YXRzKSk7DQo+ICsJdnMgPSAmaW9uaWMtPnZmW3ZmXS0+c3RhdHM7DQo+ICsNCj4gKwl2
Zl9zdGF0cy0+cnhfcGFja2V0cyA9IGxlNjRfdG9fY3B1KHZzLT5yeF91Y2FzdF9wYWNrZXRzKTsN
Cj4gKwl2Zl9zdGF0cy0+dHhfcGFja2V0cyA9IGxlNjRfdG9fY3B1KHZzLT50eF91Y2FzdF9wYWNr
ZXRzKTsNCj4gKwl2Zl9zdGF0cy0+cnhfYnl0ZXMgICA9IGxlNjRfdG9fY3B1KHZzLT5yeF91Y2Fz
dF9ieXRlcyk7DQo+ICsJdmZfc3RhdHMtPnR4X2J5dGVzICAgPSBsZTY0X3RvX2NwdSh2cy0+dHhf
dWNhc3RfYnl0ZXMpOw0KPiArCXZmX3N0YXRzLT5icm9hZGNhc3QgID0gbGU2NF90b19jcHUodnMt
PnJ4X2JjYXN0X3BhY2tldHMpOw0KPiArCXZmX3N0YXRzLT5tdWx0aWNhc3QgID0gbGU2NF90b19j
cHUodnMtPnJ4X21jYXN0X3BhY2tldHMpOw0KPiArCXZmX3N0YXRzLT5yeF9kcm9wcGVkID0gbGU2
NF90b19jcHUodnMtPnJ4X3VjYXN0X2Ryb3BfcGFja2V0cykgKw0KPiArCQkJICAgICAgIGxlNjRf
dG9fY3B1KHZzLT5yeF9tY2FzdF9kcm9wX3BhY2tldHMpICsNCj4gKwkJCSAgICAgICBsZTY0X3Rv
X2NwdSh2cy0+cnhfYmNhc3RfZHJvcF9wYWNrZXRzKTsNCj4gKwl2Zl9zdGF0cy0+dHhfZHJvcHBl
ZCA9IGxlNjRfdG9fY3B1KHZzLT50eF91Y2FzdF9kcm9wX3BhY2tldHMpICsNCj4gKwkJCSAgICAg
ICBsZTY0X3RvX2NwdSh2cy0+dHhfbWNhc3RfZHJvcF9wYWNrZXRzKSArDQo+ICsJCQkgICAgICAg
bGU2NF90b19jcHUodnMtPnR4X2JjYXN0X2Ryb3BfcGFja2V0cyk7DQo+ICsNCj4gKwlyZXR1cm4g
MDsNCj4gK30NCj4gKw0KPiArc3RhdGljIGludCBpb25pY19zZXRfdmZfbWFjKHN0cnVjdCBuZXRf
ZGV2aWNlICpuZXRkZXYsIGludCB2ZiwgdTggKm1hYykNCj4gK3sNCj4gKwlzdHJ1Y3QgaW9uaWNf
bGlmICpsaWYgPSBuZXRkZXZfcHJpdihuZXRkZXYpOw0KPiArCWludCByZXQ7DQo+ICsNCj4gKwlp
ZiAoIShpc196ZXJvX2V0aGVyX2FkZHIobWFjKSB8fCBpc192YWxpZF9ldGhlcl9hZGRyKG1hYykp
KQ0KPiArCQlyZXR1cm4gLUVJTlZBTDsNCj4gKw0KPiArCXJldCA9IGlvbmljX3NldF92Zl9jb25m
aWcobGlmLT5pb25pYywgdmYsDQo+ICsJCQkJICBJT05JQ19WRl9BVFRSX01BQywgbWFjKTsNCj4g
KwlpZiAoIXJldCkNCj4gKwkJZXRoZXJfYWRkcl9jb3B5KGxpZi0+aW9uaWMtPnZmW3ZmXS0+bWFj
YWRkciwgbWFjKTsNCj4gKw0KPiArCXJldHVybiByZXQ7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyBp
bnQgaW9uaWNfc2V0X3ZmX3ZsYW4oc3RydWN0IG5ldF9kZXZpY2UgKm5ldGRldiwgaW50IHZmLCB1
MTYgdmxhbiwNCj4gKwkJCSAgICAgdTggcW9zLCBfX2JlMTYgcHJvdG8pDQo+ICt7DQo+ICsJc3Ry
dWN0IGlvbmljX2xpZiAqbGlmID0gbmV0ZGV2X3ByaXYobmV0ZGV2KTsNCj4gKwlpbnQgcmV0Ow0K
PiArDQo+ICsJLyogdW50aWwgc29tZWRheSB3aGVuIHdlIHN1cHBvcnQgcW9zICovDQo+ICsJaWYg
KHFvcykNCj4gKwkJcmV0dXJuIC1FSU5WQUw7DQo+ICsNCj4gKwlpZiAodmxhbiA+IDQwOTUpDQo+
ICsJCXJldHVybiAtRUlOVkFMOw0KPiArDQo+ICsJaWYgKHByb3RvICE9IGh0b25zKEVUSF9QXzgw
MjFRKSkNCj4gKwkJcmV0dXJuIC1FUFJPVE9OT1NVUFBPUlQ7DQo+ICsNCj4gKwlyZXQgPSBpb25p
Y19zZXRfdmZfY29uZmlnKGxpZi0+aW9uaWMsIHZmLA0KPiArCQkJCSAgSU9OSUNfVkZfQVRUUl9W
TEFOLCAodTggKikmdmxhbik7DQo+ICsJaWYgKCFyZXQpDQo+ICsJCWxpZi0+aW9uaWMtPnZmW3Zm
XS0+dmxhbmlkID0gdmxhbjsNCj4gKw0KPiArCXJldHVybiByZXQ7DQo+ICt9DQo+ICsNCj4gK3N0
YXRpYyBpbnQgaW9uaWNfc2V0X3ZmX3JhdGUoc3RydWN0IG5ldF9kZXZpY2UgKm5ldGRldiwgaW50
IHZmLA0KPiArCQkJICAgICBpbnQgdHhfbWluLCBpbnQgdHhfbWF4KQ0KPiArew0KPiArCXN0cnVj
dCBpb25pY19saWYgKmxpZiA9IG5ldGRldl9wcml2KG5ldGRldik7DQo+ICsJaW50IHJldDsNCj4g
Kw0KPiArCS8qIHNldHRpbmcgdGhlIG1pbiBqdXN0IHNlZW1zIHNpbGx5ICovDQo+ICsJaWYgKHR4
X21pbikNCj4gKwkJcmV0dXJuIC1FSU5WQUw7DQo+ICsNCj4gKwlyZXQgPSBpb25pY19zZXRfdmZf
Y29uZmlnKGxpZi0+aW9uaWMsIHZmLA0KPiArCQkJCSAgSU9OSUNfVkZfQVRUUl9SQVRFLCAodTgg
KikmdHhfbWF4KTsNCj4gKwlpZiAoIXJldCkNCj4gKwkJbGlmLT5pb25pYy0+dmZbdmZdLT5tYXhy
YXRlID0gdHhfbWF4Ow0KPiArDQo+ICsJcmV0dXJuIHJldDsNCj4gK30NCj4gKw0KPiArc3RhdGlj
IGludCBpb25pY19zZXRfdmZfc3Bvb2ZjaGsoc3RydWN0IG5ldF9kZXZpY2UgKm5ldGRldiwgaW50
IHZmLCBib29sIHNldCkNCj4gK3sNCj4gKwlzdHJ1Y3QgaW9uaWNfbGlmICpsaWYgPSBuZXRkZXZf
cHJpdihuZXRkZXYpOw0KPiArCXU4IGRhdGEgPSBzZXQ7ICAvKiBjb252ZXJ0IHRvIHU4IGZvciBj
b25maWcgKi8NCj4gKwlpbnQgcmV0Ow0KPiArDQo+ICsJcmV0ID0gaW9uaWNfc2V0X3ZmX2NvbmZp
ZyhsaWYtPmlvbmljLCB2ZiwNCj4gKwkJCQkgIElPTklDX1ZGX0FUVFJfU1BPT0ZDSEssICZkYXRh
KTsNCj4gKwlpZiAoIXJldCkNCj4gKwkJbGlmLT5pb25pYy0+dmZbdmZdLT5zcG9vZmNoayA9IGRh
dGE7DQo+ICsNCj4gKwlyZXR1cm4gcmV0Ow0KPiArfQ0KPiArDQo+ICtzdGF0aWMgaW50IGlvbmlj
X3NldF92Zl90cnVzdChzdHJ1Y3QgbmV0X2RldmljZSAqbmV0ZGV2LCBpbnQgdmYsIGJvb2wgc2V0
KQ0KPiArew0KPiArCXN0cnVjdCBpb25pY19saWYgKmxpZiA9IG5ldGRldl9wcml2KG5ldGRldik7
DQo+ICsJdTggZGF0YSA9IHNldDsgIC8qIGNvbnZlcnQgdG8gdTggZm9yIGNvbmZpZyAqLw0KPiAr
CWludCByZXQ7DQo+ICsNCj4gKwlyZXQgPSBpb25pY19zZXRfdmZfY29uZmlnKGxpZi0+aW9uaWMs
IHZmLA0KPiArCQkJCSAgSU9OSUNfVkZfQVRUUl9UUlVTVCwgJmRhdGEpOw0KPiArCWlmICghcmV0
KQ0KPiArCQlsaWYtPmlvbmljLT52Zlt2Zl0tPnRydXN0ZWQgPSBkYXRhOw0KPiArDQo+ICsJcmV0
dXJuIHJldDsNCj4gK30NCj4gKw0KPiArc3RhdGljIGludCBpb25pY19zZXRfdmZfbGlua19zdGF0
ZShzdHJ1Y3QgbmV0X2RldmljZSAqbmV0ZGV2LCBpbnQgdmYsIGludCBzZXQpDQo+ICt7DQo+ICsJ
c3RydWN0IGlvbmljX2xpZiAqbGlmID0gbmV0ZGV2X3ByaXYobmV0ZGV2KTsNCj4gKwl1OCBkYXRh
Ow0KPiArCWludCByZXQ7DQo+ICsNCj4gKwlzd2l0Y2ggKHNldCkgew0KPiArCWNhc2UgSUZMQV9W
Rl9MSU5LX1NUQVRFX0FVVE86DQo+ICsJCWRhdGEgPSBJT05JQ19WRl9MSU5LX1NUQVRVU19BVVRP
Ow0KPiArCQlicmVhazsNCj4gKwljYXNlIElGTEFfVkZfTElOS19TVEFURV9FTkFCTEU6DQo+ICsJ
CWRhdGEgPSBJT05JQ19WRl9MSU5LX1NUQVRVU19VUDsNCj4gKwkJYnJlYWs7DQo+ICsJY2FzZSBJ
RkxBX1ZGX0xJTktfU1RBVEVfRElTQUJMRToNCj4gKwkJZGF0YSA9IElPTklDX1ZGX0xJTktfU1RB
VFVTX0RPV047DQo+ICsJCWJyZWFrOw0KPiArCX0NCj4gKw0KPiArCXJldCA9IGlvbmljX3NldF92
Zl9jb25maWcobGlmLT5pb25pYywgdmYsDQo+ICsJCQkJICBJT05JQ19WRl9BVFRSX0xJTktTVEFU
RSwgJmRhdGEpOw0KPiArCWlmICghcmV0KQ0KPiArCQlsaWYtPmlvbmljLT52Zlt2Zl0tPmxpbmtz
dGF0ZSA9IHNldDsNCj4gKw0KPiArCXJldHVybiByZXQ7DQo+ICt9DQo+ICsNCj4gIHN0YXRpYyBj
b25zdCBzdHJ1Y3QgbmV0X2RldmljZV9vcHMgaW9uaWNfbmV0ZGV2X29wcyA9IHsNCj4gIAkubmRv
X29wZW4gICAgICAgICAgICAgICA9IGlvbmljX29wZW4sDQo+ICAJLm5kb19zdG9wICAgICAgICAg
ICAgICAgPSBpb25pY19zdG9wLA0KPiBAQCAtMTYyOSw2ICsxNzkxLDE0IEBAIHN0YXRpYyBjb25z
dCBzdHJ1Y3QgbmV0X2RldmljZV9vcHMgaW9uaWNfbmV0ZGV2X29wcyA9IHsNCj4gIAkubmRvX2No
YW5nZV9tdHUgICAgICAgICA9IGlvbmljX2NoYW5nZV9tdHUsDQo+ICAJLm5kb192bGFuX3J4X2Fk
ZF92aWQgICAgPSBpb25pY192bGFuX3J4X2FkZF92aWQsDQo+ICAJLm5kb192bGFuX3J4X2tpbGxf
dmlkICAgPSBpb25pY192bGFuX3J4X2tpbGxfdmlkLA0KPiArCS5uZG9fc2V0X3ZmX3ZsYW4JPSBp
b25pY19zZXRfdmZfdmxhbiwNCj4gKwkubmRvX3NldF92Zl90cnVzdAk9IGlvbmljX3NldF92Zl90
cnVzdCwNCj4gKwkubmRvX3NldF92Zl9tYWMJCT0gaW9uaWNfc2V0X3ZmX21hYywNCj4gKwkubmRv
X3NldF92Zl9yYXRlCT0gaW9uaWNfc2V0X3ZmX3JhdGUsDQo+ICsJLm5kb19zZXRfdmZfc3Bvb2Zj
aGsJPSBpb25pY19zZXRfdmZfc3Bvb2ZjaGssDQo+ICsJLm5kb19nZXRfdmZfY29uZmlnCT0gaW9u
aWNfZ2V0X3ZmX2NvbmZpZywNCj4gKwkubmRvX3NldF92Zl9saW5rX3N0YXRlCT0gaW9uaWNfc2V0
X3ZmX2xpbmtfc3RhdGUsDQo+ICsJLm5kb19nZXRfdmZfc3RhdHMgICAgICAgPSBpb25pY19nZXRf
dmZfc3RhdHMsDQo+ICB9Ow0KPiAgDQo+ICBpbnQgaW9uaWNfcmVzZXRfcXVldWVzKHN0cnVjdCBp
b25pY19saWYgKmxpZikNCj4gQEAgLTE5NjEsMTggKzIxMzEsMjIgQEAgc3RhdGljIGludCBpb25p
Y19zdGF0aW9uX3NldChzdHJ1Y3QgaW9uaWNfbGlmICpsaWYpDQo+ICAJaWYgKGVycikNCj4gIAkJ
cmV0dXJuIGVycjsNCj4gIA0KPiArCWlmIChpc196ZXJvX2V0aGVyX2FkZHIoY3R4LmNvbXAubGlm
X2dldGF0dHIubWFjKSkNCj4gKwkJcmV0dXJuIDA7DQo+ICsNCj4gIAltZW1jcHkoYWRkci5zYV9k
YXRhLCBjdHguY29tcC5saWZfZ2V0YXR0ci5tYWMsIG5ldGRldi0+YWRkcl9sZW4pOw0KPiAgCWFk
ZHIuc2FfZmFtaWx5ID0gQUZfSU5FVDsNCj4gIAllcnIgPSBldGhfcHJlcGFyZV9tYWNfYWRkcl9j
aGFuZ2UobmV0ZGV2LCAmYWRkcik7DQo+IC0JaWYgKGVycikNCj4gLQkJcmV0dXJuIGVycjsNCj4g
LQ0KPiAtCWlmICghaXNfemVyb19ldGhlcl9hZGRyKG5ldGRldi0+ZGV2X2FkZHIpKSB7DQo+IC0J
CW5ldGRldl9kYmcobGlmLT5uZXRkZXYsICJkZWxldGluZyBzdGF0aW9uIE1BQyBhZGRyICVwTVxu
IiwNCj4gLQkJCSAgIG5ldGRldi0+ZGV2X2FkZHIpOw0KPiAtCQlpb25pY19saWZfYWRkcihsaWYs
IG5ldGRldi0+ZGV2X2FkZHIsIGZhbHNlKTsNCj4gKwlpZiAoZXJyKSB7DQo+ICsJCW5ldGRldl93
YXJuKGxpZi0+bmV0ZGV2LCAiaWdub3JpbmcgYmFkIE1BQyBhZGRyIGZyb20gTklDICVwTVxuIiwN
Cj4gKwkJCSAgICBhZGRyLnNhX2RhdGEpOw0KPiArCQlyZXR1cm4gMDsNCj4gIAl9DQo+ICANCj4g
KwluZXRkZXZfZGJnKGxpZi0+bmV0ZGV2LCAiZGVsZXRpbmcgc3RhdGlvbiBNQUMgYWRkciAlcE1c
biIsDQo+ICsJCSAgIG5ldGRldi0+ZGV2X2FkZHIpOw0KPiArCWlvbmljX2xpZl9hZGRyKGxpZiwg
bmV0ZGV2LT5kZXZfYWRkciwgZmFsc2UpOw0KPiArDQo+ICAJZXRoX2NvbW1pdF9tYWNfYWRkcl9j
aGFuZ2UobmV0ZGV2LCAmYWRkcik7DQo+ICAJbmV0ZGV2X2RiZyhsaWYtPm5ldGRldiwgImFkZGlu
ZyBzdGF0aW9uIE1BQyBhZGRyICVwTVxuIiwNCj4gIAkJICAgbmV0ZGV2LT5kZXZfYWRkcik7DQo+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9wZW5zYW5kby9pb25pYy9pb25pY19s
aWYuaCBiL2RyaXZlcnMvbmV0L2V0aGVybmV0L3BlbnNhbmRvL2lvbmljL2lvbmljX2xpZi5oDQo+
IGluZGV4IGE1NWZkMWY4YzMxYi4uMDNiOGJkN2UzNzMwIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJz
L25ldC9ldGhlcm5ldC9wZW5zYW5kby9pb25pYy9pb25pY19saWYuaA0KPiArKysgYi9kcml2ZXJz
L25ldC9ldGhlcm5ldC9wZW5zYW5kby9pb25pYy9pb25pY19saWYuaA0KPiBAQCAtMTk1LDYgKzE5
NSwxMiBAQCBzdGF0aWMgaW5saW5lIGludCBpb25pY193YWl0X2Zvcl9iaXQoc3RydWN0IGlvbmlj
X2xpZiAqbGlmLCBpbnQgYml0bmFtZSkNCj4gIAlyZXR1cm4gd2FpdF9vbl9iaXRfbG9jayhsaWYt
PnN0YXRlLCBiaXRuYW1lLCBUQVNLX0lOVEVSUlVQVElCTEUpOw0KPiAgfQ0KPiAgDQo+ICtzdGF0
aWMgaW5saW5lIGJvb2wgaW9uaWNfaXNfcGYoc3RydWN0IGlvbmljICppb25pYykNCj4gK3sNCj4g
KwlyZXR1cm4gaW9uaWMtPnBkZXYgJiYNCj4gKwkgICAgICAgaW9uaWMtPnBkZXYtPmRldmljZSA9
PSBQQ0lfREVWSUNFX0lEX1BFTlNBTkRPX0lPTklDX0VUSF9QRjsNCj4gK30NCj4gKw0KPiAgc3Rh
dGljIGlubGluZSB1MzIgaW9uaWNfY29hbF91c2VjX3RvX2h3KHN0cnVjdCBpb25pYyAqaW9uaWMs
IHUzMiB1c2VjcykNCj4gIHsNCj4gIAl1MzIgbXVsdCA9IGxlMzJfdG9fY3B1KGlvbmljLT5pZGVu
dC5kZXYuaW50cl9jb2FsX211bHQpOw0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvZXRoZXJu
ZXQvcGVuc2FuZG8vaW9uaWMvaW9uaWNfbWFpbi5jIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvcGVu
c2FuZG8vaW9uaWMvaW9uaWNfbWFpbi5jDQo+IGluZGV4IDM1OTBlYTdmZDg4YS4uODM3Yjg1ZjJm
ZWQ5IDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9wZW5zYW5kby9pb25pYy9p
b25pY19tYWluLmMNCj4gKysrIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvcGVuc2FuZG8vaW9uaWMv
aW9uaWNfbWFpbi5jDQo+IEBAIC0xNjUsNiArMTY1LDEwIEBAIHN0YXRpYyBjb25zdCBjaGFyICpp
b25pY19vcGNvZGVfdG9fc3RyKGVudW0gaW9uaWNfY21kX29wY29kZSBvcGNvZGUpDQo+ICAJCXJl
dHVybiAiSU9OSUNfQ01EX0ZXX0RPV05MT0FEIjsNCj4gIAljYXNlIElPTklDX0NNRF9GV19DT05U
Uk9MOg0KPiAgCQlyZXR1cm4gIklPTklDX0NNRF9GV19DT05UUk9MIjsNCj4gKwljYXNlIElPTklD
X0NNRF9WRl9HRVRBVFRSOg0KPiArCQlyZXR1cm4gIklPTklDX0NNRF9WRl9HRVRBVFRSIjsNCj4g
KwljYXNlIElPTklDX0NNRF9WRl9TRVRBVFRSOg0KPiArCQlyZXR1cm4gIklPTklDX0NNRF9WRl9T
RVRBVFRSIjsNCj4gIAlkZWZhdWx0Og0KPiAgCQlyZXR1cm4gIkRFVkNNRF9VTktOT1dOIjsNCj4g
IAl9DQo+IA0KDQo=
