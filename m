Return-Path: <netdev-owner@vger.kernel.org>
X-Original-To: lists+netdev@lfdr.de
Delivered-To: lists+netdev@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 3CB912E1ECA
	for <lists+netdev@lfdr.de>; Wed, 23 Dec 2020 16:50:01 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1728990AbgLWPlR (ORCPT <rfc822;lists+netdev@lfdr.de>);
        Wed, 23 Dec 2020 10:41:17 -0500
Received: from mail-mw2nam12on2068.outbound.protection.outlook.com ([40.107.244.68]:31200
        "EHLO NAM12-MW2-obe.outbound.protection.outlook.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S1728969AbgLWPlN (ORCPT <rfc822;netdev@vger.kernel.org>);
        Wed, 23 Dec 2020 10:41:13 -0500
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=FQYpgCmuDytFljAJsxPTUofoH0NtyuBrq5oZtIWb3jm3OfTHTUN9bPrvY7ZquOtfQXd3cTzY+QFdlCqy+8qEfGMueRmKB8gThmEgHn2kmL+EEnAJJ6V9emzdeZAWBmKJVedbf/xudMRkQr5eDtrxZNQwAnh8l47y/BUoeCVse2dYaK7l6rPhKr8cDXiPl0taFfpNnT0+rRhGb7pRKYeeiKoD26zFlV5qOBLuP7BIZ1h0mIlAAY7qWMemsP4vkGV7dlC/BqEqmYtyhrpwuRQumvF3h5aCRRO8t0rg9L/JkWB6+38C9QlBckhJImTatcWFRPZidt2oRG7O5hyv4ZiYXg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=NB1TVzT7dDpXh4jQzPJF/R0IOoa0R+icNbBhpz64aKg=;
 b=g7TQQwPlphav2rhUDG/LqpnuVnXtkNAouas5/Qr+gvfSy3rgyvYZh9+GLZbLp5Qg3ZZHq5n9o5X5la6boP0ohVL+sLxYD5CdvmushVm5VS2KUkoz6IPXg8pvW4TVXxYO+fFdFj9Dx0FLo6BVteM9AMr2yasxt+e1Q3m3myhfWPrpxooxIxl21Jnz4BcM90WsfhrG1twauoFVcg9khuLn57/CVJbTW6rEUDyE6XorGy0Pwf8tBeM/VsyTEMK8fdIm7HCbTdnY2u3kY5tQFlHn3a/LiD974Eohlx9Pv/DTGJVq5M0Topdy3snHGyr1+8pza841MhayOUrdT3HJdm6M+A==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=silabs.com; dmarc=pass action=none header.from=silabs.com;
 dkim=pass header.d=silabs.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=silabs.onmicrosoft.com; s=selector2-silabs-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=NB1TVzT7dDpXh4jQzPJF/R0IOoa0R+icNbBhpz64aKg=;
 b=QXB+FFimWyTeTFXPddEJUv5NFkdauMr9xgW1DOdpIUTa9hVnhnavKtYpXX8duuqnhSbZfOpzOyjn5OFCyqE60MQenKP9qeZfJEv3WP5zmsbTUO322sSK4OVXJ3MU3ugNn8NrNyPL6BRv66HtLmlINdIAWrRJYoCQBfgfnGgG4zQ=
Authentication-Results: vger.kernel.org; dkim=none (message not signed)
 header.d=none;vger.kernel.org; dmarc=none action=none header.from=silabs.com;
Received: from SN6PR11MB2718.namprd11.prod.outlook.com (2603:10b6:805:63::18)
 by SN6PR11MB2815.namprd11.prod.outlook.com (2603:10b6:805:62::13) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.3676.25; Wed, 23 Dec
 2020 15:40:05 +0000
Received: from SN6PR11MB2718.namprd11.prod.outlook.com
 ([fe80::a989:f850:6736:97ca]) by SN6PR11MB2718.namprd11.prod.outlook.com
 ([fe80::a989:f850:6736:97ca%5]) with mapi id 15.20.3700.026; Wed, 23 Dec 2020
 15:40:05 +0000
From:   Jerome Pouiller <Jerome.Pouiller@silabs.com>
To:     linux-wireless@vger.kernel.org, netdev@vger.kernel.org
Cc:     devel@driverdev.osuosl.org, linux-kernel@vger.kernel.org,
        Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
        Kalle Valo <kvalo@codeaurora.org>,
        "David S . Miller" <davem@davemloft.net>,
        devicetree@vger.kernel.org, Rob Herring <robh+dt@kernel.org>,
        linux-mmc@vger.kernel.org,
        =?UTF-8?q?Pali=20Roh=C3=A1r?= <pali@kernel.org>,
        Ulf Hansson <ulf.hansson@linaro.org>,
        =?UTF-8?q?J=C3=A9r=C3=B4me=20Pouiller?= 
        <jerome.pouiller@silabs.com>
Subject: [PATCH v4 10/24] wfx: add fwio.c/fwio.h
Date:   Wed, 23 Dec 2020 16:39:11 +0100
Message-Id: <20201223153925.73742-11-Jerome.Pouiller@silabs.com>
X-Mailer: git-send-email 2.29.2
In-Reply-To: <20201223153925.73742-1-Jerome.Pouiller@silabs.com>
References: <20201223153925.73742-1-Jerome.Pouiller@silabs.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
X-Originating-IP: [82.67.86.106]
X-ClientProxiedBy: SA0PR12CA0024.namprd12.prod.outlook.com
 (2603:10b6:806:6f::29) To SN6PR11MB2718.namprd11.prod.outlook.com
 (2603:10b6:805:63::18)
MIME-Version: 1.0
X-MS-Exchange-MessageSentRepresentingType: 1
Received: from pc-42.silabs.com (82.67.86.106) by SA0PR12CA0024.namprd12.prod.outlook.com (2603:10b6:806:6f::29) with Microsoft SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.3700.27 via Frontend Transport; Wed, 23 Dec 2020 15:40:03 +0000
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: f334169f-383c-4659-9f62-08d8a7590542
X-MS-TrafficTypeDiagnostic: SN6PR11MB2815:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <SN6PR11MB281584B44246CAF2CC9382A593DE0@SN6PR11MB2815.namprd11.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:1122;
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: dYf94p/Z/gV/8C1JpVCagCiLwFuag63D0bi0ZhnZf57O+5SGOCzIQ99bpp8/vo5iq70YTs4XLvuGTbD/N4M9OX+cg4x+Y3JrffGXAvVViDEdnu84UYyXBIU/No/Y2l+8G8lYwFq8c7Kdm2BXm6df7WEmrN5fgBoCrK5tV106feUT/EBnxYksbRvgeSaTd0EQKZMPZOmrzduSBO5gEO36GsUYlDTuxOdVSPVu8Vh1GEGXtoaI8y5ZokjHG5IQv5XQ9P6g4vsGkSVIijPZdgK/yyyWmcmmQfMvS/goVIWiy/PPm+QAhjfa299XMpfgS7bjSH2IIi5D/Nz7fmYaVv0WQPfPTeCEP3uKI39nCu9iIlPiB1D9ytOxAzCT88rUYgFMSD0OYM22y4XU94i4jV1N3w==
X-Forefront-Antispam-Report: CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:SN6PR11MB2718.namprd11.prod.outlook.com;PTR:;CAT:NONE;SFS:(396003)(136003)(366004)(376002)(39850400004)(346002)(66574015)(478600001)(83380400001)(8676002)(186003)(2906002)(8936002)(26005)(52116002)(107886003)(16526019)(7696005)(66946007)(7416002)(6486002)(956004)(2616005)(54906003)(66476007)(316002)(4326008)(6666004)(36756003)(5660300002)(1076003)(86362001)(66556008)(30864003);DIR:OUT;SFP:1101;
X-MS-Exchange-AntiSpam-MessageData: =?utf-8?B?ZUR2c0tKdmRadmprNHhJL3o0QmIyeVZ4Y3N6RkVoWW4rSC81SW1BUnFpeDBh?=
 =?utf-8?B?d3NJNkdzNnc0TjlnQ0tmZ3orVUlMMnFDOG1UNW9YVUNtVG9tc3lxYmRvZFc3?=
 =?utf-8?B?SmU3a2s1TzBiVGVBb2ZIUGxQcWhFdWx5VnFmL3hMT2NPMkJSMktnMUpvOW5G?=
 =?utf-8?B?L21HeW5JRnpIOSs0ZjB6eFh0eU5aSzdML0l3WEtLdGZJMWJHTm1lcUJnRUc2?=
 =?utf-8?B?OUU2Nmk4ZWthR0lrREt3UGpxeGpidDFaVDB3ZDlWN2IrWXhMeHhmd0VjdGJp?=
 =?utf-8?B?UXpWcVVYL3JScTd6bWMwK3NkZ3NBMVZCcGtYWVM1aU5lbEN3dDB6L1pSOUY0?=
 =?utf-8?B?eno5TitTVUJEYmVIY2dHNGVic1VuMjNLemJXZ2J0SGsvQ3IwU0ZjR2JXUElY?=
 =?utf-8?B?V1l6N0FuQUFXWFJVejJpMHdOc2NuVE9FdHR1L2E0aUM3SnRvVlZROGxQTGZH?=
 =?utf-8?B?S3FHaXg1YktPR2VHaDVLRmtTeVdsQlY4aHZCTkpXUXpOMHVDM1dBU3E5STF0?=
 =?utf-8?B?dFFtSDN1SFl2U1FIV0FGek95MHU4YldNU2JrOTRseW44TWErU0xlNnJNRUJT?=
 =?utf-8?B?SUZERGR1b3hUVzYzK1RkL0VzLzB0T2xaWFZaTWM1bDdsdm8wUlNFWFVFY0tG?=
 =?utf-8?B?c2NoQUFSVklBOE52OEJORXRiREd3Yi9YVlFFWWV0Wi8yZHRNUlN2ZkkwNFdP?=
 =?utf-8?B?SXQxUFljNXJGVklZRnRoTDUwMzRlTXhxRGhVcElPa2w3YnBnVW1PaHN2Kzgr?=
 =?utf-8?B?WnVrcjZjd01uNWVocWlud3EzZ3BKbW91SFArOFBLbUpCT2psdU0xZ3BUY1Zh?=
 =?utf-8?B?aVo3RFFiWVdUVERqU0RWdzVsYml5Wm1OVmtoTCswNDZzamMvek13eTJNVVlu?=
 =?utf-8?B?RnFNc3hCbnlEZnhaVHNiWHVnNUJzRzhsYjZGVmRvQWx4dXVEWHFOV2l4WjlS?=
 =?utf-8?B?ejVwSU52N3U5MEhPQURML3hCZERNYlJqd3k3Qjg5YjhCeGdoRXFua3JhSkRN?=
 =?utf-8?B?ZEJRUkV0TlNka2FrNkZKU0hDNDdhMVBJdFJDbkZnTDZhTGltZHhLejNZaWhB?=
 =?utf-8?B?THJmOVJPcEViYlVFc2c0NXV1RkJDMUkvVm5XUFRLamE5Z1JyaEtKSFRGanJr?=
 =?utf-8?B?Y0cyVnlJYWFGd2xXTlpDVi9VNDhpVThWTHNFamNsQkhMRkQ3ZERGem1mbnFS?=
 =?utf-8?B?SXZnN01FVUhiS1BNbnNFV3B3a2VPTjM4M1gwMUVhdTJuaW5UTEkwcGt3TkRL?=
 =?utf-8?B?azJGN3pQNU5ZMVBVSzlDeUNUWDlIbWZNdDNzRGx0eFhrWDMycG1za0pIOXJB?=
 =?utf-8?Q?uvsvNSK+8yeCkwaEV4FGLFJZbJb+Ydsm/8?=
X-OriginatorOrg: silabs.com
X-MS-Exchange-CrossTenant-AuthSource: SN6PR11MB2718.namprd11.prod.outlook.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 23 Dec 2020 15:40:05.4265
 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 54dbd822-5231-4b20-944d-6f4abcd541fb
X-MS-Exchange-CrossTenant-Network-Message-Id: f334169f-383c-4659-9f62-08d8a7590542
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: 06WUcs4lfNRa3CxmK2yxNY+B4xkbMfRNskMjnfdFS0Bm3kO8M5YZG5PAgMw1PmwX3rDhTNMOQnQPTcxvDYh0Yg==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: SN6PR11MB2815
Precedence: bulk
List-ID: <netdev.vger.kernel.org>
X-Mailing-List: netdev@vger.kernel.org

RnJvbTogSsOpcsO0bWUgUG91aWxsZXIgPGplcm9tZS5wb3VpbGxlckBzaWxhYnMuY29tPgoKU2ln
bmVkLW9mZi1ieTogSsOpcsO0bWUgUG91aWxsZXIgPGplcm9tZS5wb3VpbGxlckBzaWxhYnMuY29t
PgotLS0KIGRyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93ZngvZndpby5jIHwgNDA1ICsrKysr
KysrKysrKysrKysrKysrKysrKysKIGRyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93ZngvZndp
by5oIHwgIDE1ICsKIDIgZmlsZXMgY2hhbmdlZCwgNDIwIGluc2VydGlvbnMoKykKIGNyZWF0ZSBt
b2RlIDEwMDY0NCBkcml2ZXJzL25ldC93aXJlbGVzcy9zaWxhYnMvd2Z4L2Z3aW8uYwogY3JlYXRl
IG1vZGUgMTAwNjQ0IGRyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93ZngvZndpby5oCgpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9uZXQvd2lyZWxlc3Mvc2lsYWJzL3dmeC9md2lvLmMgYi9kcml2ZXJz
L25ldC93aXJlbGVzcy9zaWxhYnMvd2Z4L2Z3aW8uYwpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRl
eCAwMDAwMDAwMDAwMDAuLjNjOGIwYjc4N2Y0MgotLS0gL2Rldi9udWxsCisrKyBiL2RyaXZlcnMv
bmV0L3dpcmVsZXNzL3NpbGFicy93ZngvZndpby5jCkBAIC0wLDAgKzEsNDA1IEBACisvLyBTUERY
LUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5CisvKgorICogRmlybXdhcmUgbG9hZGlu
Zy4KKyAqCisgKiBDb3B5cmlnaHQgKGMpIDIwMTctMjAyMCwgU2lsaWNvbiBMYWJvcmF0b3JpZXMs
IEluYy4KKyAqIENvcHlyaWdodCAoYykgMjAxMCwgU1QtRXJpY3Nzb24KKyAqLworI2luY2x1ZGUg
PGxpbnV4L2Zpcm13YXJlLmg+CisjaW5jbHVkZSA8bGludXgvc2xhYi5oPgorI2luY2x1ZGUgPGxp
bnV4L21tLmg+CisjaW5jbHVkZSA8bGludXgvYml0ZmllbGQuaD4KKworI2luY2x1ZGUgImZ3aW8u
aCIKKyNpbmNsdWRlICJ3ZnguaCIKKyNpbmNsdWRlICJod2lvLmgiCisKKy8qIEFkZHJlc3NlcyBi
ZWxvdyBhcmUgaW4gU1JBTSBhcmVhICovCisjZGVmaW5lIFdGWF9ETkxEX0ZJRk8gICAgICAgICAg
ICAgMHgwOTAwNDAwMAorI2RlZmluZSAgICAgRE5MRF9CTE9DS19TSVpFICAgICAgICAgICAweDA0
MDAKKyNkZWZpbmUgICAgIEROTERfRklGT19TSVpFICAgICAgICAgICAgMHg4MDAwIC8qICgzMiAq
IEROTERfQkxPQ0tfU0laRSkgKi8KKy8qIERvd25sb2FkIENvbnRyb2wgQXJlYSAoRENBKSAqLwor
I2RlZmluZSBXRlhfRENBX0lNQUdFX1NJWkUgICAgICAgIDB4MDkwMEMwMDAKKyNkZWZpbmUgV0ZY
X0RDQV9QVVQgICAgICAgICAgICAgICAweDA5MDBDMDA0CisjZGVmaW5lIFdGWF9EQ0FfR0VUICAg
ICAgICAgICAgICAgMHgwOTAwQzAwOAorI2RlZmluZSBXRlhfRENBX0hPU1RfU1RBVFVTICAgICAg
IDB4MDkwMEMwMEMKKyNkZWZpbmUgICAgIEhPU1RfUkVBRFkgICAgICAgICAgICAgICAgMHg4NzY1
NDMyMQorI2RlZmluZSAgICAgSE9TVF9JTkZPX1JFQUQgICAgICAgICAgICAweEE3NTNCRDk5Cisj
ZGVmaW5lICAgICBIT1NUX1VQTE9BRF9QRU5ESU5HICAgICAgIDB4QUJDRERDQkEKKyNkZWZpbmUg
ICAgIEhPU1RfVVBMT0FEX0NPTVBMRVRFICAgICAgMHhENEM2NEE5OQorI2RlZmluZSAgICAgSE9T
VF9PS19UT19KVU1QICAgICAgICAgICAweDE3NEZDODgyCisjZGVmaW5lIFdGWF9EQ0FfTkNQX1NU
QVRVUyAgICAgICAgMHgwOTAwQzAxMAorI2RlZmluZSAgICAgTkNQX05PVF9SRUFEWSAgICAgICAg
ICAgICAweDEyMzQ1Njc4CisjZGVmaW5lICAgICBOQ1BfUkVBRFkgICAgICAgICAgICAgICAgIDB4
ODc2NTQzMjEKKyNkZWZpbmUgICAgIE5DUF9JTkZPX1JFQURZICAgICAgICAgICAgMHhCRDUzRUY5
OQorI2RlZmluZSAgICAgTkNQX0RPV05MT0FEX1BFTkRJTkcgICAgICAweEFCQ0REQ0JBCisjZGVm
aW5lICAgICBOQ1BfRE9XTkxPQURfQ09NUExFVEUgICAgIDB4Q0FGRUZFQ0EKKyNkZWZpbmUgICAg
IE5DUF9BVVRIX09LICAgICAgICAgICAgICAgMHhENEM2NEE5OQorI2RlZmluZSAgICAgTkNQX0FV
VEhfRkFJTCAgICAgICAgICAgICAweDE3NEZDODgyCisjZGVmaW5lICAgICBOQ1BfUFVCX0tFWV9S
RFkgICAgICAgICAgIDB4N0FCNDFEMTkKKyNkZWZpbmUgV0ZYX0RDQV9GV19TSUdOQVRVUkUgICAg
ICAweDA5MDBDMDE0CisjZGVmaW5lICAgICBGV19TSUdOQVRVUkVfU0laRSAgICAgICAgIDB4NDAK
KyNkZWZpbmUgV0ZYX0RDQV9GV19IQVNIICAgICAgICAgICAweDA5MDBDMDU0CisjZGVmaW5lICAg
ICBGV19IQVNIX1NJWkUgICAgICAgICAgICAgIDB4MDgKKyNkZWZpbmUgV0ZYX0RDQV9GV19WRVJT
SU9OICAgICAgICAweDA5MDBDMDVDCisjZGVmaW5lICAgICBGV19WRVJTSU9OX1NJWkUgICAgICAg
ICAgIDB4MDQKKyNkZWZpbmUgV0ZYX0RDQV9SRVNFUlZFRCAgICAgICAgICAweDA5MDBDMDYwCisj
ZGVmaW5lICAgICBEQ0FfUkVTRVJWRURfU0laRSAgICAgICAgIDB4MjAKKyNkZWZpbmUgV0ZYX1NU
QVRVU19JTkZPICAgICAgICAgICAweDA5MDBDMDgwCisjZGVmaW5lIFdGWF9CT09UTE9BREVSX0xB
QkVMICAgICAgMHgwOTAwQzA4NAorI2RlZmluZSAgICAgQk9PVExPQURFUl9MQUJFTF9TSVpFICAg
ICAweDNDCisjZGVmaW5lIFdGWF9QVEVfSU5GTyAgICAgICAgICAgICAgMHgwOTAwQzBDMAorI2Rl
ZmluZSAgICAgUFRFX0lORk9fS0VZU0VUX0lEWCAgICAgICAweDBECisjZGVmaW5lICAgICBQVEVf
SU5GT19TSVpFICAgICAgICAgICAgIDB4MTAKKyNkZWZpbmUgV0ZYX0VSUl9JTkZPICAgICAgICAg
ICAgICAweDA5MDBDMEQwCisjZGVmaW5lICAgICBFUlJfSU5WQUxJRF9TRUNfVFlQRSAgICAgIDB4
MDUKKyNkZWZpbmUgICAgIEVSUl9TSUdfVkVSSUZfRkFJTEVEICAgICAgMHgwRgorI2RlZmluZSAg
ICAgRVJSX0FFU19DVFJMX0tFWSAgICAgICAgICAweDEwCisjZGVmaW5lICAgICBFUlJfRUNDX1BV
Ql9LRVkgICAgICAgICAgIDB4MTEKKyNkZWZpbmUgICAgIEVSUl9NQUNfS0VZICAgICAgICAgICAg
ICAgMHgxOAorCisjZGVmaW5lIERDQV9USU1FT1VUICA1MCAvKiBtaWxsaXNlY29uZHMgKi8KKyNk
ZWZpbmUgV0FLRVVQX1RJTUVPVVQgMjAwIC8qIG1pbGxpc2Vjb25kcyAqLworCitzdGF0aWMgY29u
c3QgY2hhciAqIGNvbnN0IGZ3aW9fZXJyb3JzW10gPSB7CisJW0VSUl9JTlZBTElEX1NFQ19UWVBF
XSA9ICJJbnZhbGlkIHNlY3Rpb24gdHlwZSBvciB3cm9uZyBlbmNyeXB0aW9uIiwKKwlbRVJSX1NJ
R19WRVJJRl9GQUlMRURdID0gIlNpZ25hdHVyZSB2ZXJpZmljYXRpb24gZmFpbGVkIiwKKwlbRVJS
X0FFU19DVFJMX0tFWV0gPSAiQUVTIGNvbnRyb2wga2V5IG5vdCBpbml0aWFsaXplZCIsCisJW0VS
Ul9FQ0NfUFVCX0tFWV0gPSAiRUNDIHB1YmxpYyBrZXkgbm90IGluaXRpYWxpemVkIiwKKwlbRVJS
X01BQ19LRVldID0gIk1BQyBrZXkgbm90IGluaXRpYWxpemVkIiwKK307CisKKy8qIHJlcXVlc3Rf
ZmlybXdhcmUoKSBhbGxvY2F0ZSBkYXRhIHVzaW5nIHZtYWxsb2MoKS4gSXQgaXMgbm90IGNvbXBh
dGlibGUgd2l0aAorICogdW5kZXJseWluZyBoYXJkd2FyZSB0aGF0IHVzZSBETUEuIEZ1bmN0aW9u
IGJlbG93IGRldGVjdCB0aGlzIGNhc2UgYW5kCisgKiBhbGxvY2F0ZSBhIGJvdW5jZSBidWZmZXIg
aWYgbmVjZXNzYXJ5LgorICoKKyAqIE5vdGljZSB0aGF0LCBpbiBkb3VidCwgeW91IGNhbiBlbmFi
bGUgQ09ORklHX0RFQlVHX1NHIHRvIGFzayBrZXJuZWwgdG8KKyAqIGRldGVjdCB0aGlzIHByb2Js
ZW0gYXQgcnVudGltZSAgKGVsc2UsIGtlcm5lbCBzaWxlbnRseSBmYWlsKS4KKyAqCisgKiBOT1RF
OiBpdCBtYXkgYWxzbyBiZSBwb3NzaWJsZSB0byB1c2UgJ3BhZ2VzJyBmcm9tIHN0cnVjdCBmaXJt
d2FyZSBhbmQgYXZvaWQKKyAqIGJvdW5jZSBidWZmZXIKKyAqLworc3RhdGljIGludCBzcmFtX3dy
aXRlX2RtYV9zYWZlKHN0cnVjdCB3ZnhfZGV2ICp3ZGV2LCB1MzIgYWRkciwgY29uc3QgdTggKmJ1
ZiwKKwkJCSAgICAgICBzaXplX3QgbGVuKQoreworCWludCByZXQ7CisJY29uc3QgdTggKnRtcDsK
KworCWlmICghdmlydF9hZGRyX3ZhbGlkKGJ1ZikpIHsKKwkJdG1wID0ga21lbWR1cChidWYsIGxl
biwgR0ZQX0tFUk5FTCk7CisJCWlmICghdG1wKQorCQkJcmV0dXJuIC1FTk9NRU07CisJfSBlbHNl
IHsKKwkJdG1wID0gYnVmOworCX0KKwlyZXQgPSBzcmFtX2J1Zl93cml0ZSh3ZGV2LCBhZGRyLCB0
bXAsIGxlbik7CisJaWYgKHRtcCAhPSBidWYpCisJCWtmcmVlKHRtcCk7CisJcmV0dXJuIHJldDsK
K30KKworc3RhdGljIGludCBnZXRfZmlybXdhcmUoc3RydWN0IHdmeF9kZXYgKndkZXYsIHUzMiBr
ZXlzZXRfY2hpcCwKKwkJCWNvbnN0IHN0cnVjdCBmaXJtd2FyZSAqKmZ3LCBpbnQgKmZpbGVfb2Zm
c2V0KQoreworCWludCBrZXlzZXRfZmlsZTsKKwljaGFyIGZpbGVuYW1lWzI1Nl07CisJY29uc3Qg
Y2hhciAqZGF0YTsKKwlpbnQgcmV0OworCisJc25wcmludGYoZmlsZW5hbWUsIHNpemVvZihmaWxl
bmFtZSksICIlc18lMDJYLnNlYyIsCisJCSB3ZGV2LT5wZGF0YS5maWxlX2Z3LCBrZXlzZXRfY2hp
cCk7CisJcmV0ID0gZmlybXdhcmVfcmVxdWVzdF9ub3dhcm4oZncsIGZpbGVuYW1lLCB3ZGV2LT5k
ZXYpOworCWlmIChyZXQpIHsKKwkJZGV2X2luZm8od2Rldi0+ZGV2LCAiY2FuJ3QgbG9hZCAlcywg
ZmFsbGluZyBiYWNrIHRvICVzLnNlY1xuIiwKKwkJCSBmaWxlbmFtZSwgd2Rldi0+cGRhdGEuZmls
ZV9mdyk7CisJCXNucHJpbnRmKGZpbGVuYW1lLCBzaXplb2YoZmlsZW5hbWUpLCAiJXMuc2VjIiwK
KwkJCSB3ZGV2LT5wZGF0YS5maWxlX2Z3KTsKKwkJcmV0ID0gcmVxdWVzdF9maXJtd2FyZShmdywg
ZmlsZW5hbWUsIHdkZXYtPmRldik7CisJCWlmIChyZXQpIHsKKwkJCWRldl9lcnIod2Rldi0+ZGV2
LCAiY2FuJ3QgbG9hZCAlc1xuIiwgZmlsZW5hbWUpOworCQkJKmZ3ID0gTlVMTDsKKwkJCXJldHVy
biByZXQ7CisJCX0KKwl9CisKKwlkYXRhID0gKCpmdyktPmRhdGE7CisJaWYgKG1lbWNtcChkYXRh
LCAiS0VZU0VUIiwgNikgIT0gMCkgeworCQkvKiBMZWdhY3kgZmlybXdhcmUgZm9ybWF0ICovCisJ
CSpmaWxlX29mZnNldCA9IDA7CisJCWtleXNldF9maWxlID0gMHg5MDsKKwl9IGVsc2UgeworCQkq
ZmlsZV9vZmZzZXQgPSA4OworCQlrZXlzZXRfZmlsZSA9IChoZXhfdG9fYmluKGRhdGFbNl0pICog
MTYpIHwgaGV4X3RvX2JpbihkYXRhWzddKTsKKwkJaWYgKGtleXNldF9maWxlIDwgMCkgeworCQkJ
ZGV2X2Vycih3ZGV2LT5kZXYsICIlcyBjb3JydXB0ZWRcbiIsIGZpbGVuYW1lKTsKKwkJCXJlbGVh
c2VfZmlybXdhcmUoKmZ3KTsKKwkJCSpmdyA9IE5VTEw7CisJCQlyZXR1cm4gLUVJTlZBTDsKKwkJ
fQorCX0KKwlpZiAoa2V5c2V0X2ZpbGUgIT0ga2V5c2V0X2NoaXApIHsKKwkJZGV2X2Vycih3ZGV2
LT5kZXYsICJmaXJtd2FyZSBrZXlzZXQgaXMgaW5jb21wYXRpYmxlIHdpdGggY2hpcCAoZmlsZTog
MHglMDJYLCBjaGlwOiAweCUwMlgpXG4iLAorCQkJa2V5c2V0X2ZpbGUsIGtleXNldF9jaGlwKTsK
KwkJcmVsZWFzZV9maXJtd2FyZSgqZncpOworCQkqZncgPSBOVUxMOworCQlyZXR1cm4gLUVOT0RF
VjsKKwl9CisJd2Rldi0+a2V5c2V0ID0ga2V5c2V0X2ZpbGU7CisJcmV0dXJuIDA7Cit9CisKK3N0
YXRpYyBpbnQgd2FpdF9uY3Bfc3RhdHVzKHN0cnVjdCB3ZnhfZGV2ICp3ZGV2LCB1MzIgc3RhdHVz
KQoreworCWt0aW1lX3Qgbm93LCBzdGFydDsKKwl1MzIgcmVnOworCWludCByZXQ7CisKKwlzdGFy
dCA9IGt0aW1lX2dldCgpOworCWZvciAoOzspIHsKKwkJcmV0ID0gc3JhbV9yZWdfcmVhZCh3ZGV2
LCBXRlhfRENBX05DUF9TVEFUVVMsICZyZWcpOworCQlpZiAocmV0IDwgMCkKKwkJCXJldHVybiAt
RUlPOworCQlub3cgPSBrdGltZV9nZXQoKTsKKwkJaWYgKHJlZyA9PSBzdGF0dXMpCisJCQlicmVh
azsKKwkJaWYgKGt0aW1lX2FmdGVyKG5vdywga3RpbWVfYWRkX21zKHN0YXJ0LCBEQ0FfVElNRU9V
VCkpKQorCQkJcmV0dXJuIC1FVElNRURPVVQ7CisJfQorCWlmIChrdGltZV9jb21wYXJlKG5vdywg
c3RhcnQpKQorCQlkZXZfZGJnKHdkZXYtPmRldiwgImNoaXAgYW5zd2VyIGFmdGVyICVsbGR1c1xu
IiwKKwkJCWt0aW1lX3VzX2RlbHRhKG5vdywgc3RhcnQpKTsKKwllbHNlCisJCWRldl9kYmcod2Rl
di0+ZGV2LCAiY2hpcCBhbnN3ZXIgaW1tZWRpYXRlbHlcbiIpOworCXJldHVybiAwOworfQorCitz
dGF0aWMgaW50IHVwbG9hZF9maXJtd2FyZShzdHJ1Y3Qgd2Z4X2RldiAqd2RldiwgY29uc3QgdTgg
KmRhdGEsIHNpemVfdCBsZW4pCit7CisJaW50IHJldDsKKwl1MzIgb2ZmcywgYnl0ZXNfZG9uZSA9
IDA7CisJa3RpbWVfdCBub3csIHN0YXJ0OworCisJaWYgKGxlbiAlIEROTERfQkxPQ0tfU0laRSkg
eworCQlkZXZfZXJyKHdkZXYtPmRldiwgImZpcm13YXJlIHNpemUgaXMgbm90IGFsaWduZWQuIEJ1
ZmZlciBvdmVycnVuIHdpbGwgb2NjdXJcbiIpOworCQlyZXR1cm4gLUVJTzsKKwl9CisJb2ZmcyA9
IDA7CisJd2hpbGUgKG9mZnMgPCBsZW4pIHsKKwkJc3RhcnQgPSBrdGltZV9nZXQoKTsKKwkJZm9y
ICg7OykgeworCQkJbm93ID0ga3RpbWVfZ2V0KCk7CisJCQlpZiAob2ZmcyArIEROTERfQkxPQ0tf
U0laRSAtIGJ5dGVzX2RvbmUgPCBETkxEX0ZJRk9fU0laRSkKKwkJCQlicmVhazsKKwkJCWlmIChr
dGltZV9hZnRlcihub3csIGt0aW1lX2FkZF9tcyhzdGFydCwgRENBX1RJTUVPVVQpKSkKKwkJCQly
ZXR1cm4gLUVUSU1FRE9VVDsKKwkJCXJldCA9IHNyYW1fcmVnX3JlYWQod2RldiwgV0ZYX0RDQV9H
RVQsICZieXRlc19kb25lKTsKKwkJCWlmIChyZXQgPCAwKQorCQkJCXJldHVybiByZXQ7CisJCX0K
KwkJaWYgKGt0aW1lX2NvbXBhcmUobm93LCBzdGFydCkpCisJCQlkZXZfZGJnKHdkZXYtPmRldiwg
ImFuc3dlciBhZnRlciAlbGxkdXNcbiIsCisJCQkJa3RpbWVfdXNfZGVsdGEobm93LCBzdGFydCkp
OworCisJCXJldCA9IHNyYW1fd3JpdGVfZG1hX3NhZmUod2RldiwgV0ZYX0ROTERfRklGTyArCisJ
CQkJCSAgKG9mZnMgJSBETkxEX0ZJRk9fU0laRSksCisJCQkJCSAgZGF0YSArIG9mZnMsIEROTERf
QkxPQ0tfU0laRSk7CisJCWlmIChyZXQgPCAwKQorCQkJcmV0dXJuIHJldDsKKworCQkvKiBXRngg
c2VlbXMgdG8gbm90IHN1cHBvcnQgd3JpdGluZyAwIGluIHRoaXMgcmVnaXN0ZXIgZHVyaW5nCisJ
CSAqIGZpcnN0IGxvb3AKKwkJICovCisJCW9mZnMgKz0gRE5MRF9CTE9DS19TSVpFOworCQlyZXQg
PSBzcmFtX3JlZ193cml0ZSh3ZGV2LCBXRlhfRENBX1BVVCwgb2Zmcyk7CisJCWlmIChyZXQgPCAw
KQorCQkJcmV0dXJuIHJldDsKKwl9CisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyB2b2lkIHByaW50
X2Jvb3Rfc3RhdHVzKHN0cnVjdCB3ZnhfZGV2ICp3ZGV2KQoreworCXUzMiByZWc7CisKKwlzcmFt
X3JlZ19yZWFkKHdkZXYsIFdGWF9TVEFUVVNfSU5GTywgJnJlZyk7CisJaWYgKHJlZyA9PSAweDEy
MzQ1Njc4KQorCQlyZXR1cm47CisJc3JhbV9yZWdfcmVhZCh3ZGV2LCBXRlhfRVJSX0lORk8sICZy
ZWcpOworCWlmIChyZWcgPCBBUlJBWV9TSVpFKGZ3aW9fZXJyb3JzKSAmJiBmd2lvX2Vycm9yc1ty
ZWddKQorCQlkZXZfaW5mbyh3ZGV2LT5kZXYsICJzZWN1cmUgYm9vdDogJXNcbiIsIGZ3aW9fZXJy
b3JzW3JlZ10pOworCWVsc2UKKwkJZGV2X2luZm8od2Rldi0+ZGV2LCAic2VjdXJlIGJvb3Q6IEVy
cm9yICUjMDJ4XG4iLCByZWcpOworfQorCitzdGF0aWMgaW50IGxvYWRfZmlybXdhcmVfc2VjdXJl
KHN0cnVjdCB3ZnhfZGV2ICp3ZGV2KQoreworCWNvbnN0IHN0cnVjdCBmaXJtd2FyZSAqZncgPSBO
VUxMOworCWludCBoZWFkZXJfc2l6ZTsKKwlpbnQgZndfb2Zmc2V0OworCWt0aW1lX3Qgc3RhcnQ7
CisJdTggKmJ1ZjsKKwlpbnQgcmV0OworCisJQlVJTERfQlVHX09OKFBURV9JTkZPX1NJWkUgPiBC
T09UTE9BREVSX0xBQkVMX1NJWkUpOworCWJ1ZiA9IGttYWxsb2MoQk9PVExPQURFUl9MQUJFTF9T
SVpFICsgMSwgR0ZQX0tFUk5FTCk7CisJaWYgKCFidWYpCisJCXJldHVybiAtRU5PTUVNOworCisJ
c3JhbV9yZWdfd3JpdGUod2RldiwgV0ZYX0RDQV9IT1NUX1NUQVRVUywgSE9TVF9SRUFEWSk7CisJ
cmV0ID0gd2FpdF9uY3Bfc3RhdHVzKHdkZXYsIE5DUF9JTkZPX1JFQURZKTsKKwlpZiAocmV0KQor
CQlnb3RvIGVycm9yOworCisJc3JhbV9idWZfcmVhZCh3ZGV2LCBXRlhfQk9PVExPQURFUl9MQUJF
TCwgYnVmLCBCT09UTE9BREVSX0xBQkVMX1NJWkUpOworCWJ1ZltCT09UTE9BREVSX0xBQkVMX1NJ
WkVdID0gMDsKKwlkZXZfZGJnKHdkZXYtPmRldiwgImJvb3Rsb2FkZXI6IFwiJXNcIlxuIiwgYnVm
KTsKKworCXNyYW1fYnVmX3JlYWQod2RldiwgV0ZYX1BURV9JTkZPLCBidWYsIFBURV9JTkZPX1NJ
WkUpOworCXJldCA9IGdldF9maXJtd2FyZSh3ZGV2LCBidWZbUFRFX0lORk9fS0VZU0VUX0lEWF0s
ICZmdywgJmZ3X29mZnNldCk7CisJaWYgKHJldCkKKwkJZ290byBlcnJvcjsKKwloZWFkZXJfc2l6
ZSA9IGZ3X29mZnNldCArIEZXX1NJR05BVFVSRV9TSVpFICsgRldfSEFTSF9TSVpFOworCisJc3Jh
bV9yZWdfd3JpdGUod2RldiwgV0ZYX0RDQV9IT1NUX1NUQVRVUywgSE9TVF9JTkZPX1JFQUQpOwor
CXJldCA9IHdhaXRfbmNwX3N0YXR1cyh3ZGV2LCBOQ1BfUkVBRFkpOworCWlmIChyZXQpCisJCWdv
dG8gZXJyb3I7CisKKwlzcmFtX3JlZ193cml0ZSh3ZGV2LCBXRlhfRE5MRF9GSUZPLCAweEZGRkZG
RkZGKTsgLyogRmlmbyBpbml0ICovCisJc3JhbV93cml0ZV9kbWFfc2FmZSh3ZGV2LCBXRlhfRENB
X0ZXX1ZFUlNJT04sICJceDAxXHgwMFx4MDBceDAwIiwKKwkJCSAgICBGV19WRVJTSU9OX1NJWkUp
OworCXNyYW1fd3JpdGVfZG1hX3NhZmUod2RldiwgV0ZYX0RDQV9GV19TSUdOQVRVUkUsIGZ3LT5k
YXRhICsgZndfb2Zmc2V0LAorCQkJICAgIEZXX1NJR05BVFVSRV9TSVpFKTsKKwlzcmFtX3dyaXRl
X2RtYV9zYWZlKHdkZXYsIFdGWF9EQ0FfRldfSEFTSCwKKwkJCSAgICBmdy0+ZGF0YSArIGZ3X29m
ZnNldCArIEZXX1NJR05BVFVSRV9TSVpFLAorCQkJICAgIEZXX0hBU0hfU0laRSk7CisJc3JhbV9y
ZWdfd3JpdGUod2RldiwgV0ZYX0RDQV9JTUFHRV9TSVpFLCBmdy0+c2l6ZSAtIGhlYWRlcl9zaXpl
KTsKKwlzcmFtX3JlZ193cml0ZSh3ZGV2LCBXRlhfRENBX0hPU1RfU1RBVFVTLCBIT1NUX1VQTE9B
RF9QRU5ESU5HKTsKKwlyZXQgPSB3YWl0X25jcF9zdGF0dXMod2RldiwgTkNQX0RPV05MT0FEX1BF
TkRJTkcpOworCWlmIChyZXQpCisJCWdvdG8gZXJyb3I7CisKKwlzdGFydCA9IGt0aW1lX2dldCgp
OworCXJldCA9IHVwbG9hZF9maXJtd2FyZSh3ZGV2LCBmdy0+ZGF0YSArIGhlYWRlcl9zaXplLAor
CQkJICAgICAgZnctPnNpemUgLSBoZWFkZXJfc2l6ZSk7CisJaWYgKHJldCkKKwkJZ290byBlcnJv
cjsKKwlkZXZfZGJnKHdkZXYtPmRldiwgImZpcm13YXJlIGxvYWQgYWZ0ZXIgJWxsZHVzXG4iLAor
CQlrdGltZV91c19kZWx0YShrdGltZV9nZXQoKSwgc3RhcnQpKTsKKworCXNyYW1fcmVnX3dyaXRl
KHdkZXYsIFdGWF9EQ0FfSE9TVF9TVEFUVVMsIEhPU1RfVVBMT0FEX0NPTVBMRVRFKTsKKwlyZXQg
PSB3YWl0X25jcF9zdGF0dXMod2RldiwgTkNQX0FVVEhfT0spOworCS8qIExlZ2FjeSBST00gc3Vw
cG9ydCAqLworCWlmIChyZXQgPCAwKQorCQlyZXQgPSB3YWl0X25jcF9zdGF0dXMod2RldiwgTkNQ
X1BVQl9LRVlfUkRZKTsKKwlpZiAocmV0IDwgMCkKKwkJZ290byBlcnJvcjsKKwlzcmFtX3JlZ193
cml0ZSh3ZGV2LCBXRlhfRENBX0hPU1RfU1RBVFVTLCBIT1NUX09LX1RPX0pVTVApOworCitlcnJv
cjoKKwlrZnJlZShidWYpOworCWlmIChmdykKKwkJcmVsZWFzZV9maXJtd2FyZShmdyk7CisJaWYg
KHJldCkKKwkJcHJpbnRfYm9vdF9zdGF0dXMod2Rldik7CisJcmV0dXJuIHJldDsKK30KKworc3Rh
dGljIGludCBpbml0X2dwcihzdHJ1Y3Qgd2Z4X2RldiAqd2RldikKK3sKKwlpbnQgcmV0LCBpOwor
CXN0YXRpYyBjb25zdCBzdHJ1Y3QgeworCQlpbnQgaW5kZXg7CisJCXUzMiB2YWx1ZTsKKwl9IGdw
cl9pbml0W10gPSB7CisJCXsgMHgwNywgMHgyMDg3NzUgfSwKKwkJeyAweDA4LCAweDJFQzAyMCB9
LAorCQl7IDB4MDksIDB4M0MzQzNDIH0sCisJCXsgMHgwQiwgMHgzMjJDNDQgfSwKKwkJeyAweDBD
LCAweEEwNjQ5NyB9LAorCX07CisKKwlmb3IgKGkgPSAwOyBpIDwgQVJSQVlfU0laRShncHJfaW5p
dCk7IGkrKykgeworCQlyZXQgPSBpZ3ByX3JlZ193cml0ZSh3ZGV2LCBncHJfaW5pdFtpXS5pbmRl
eCwKKwkJCQkgICAgIGdwcl9pbml0W2ldLnZhbHVlKTsKKwkJaWYgKHJldCA8IDApCisJCQlyZXR1
cm4gcmV0OworCQlkZXZfZGJnKHdkZXYtPmRldiwgIiAgaW5kZXggJTAyeDogJTA4eFxuIiwKKwkJ
CWdwcl9pbml0W2ldLmluZGV4LCBncHJfaW5pdFtpXS52YWx1ZSk7CisJfQorCXJldHVybiAwOwor
fQorCitpbnQgd2Z4X2luaXRfZGV2aWNlKHN0cnVjdCB3ZnhfZGV2ICp3ZGV2KQoreworCWludCBy
ZXQ7CisJaW50IGh3X3JldmlzaW9uLCBod190eXBlOworCWludCB3YWtldXBfdGltZW91dCA9IDUw
OyAvKiBtcyAqLworCWt0aW1lX3Qgbm93LCBzdGFydDsKKwl1MzIgcmVnOworCisJcmVnID0gQ0ZH
X0RJUkVDVF9BQ0NFU1NfTU9ERSB8IENGR19DUFVfUkVTRVQgfCBDRkdfQllURV9PUkRFUl9BQkNE
OworCWlmICh3ZGV2LT5wZGF0YS51c2VfcmlzaW5nX2NsaykKKwkJcmVnIHw9IENGR19DTEtfUklT
RV9FREdFOworCXJldCA9IGNvbmZpZ19yZWdfd3JpdGUod2RldiwgcmVnKTsKKwlpZiAocmV0IDwg
MCkgeworCQlkZXZfZXJyKHdkZXYtPmRldiwgImJ1cyByZXR1cm5lZCBhbiBlcnJvciBkdXJpbmcg
Zmlyc3Qgd3JpdGUgYWNjZXNzLiBIb3N0IGNvbmZpZ3VyYXRpb24gZXJyb3I/XG4iKTsKKwkJcmV0
dXJuIC1FSU87CisJfQorCisJcmV0ID0gY29uZmlnX3JlZ19yZWFkKHdkZXYsICZyZWcpOworCWlm
IChyZXQgPCAwKSB7CisJCWRldl9lcnIod2Rldi0+ZGV2LCAiYnVzIHJldHVybmVkIGFuIGVycm9y
IGR1cmluZyBmaXJzdCByZWFkIGFjY2Vzcy4gQnVzIGNvbmZpZ3VyYXRpb24gZXJyb3I/XG4iKTsK
KwkJcmV0dXJuIC1FSU87CisJfQorCWlmIChyZWcgPT0gMCB8fCByZWcgPT0gfjApIHsKKwkJZGV2
X2Vycih3ZGV2LT5kZXYsICJjaGlwIG11dGUuIEJ1cyBjb25maWd1cmF0aW9uIGVycm9yIG9yIGNo
aXAgd2Fzbid0IHJlc2V0P1xuIik7CisJCXJldHVybiAtRUlPOworCX0KKwlkZXZfZGJnKHdkZXYt
PmRldiwgImluaXRpYWwgY29uZmlnIHJlZ2lzdGVyIHZhbHVlOiAlMDh4XG4iLCByZWcpOworCisJ
aHdfcmV2aXNpb24gPSBGSUVMRF9HRVQoQ0ZHX0RFVklDRV9JRF9NQUpPUiwgcmVnKTsKKwlpZiAo
aHdfcmV2aXNpb24gPT0gMCkgeworCQlkZXZfZXJyKHdkZXYtPmRldiwgImJhZCBoYXJkd2FyZSBy
ZXZpc2lvbiBudW1iZXI6ICVkXG4iLAorCQkJaHdfcmV2aXNpb24pOworCQlyZXR1cm4gLUVOT0RF
VjsKKwl9CisJaHdfdHlwZSA9IEZJRUxEX0dFVChDRkdfREVWSUNFX0lEX1RZUEUsIHJlZyk7CisJ
aWYgKGh3X3R5cGUgPT0gMSkgeworCQlkZXZfbm90aWNlKHdkZXYtPmRldiwgImRldmVsb3BtZW50
IGhhcmR3YXJlIGRldGVjdGVkXG4iKTsKKwkJd2FrZXVwX3RpbWVvdXQgPSAyMDAwOworCX0KKwor
CXJldCA9IGluaXRfZ3ByKHdkZXYpOworCWlmIChyZXQgPCAwKQorCQlyZXR1cm4gcmV0OworCisJ
cmV0ID0gY29udHJvbF9yZWdfd3JpdGUod2RldiwgQ1RSTF9XTEFOX1dBS0VVUCk7CisJaWYgKHJl
dCA8IDApCisJCXJldHVybiAtRUlPOworCXN0YXJ0ID0ga3RpbWVfZ2V0KCk7CisJZm9yICg7Oykg
eworCQlyZXQgPSBjb250cm9sX3JlZ19yZWFkKHdkZXYsICZyZWcpOworCQlub3cgPSBrdGltZV9n
ZXQoKTsKKwkJaWYgKHJlZyAmIENUUkxfV0xBTl9SRUFEWSkKKwkJCWJyZWFrOworCQlpZiAoa3Rp
bWVfYWZ0ZXIobm93LCBrdGltZV9hZGRfbXMoc3RhcnQsIHdha2V1cF90aW1lb3V0KSkpIHsKKwkJ
CWRldl9lcnIod2Rldi0+ZGV2LCAiY2hpcCBkaWRuJ3Qgd2FrZSB1cC4gQ2hpcCB3YXNuJ3QgcmVz
ZXQ/XG4iKTsKKwkJCXJldHVybiAtRVRJTUVET1VUOworCQl9CisJfQorCWRldl9kYmcod2Rldi0+
ZGV2LCAiY2hpcCB3YWtlIHVwIGFmdGVyICVsbGR1c1xuIiwKKwkJa3RpbWVfdXNfZGVsdGEobm93
LCBzdGFydCkpOworCisJcmV0ID0gY29uZmlnX3JlZ193cml0ZV9iaXRzKHdkZXYsIENGR19DUFVf
UkVTRVQsIDApOworCWlmIChyZXQgPCAwKQorCQlyZXR1cm4gcmV0OworCXJldCA9IGxvYWRfZmly
bXdhcmVfc2VjdXJlKHdkZXYpOworCWlmIChyZXQgPCAwKQorCQlyZXR1cm4gcmV0OworCXJldHVy
biBjb25maWdfcmVnX3dyaXRlX2JpdHMod2RldiwKKwkJCQkgICAgIENGR19ESVJFQ1RfQUNDRVNT
X01PREUgfAorCQkJCSAgICAgQ0ZHX0lSUV9FTkFCTEVfREFUQSB8CisJCQkJICAgICBDRkdfSVJR
X0VOQUJMRV9XUkRZLAorCQkJCSAgICAgQ0ZHX0lSUV9FTkFCTEVfREFUQSk7Cit9CmRpZmYgLS1n
aXQgYS9kcml2ZXJzL25ldC93aXJlbGVzcy9zaWxhYnMvd2Z4L2Z3aW8uaCBiL2RyaXZlcnMvbmV0
L3dpcmVsZXNzL3NpbGFicy93ZngvZndpby5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAw
MDAwMDAwMDAwMC4uZWVlYTYxMjEwZWNhCi0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9uZXQv
d2lyZWxlc3Mvc2lsYWJzL3dmeC9md2lvLmgKQEAgLTAsMCArMSwxNSBAQAorLyogU1BEWC1MaWNl
bnNlLUlkZW50aWZpZXI6IEdQTC0yLjAtb25seSAqLworLyoKKyAqIEZpcm13YXJlIGxvYWRpbmcu
CisgKgorICogQ29weXJpZ2h0IChjKSAyMDE3LTIwMTksIFNpbGljb24gTGFib3JhdG9yaWVzLCBJ
bmMuCisgKiBDb3B5cmlnaHQgKGMpIDIwMTAsIFNULUVyaWNzc29uCisgKi8KKyNpZm5kZWYgV0ZY
X0ZXSU9fSAorI2RlZmluZSBXRlhfRldJT19ICisKK3N0cnVjdCB3ZnhfZGV2OworCitpbnQgd2Z4
X2luaXRfZGV2aWNlKHN0cnVjdCB3ZnhfZGV2ICp3ZGV2KTsKKworI2VuZGlmCi0tIAoyLjI5LjIK
Cg==
