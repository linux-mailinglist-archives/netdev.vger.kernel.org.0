Return-Path: <netdev-owner@vger.kernel.org>
X-Original-To: lists+netdev@lfdr.de
Delivered-To: lists+netdev@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 0B56D3C014
	for <lists+netdev@lfdr.de>; Tue, 11 Jun 2019 01:39:25 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2390664AbfFJXjW (ORCPT <rfc822;lists+netdev@lfdr.de>);
        Mon, 10 Jun 2019 19:39:22 -0400
Received: from mail-eopbgr20066.outbound.protection.outlook.com ([40.107.2.66]:22416
        "EHLO EUR02-VE1-obe.outbound.protection.outlook.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S2390524AbfFJXjW (ORCPT <rfc822;netdev@vger.kernel.org>);
        Mon, 10 Jun 2019 19:39:22 -0400
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=Mellanox.com;
 s=selector2;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=6QqSQ7ApG4yA7Jse7GULhTrY7YNftVs9er2hNOyzWfQ=;
 b=Z2N40GrNADdc5OuTrYWdqV4JPszBGkZEkQzFdAOI9jQKSeIEBTVTfSintj8j8NzvaU4scmpifSXgKlH4/v8OFMgVyyEyjm8mJDPi2DZFv9chlmFdvSqzkPURYNtrrBGCrFT6B28E3753bNEa/KSP0/VzuujIq4UcrxjlxLHzpnA=
Received: from DB6PR0501MB2759.eurprd05.prod.outlook.com (10.172.227.7) by
 DB6PR0501MB2166.eurprd05.prod.outlook.com (10.168.55.22) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1965.12; Mon, 10 Jun 2019 23:38:41 +0000
Received: from DB6PR0501MB2759.eurprd05.prod.outlook.com
 ([fe80::3b:cb20:88ed:30bf]) by DB6PR0501MB2759.eurprd05.prod.outlook.com
 ([fe80::3b:cb20:88ed:30bf%5]) with mapi id 15.20.1965.017; Mon, 10 Jun 2019
 23:38:41 +0000
From:   Saeed Mahameed <saeedm@mellanox.com>
To:     Saeed Mahameed <saeedm@mellanox.com>,
        Leon Romanovsky <leonro@mellanox.com>
CC:     "linux-rdma@vger.kernel.org" <linux-rdma@vger.kernel.org>,
        "netdev@vger.kernel.org" <netdev@vger.kernel.org>,
        Ariel Levkovich <lariel@mellanox.com>
Subject: [PATCH mlx5-next 15/16] net/mlx5: Use a single IRQ for all async EQs
Thread-Topic: [PATCH mlx5-next 15/16] net/mlx5: Use a single IRQ for all async
 EQs
Thread-Index: AQHVH+WizGtafrWjr0Gdf3rcnDBURQ==
Date:   Mon, 10 Jun 2019 23:38:41 +0000
Message-ID: <20190610233733.12155-16-saeedm@mellanox.com>
References: <20190610233733.12155-1-saeedm@mellanox.com>
In-Reply-To: <20190610233733.12155-1-saeedm@mellanox.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-mailer: git-send-email 2.21.0
x-originating-ip: [209.116.155.178]
x-clientproxiedby: BYAPR01CA0015.prod.exchangelabs.com (2603:10b6:a02:80::28)
 To DB6PR0501MB2759.eurprd05.prod.outlook.com (2603:10a6:4:84::7)
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=saeedm@mellanox.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 8cda7486-575a-4d05-78c2-08d6edfcc4ae
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0;PCL:0;RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);SRVR:DB6PR0501MB2166;
x-ms-traffictypediagnostic: DB6PR0501MB2166:
x-microsoft-antispam-prvs: <DB6PR0501MB2166CF54A2996F8665973166BE130@DB6PR0501MB2166.eurprd05.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:4941;
x-forefront-prvs: 0064B3273C
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(366004)(136003)(376002)(39860400002)(346002)(396003)(189003)(199004)(450100002)(85306007)(53936002)(6512007)(14454004)(50226002)(2616005)(186003)(256004)(81166006)(486006)(6436002)(11346002)(8676002)(8936002)(25786009)(476003)(14444005)(52116002)(446003)(2906002)(478600001)(99286004)(81156014)(4326008)(6486002)(107886003)(71200400001)(5660300002)(66446008)(64756008)(305945005)(66946007)(386003)(6506007)(7736002)(26005)(76176011)(71190400001)(102836004)(66476007)(86362001)(73956011)(66556008)(110136005)(6636002)(36756003)(54906003)(3846002)(6116002)(316002)(1076003)(66066001)(68736007);DIR:OUT;SFP:1101;SCL:1;SRVR:DB6PR0501MB2166;H:DB6PR0501MB2759.eurprd05.prod.outlook.com;FPR:;SPF:None;LANG:en;PTR:InfoNoRecords;MX:1;A:1;
received-spf: None (protection.outlook.com: mellanox.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: NSb/ghqdgn7JHP6SMsoQTHy+Xjn0XthtbJkzFgKKW0lgy489bvtm70DVD0Pi7Jh/mOIXeDwlgcrkia80Vh5b5voZ2rI161TcLxTxm2XV+EAfZgRrpQ0YOE4rZ22cn0dq1kPoOxEBzeoqjC+yqEGzlPuHuYMUTSJ0aKIa2s/zj1vDT2Q9aONjw+XsDJURTm/hO93SI0y3Os0pMWE3Wb1A+efXv/YcNBpU+hqiGngjCiKM/R4d6MFd1Yv3Qn8LXkT5wlQF80/t6XPwbovpKYWeaA8ll93YyPEbJw4C6Peo91ZVi2NZ5of3ArL1Ys4VxmdNsGl4PKGjHx2thqXWC33GxabD4thRNDGGzXTr0N+EI6e1YO6upqXYOWE4A6hwLaIe5AqVvQk9IC2JjCIZOq0zZU6UCdDBhJbiHMpEj+g/u/M=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: Mellanox.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 8cda7486-575a-4d05-78c2-08d6edfcc4ae
X-MS-Exchange-CrossTenant-originalarrivaltime: 10 Jun 2019 23:38:41.1798
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: a652971c-7d2e-4d9b-a6a4-d149256f461b
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: saeedm@mellanox.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DB6PR0501MB2166
Sender: netdev-owner@vger.kernel.org
Precedence: bulk
List-ID: <netdev.vger.kernel.org>
X-Mailing-List: netdev@vger.kernel.org

RnJvbTogQXJpZWwgTGV2a292aWNoIDxsYXJpZWxAbWVsbGFub3guY29tPg0KDQpUaGUgcGF0Y2gg
bW9kaWZpZXMgdGhlIElSUSBhbGxvY2F0aW9uIHNvIHRoYXQgYWxsIGFzeW5jIEVRcyBhcmUNCmFz
c2lnbmVkIHRvIHRoZSBzYW1lIElSUSByZXN1bHRpbmcgaW4gbW9yZSBhdmFpbGFibGUgSVJRcyBm
b3INCmNvbXBsZXRpb24gRVFzLg0KDQpUaGUgY2hhbmdlcyBhcmUgdXNpbmcgdGhlIHN1cHBvcnQg
Zm9yIElSUSBzaGFyaW5nIGFuZCBFUSBwb2xsaW5nIGJ1ZGdldA0KdGhhdCB3YXMgaW50cm9kdWNl
ZCBpbiBwcmV2aW91cyBwYXRjaGVzIHNvIHdoZW4gdGhlIHNoYXJlZCBpbnRlcnJ1cHQgaXMNCnRy
aWdnZXJlZCwgdGhlIGtlcm5lbCB3aWxsIHNlcmlhbGx5IGNhbGwgdGhlIGhhbmRsZXIgb2YgZWFj
aCBvZiB0aGUNCnNoYXJpbmcgRVFzIHdpdGggYSBjZXJ0YWluIGJ1ZGdldCBvZiBFUUVzIHRvIHBv
bGwgaW4gb3JkZXIgdG8gcHJldmVudA0Kc3RhcnZhdGlvbi4NCg0KU2lnbmVkLW9mZi1ieTogQXJp
ZWwgTGV2a292aWNoIDxsYXJpZWxAbWVsbGFub3guY29tPg0KU2lnbmVkLW9mZi1ieTogU2FlZWQg
TWFoYW1lZWQgPHNhZWVkbUBtZWxsYW5veC5jb20+DQotLS0NCiBkcml2ZXJzL2luZmluaWJhbmQv
aHcvbWx4NS9vZHAuYyAgICAgICAgICAgICAgfCAgMiArLQ0KIGRyaXZlcnMvbmV0L2V0aGVybmV0
L21lbGxhbm94L21seDUvY29yZS9lcS5jICB8IDE5ICsrKysrLS0tLS0NCiAuLi4vbmV0L2V0aGVy
bmV0L21lbGxhbm94L21seDUvY29yZS9wY2lfaXJxLmMgfCAzOCArKysrKysrLS0tLS0tLS0tLS0t
DQogaW5jbHVkZS9saW51eC9tbHg1L2VxLmggICAgICAgICAgICAgICAgICAgICAgIHwgMTQgKy0t
LS0tLQ0KIDQgZmlsZXMgY2hhbmdlZCwgMjcgaW5zZXJ0aW9ucygrKSwgNDYgZGVsZXRpb25zKC0p
DQoNCmRpZmYgLS1naXQgYS9kcml2ZXJzL2luZmluaWJhbmQvaHcvbWx4NS9vZHAuYyBiL2RyaXZl
cnMvaW5maW5pYmFuZC9ody9tbHg1L29kcC5jDQppbmRleCA3Y2U3YzViZmU2ODUuLjY5M2EwZTIy
NTA5MyAxMDA2NDQNCi0tLSBhL2RyaXZlcnMvaW5maW5pYmFuZC9ody9tbHg1L29kcC5jDQorKysg
Yi9kcml2ZXJzL2luZmluaWJhbmQvaHcvbWx4NS9vZHAuYw0KQEAgLTE1NTcsNyArMTU1Nyw3IEBA
IG1seDVfaWJfY3JlYXRlX3BmX2VxKHN0cnVjdCBtbHg1X2liX2RldiAqZGV2LCBzdHJ1Y3QgbWx4
NV9pYl9wZl9lcSAqZXEpDQogDQogCWVxLT5pcnFfbmIubm90aWZpZXJfY2FsbCA9IG1seDVfaWJf
ZXFfcGZfaW50Ow0KIAlwYXJhbSA9IChzdHJ1Y3QgbWx4NV9lcV9wYXJhbSkgew0KLQkJLmluZGV4
ID0gTUxYNV9FUV9QRkFVTFRfSURYLA0KKwkJLmlycV9pbmRleCA9IDAsDQogCQkubWFzayA9IDEg
PDwgTUxYNV9FVkVOVF9UWVBFX1BBR0VfRkFVTFQsDQogCQkubmVudCA9IE1MWDVfSUJfTlVNX1BG
X0VRRSwNCiAJCS5uYiA9ICZlcS0+aXJxX25iLA0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvbmV0L2V0
aGVybmV0L21lbGxhbm94L21seDUvY29yZS9lcS5jIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvbWVs
bGFub3gvbWx4NS9jb3JlL2VxLmMNCmluZGV4IDBjNzJjMTIyZGFlZi4uMGY1ODQ2YTM0OTI4IDEw
MDY0NA0KLS0tIGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvbWVsbGFub3gvbWx4NS9jb3JlL2VxLmMN
CisrKyBiL2RyaXZlcnMvbmV0L2V0aGVybmV0L21lbGxhbm94L21seDUvY29yZS9lcS5jDQpAQCAt
MjUwLDcgKzI1MCw3IEBAIGNyZWF0ZV9tYXBfZXEoc3RydWN0IG1seDVfY29yZV9kZXYgKmRldiwg
c3RydWN0IG1seDVfZXEgKmVxLA0KIAlzdHJ1Y3QgbWx4NV9jcV90YWJsZSAqY3FfdGFibGUgPSAm
ZXEtPmNxX3RhYmxlOw0KIAl1MzIgb3V0W01MWDVfU1RfU1pfRFcoY3JlYXRlX2VxX291dCldID0g
ezB9Ow0KIAlzdHJ1Y3QgbWx4NV9wcml2ICpwcml2ID0gJmRldi0+cHJpdjsNCi0JdTggdmVjaWR4
ID0gcGFyYW0tPmluZGV4Ow0KKwl1OCB2ZWNpZHggPSBwYXJhbS0+aXJxX2luZGV4Ow0KIAlfX2Jl
NjQgKnBhczsNCiAJdm9pZCAqZXFjOw0KIAlpbnQgaW5sZW47DQpAQCAtNDM1LDggKzQzNSw5IEBA
IHN0YXRpYyBpbnQgY3JlYXRlX2FzeW5jX2VxKHN0cnVjdCBtbHg1X2NvcmVfZGV2ICpkZXYsDQog
CWludCBlcnI7DQogDQogCW11dGV4X2xvY2soJmVxX3RhYmxlLT5sb2NrKTsNCi0JaWYgKHBhcmFt
LT5pbmRleCA+PSBNTFg1X0VRX01BWF9BU1lOQ19FUVMpIHsNCi0JCWVyciA9IC1FTk9TUEM7DQor
CS8qIEFzeW5jIEVRcyBtdXN0IHNoYXJlIGlycSBpbmRleCAwICovDQorCWlmIChwYXJhbS0+aXJx
X2luZGV4ICE9IDApIHsNCisJCWVyciA9IC1FSU5WQUw7DQogCQlnb3RvIHVubG9jazsNCiAJfQ0K
IA0KQEAgLTU0MCw3ICs1NDEsNyBAQCBzdGF0aWMgaW50IGNyZWF0ZV9hc3luY19lcXMoc3RydWN0
IG1seDVfY29yZV9kZXYgKmRldikNCiANCiAJdGFibGUtPmNtZF9lcS5pcnFfbmIubm90aWZpZXJf
Y2FsbCA9IG1seDVfZXFfYXN5bmNfaW50Ow0KIAlwYXJhbSA9IChzdHJ1Y3QgbWx4NV9lcV9wYXJh
bSkgew0KLQkJLmluZGV4ID0gTUxYNV9FUV9DTURfSURYLA0KKwkJLmlycV9pbmRleCA9IDAsDQog
CQkubWFzayA9IDF1bGwgPDwgTUxYNV9FVkVOVF9UWVBFX0NNRCwNCiAJCS5uZW50ID0gTUxYNV9O
VU1fQ01EX0VRRSwNCiAJCS5uYiA9ICZ0YWJsZS0+Y21kX2VxLmlycV9uYiwNCkBAIC01NTUsNyAr
NTU2LDcgQEAgc3RhdGljIGludCBjcmVhdGVfYXN5bmNfZXFzKHN0cnVjdCBtbHg1X2NvcmVfZGV2
ICpkZXYpDQogDQogCXRhYmxlLT5hc3luY19lcS5pcnFfbmIubm90aWZpZXJfY2FsbCA9IG1seDVf
ZXFfYXN5bmNfaW50Ow0KIAlwYXJhbSA9IChzdHJ1Y3QgbWx4NV9lcV9wYXJhbSkgew0KLQkJLmlu
ZGV4ID0gTUxYNV9FUV9BU1lOQ19JRFgsDQorCQkuaXJxX2luZGV4ID0gMCwNCiAJCS5tYXNrID0g
Z2F0aGVyX2FzeW5jX2V2ZW50c19tYXNrKGRldiksDQogCQkubmVudCA9IE1MWDVfTlVNX0FTWU5D
X0VRRSwNCiAJCS5uYiA9ICZ0YWJsZS0+YXN5bmNfZXEuaXJxX25iLA0KQEAgLTU2OCw3ICs1Njks
NyBAQCBzdGF0aWMgaW50IGNyZWF0ZV9hc3luY19lcXMoc3RydWN0IG1seDVfY29yZV9kZXYgKmRl
dikNCiANCiAJdGFibGUtPnBhZ2VzX2VxLmlycV9uYi5ub3RpZmllcl9jYWxsID0gbWx4NV9lcV9h
c3luY19pbnQ7DQogCXBhcmFtID0gKHN0cnVjdCBtbHg1X2VxX3BhcmFtKSB7DQotCQkuaW5kZXgg
PSBNTFg1X0VRX1BBR0VSRVFfSURYLA0KKwkJLmlycV9pbmRleCA9IDAsDQogCQkubWFzayA9ICAx
IDw8IE1MWDVfRVZFTlRfVFlQRV9QQUdFX1JFUVVFU1QsDQogCQkubmVudCA9IC8qIFRPRE86IHNy
aW92IG1heF92ZiArICovIDEsDQogCQkubmIgPSAmdGFibGUtPnBhZ2VzX2VxLmlycV9uYiwNCkBA
IC03MzEsNyArNzMyLDcgQEAgc3RhdGljIGludCBjcmVhdGVfY29tcF9lcXMoc3RydWN0IG1seDVf
Y29yZV9kZXYgKmRldikNCiAJbmNvbXBfZXFzID0gdGFibGUtPm51bV9jb21wX2VxczsNCiAJbmVu
dCA9IE1MWDVfQ09NUF9FUV9TSVpFOw0KIAlmb3IgKGkgPSAwOyBpIDwgbmNvbXBfZXFzOyBpKysp
IHsNCi0JCWludCB2ZWNpZHggPSBpICsgTUxYNV9FUV9WRUNfQ09NUF9CQVNFOw0KKwkJaW50IHZl
Y2lkeCA9IGkgKyBNTFg1X0lSUV9WRUNfQ09NUF9CQVNFOw0KIAkJc3RydWN0IG1seDVfZXFfcGFy
YW0gcGFyYW0gPSB7fTsNCiANCiAJCWVxID0ga3phbGxvYyhzaXplb2YoKmVxKSwgR0ZQX0tFUk5F
TCk7DQpAQCAtNzQ4LDcgKzc0OSw3IEBAIHN0YXRpYyBpbnQgY3JlYXRlX2NvbXBfZXFzKHN0cnVj
dCBtbHg1X2NvcmVfZGV2ICpkZXYpDQogDQogCQllcS0+aXJxX25iLm5vdGlmaWVyX2NhbGwgPSBt
bHg1X2VxX2NvbXBfaW50Ow0KIAkJcGFyYW0gPSAoc3RydWN0IG1seDVfZXFfcGFyYW0pIHsNCi0J
CQkuaW5kZXggPSB2ZWNpZHgsDQorCQkJLmlycV9pbmRleCA9IHZlY2lkeCwNCiAJCQkubWFzayA9
IDAsDQogCQkJLm5lbnQgPSBuZW50LA0KIAkJCS5uYiA9ICZlcS0+aXJxX25iLA0KQEAgLTgwMCw3
ICs4MDEsNyBAQCBFWFBPUlRfU1lNQk9MKG1seDVfY29tcF92ZWN0b3JzX2NvdW50KTsNCiBzdHJ1
Y3QgY3B1bWFzayAqDQogbWx4NV9jb21wX2lycV9nZXRfYWZmaW5pdHlfbWFzayhzdHJ1Y3QgbWx4
NV9jb3JlX2RldiAqZGV2LCBpbnQgdmVjdG9yKQ0KIHsNCi0JaW50IHZlY2lkeCA9IHZlY3RvciAr
IE1MWDVfRVFfVkVDX0NPTVBfQkFTRTsNCisJaW50IHZlY2lkeCA9IHZlY3RvciArIE1MWDVfSVJR
X1ZFQ19DT01QX0JBU0U7DQogDQogCXJldHVybiBtbHg1X2lycV9nZXRfYWZmaW5pdHlfbWFzayhk
ZXYtPnByaXYuZXFfdGFibGUtPmlycV90YWJsZSwNCiAJCQkJCSAgdmVjaWR4KTsNCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvcGNpX2lycS5jIGIv
ZHJpdmVycy9uZXQvZXRoZXJuZXQvbWVsbGFub3gvbWx4NS9jb3JlL3BjaV9pcnEuYw0KaW5kZXgg
ZmVjODYxZjRmZWZlLi4zNzM5ODFhNjU5YzcgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL25ldC9ldGhl
cm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvcGNpX2lycS5jDQorKysgYi9kcml2ZXJzL25ldC9ldGhl
cm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvcGNpX2lycS5jDQpAQCAtNDUsNyArNDUsNyBAQCB2b2lk
IG1seDVfaXJxX3RhYmxlX2NsZWFudXAoc3RydWN0IG1seDVfY29yZV9kZXYgKmRldikNCiANCiBp
bnQgbWx4NV9pcnFfZ2V0X251bV9jb21wKHN0cnVjdCBtbHg1X2lycV90YWJsZSAqdGFibGUpDQog
ew0KLQlyZXR1cm4gdGFibGUtPm52ZWMgLSBNTFg1X0VRX1ZFQ19DT01QX0JBU0U7DQorCXJldHVy
biB0YWJsZS0+bnZlYyAtIE1MWDVfSVJRX1ZFQ19DT01QX0JBU0U7DQogfQ0KIA0KIHN0YXRpYyBz
dHJ1Y3QgbWx4NV9pcnEgKm1seDVfaXJxX2dldChzdHJ1Y3QgbWx4NV9jb3JlX2RldiAqZGV2LCBp
bnQgdmVjaWR4KQ0KQEAgLTgxLDI0ICs4MSwxNCBAQCBzdGF0aWMgaXJxcmV0dXJuX3QgbWx4NV9p
cnFfaW50X2hhbmRsZXIoaW50IGlycSwgdm9pZCAqbmgpDQogDQogc3RhdGljIHZvaWQgaXJxX3Nl
dF9uYW1lKGNoYXIgKm5hbWUsIGludCB2ZWNpZHgpDQogew0KLQlzd2l0Y2ggKHZlY2lkeCkgew0K
LQljYXNlIE1MWDVfRVFfQ01EX0lEWDoNCi0JCXNucHJpbnRmKG5hbWUsIE1MWDVfTUFYX0lSUV9O
QU1FLCAibWx4NV9jbWRfZXEiKTsNCi0JCWJyZWFrOw0KLQljYXNlIE1MWDVfRVFfQVNZTkNfSURY
Og0KLQkJc25wcmludGYobmFtZSwgTUxYNV9NQVhfSVJRX05BTUUsICJtbHg1X2FzeW5jX2VxIik7
DQotCQlicmVhazsNCi0JY2FzZSBNTFg1X0VRX1BBR0VSRVFfSURYOg0KLQkJc25wcmludGYobmFt
ZSwgTUxYNV9NQVhfSVJRX05BTUUsICJtbHg1X3BhZ2VzX2VxIik7DQotCQlicmVhazsNCi0JY2Fz
ZSBNTFg1X0VRX1BGQVVMVF9JRFg6DQotCQlzbnByaW50ZihuYW1lLCBNTFg1X01BWF9JUlFfTkFN
RSwgIm1seDVfaWJfcGFnZV9mYXVsdF9lcSIpOw0KLQkJYnJlYWs7DQotCWRlZmF1bHQ6DQotCQlz
bnByaW50ZihuYW1lLCBNTFg1X01BWF9JUlFfTkFNRSwgIm1seDVfY29tcCVkIiwNCi0JCQkgdmVj
aWR4IC0gTUxYNV9FUV9WRUNfQ09NUF9CQVNFKTsNCi0JCWJyZWFrOw0KKwlpZiAodmVjaWR4ID09
IDApIHsNCisJCXNucHJpbnRmKG5hbWUsIE1MWDVfTUFYX0lSUV9OQU1FLCAibWx4NV9hc3luYyIp
Ow0KKwkJcmV0dXJuOw0KIAl9DQorDQorCXNucHJpbnRmKG5hbWUsIE1MWDVfTUFYX0lSUV9OQU1F
LCAibWx4NV9jb21wJWQiLA0KKwkJIHZlY2lkeCAtIE1MWDVfSVJRX1ZFQ19DT01QX0JBU0UpOw0K
KwlyZXR1cm47DQogfQ0KIA0KIHN0YXRpYyBpbnQgcmVxdWVzdF9pcnFzKHN0cnVjdCBtbHg1X2Nv
cmVfZGV2ICpkZXYsIGludCBudmVjKQ0KQEAgLTE1OSw3ICsxNDksNyBAQCBzdGF0aWMgaW50IGly
cV9zZXRfcm1hcChzdHJ1Y3QgbWx4NV9jb3JlX2RldiAqbWRldikNCiAJCWdvdG8gZXJyX291dDsN
CiAJfQ0KIA0KLQl2ZWNpZHggPSBNTFg1X0VRX1ZFQ19DT01QX0JBU0U7DQorCXZlY2lkeCA9IE1M
WDVfSVJRX1ZFQ19DT01QX0JBU0U7DQogCWZvciAoOyB2ZWNpZHggPCBpcnFfdGFibGUtPm52ZWM7
IHZlY2lkeCsrKSB7DQogCQllcnIgPSBpcnFfY3B1X3JtYXBfYWRkKGlycV90YWJsZS0+cm1hcCwN
CiAJCQkJICAgICAgIHBjaV9pcnFfdmVjdG9yKG1kZXYtPnBkZXYsIHZlY2lkeCkpOw0KQEAgLTE4
Miw3ICsxNzIsNyBAQCBzdGF0aWMgaW50IGlycV9zZXRfcm1hcChzdHJ1Y3QgbWx4NV9jb3JlX2Rl
diAqbWRldikNCiANCiBzdGF0aWMgaW50IHNldF9jb21wX2lycV9hZmZpbml0eV9oaW50KHN0cnVj
dCBtbHg1X2NvcmVfZGV2ICptZGV2LCBpbnQgaSkNCiB7DQotCWludCB2ZWNpZHggPSBNTFg1X0VR
X1ZFQ19DT01QX0JBU0UgKyBpOw0KKwlpbnQgdmVjaWR4ID0gTUxYNV9JUlFfVkVDX0NPTVBfQkFT
RSArIGk7DQogCXN0cnVjdCBtbHg1X2lycSAqaXJxOw0KIAlpbnQgaXJxbjsNCiANCkBAIC0yMDUs
NyArMTk1LDcgQEAgc3RhdGljIGludCBzZXRfY29tcF9pcnFfYWZmaW5pdHlfaGludChzdHJ1Y3Qg
bWx4NV9jb3JlX2RldiAqbWRldiwgaW50IGkpDQogDQogc3RhdGljIHZvaWQgY2xlYXJfY29tcF9p
cnFfYWZmaW5pdHlfaGludChzdHJ1Y3QgbWx4NV9jb3JlX2RldiAqbWRldiwgaW50IGkpDQogew0K
LQlpbnQgdmVjaWR4ID0gTUxYNV9FUV9WRUNfQ09NUF9CQVNFICsgaTsNCisJaW50IHZlY2lkeCA9
IE1MWDVfSVJRX1ZFQ19DT01QX0JBU0UgKyBpOw0KIAlzdHJ1Y3QgbWx4NV9pcnEgKmlycTsNCiAJ
aW50IGlycW47DQogDQpAQCAtMjc5LDE2ICsyNjksMTYgQEAgaW50IG1seDVfaXJxX3RhYmxlX2Ny
ZWF0ZShzdHJ1Y3QgbWx4NV9jb3JlX2RldiAqZGV2KQ0KIAlpbnQgZXJyOw0KIA0KIAludmVjID0g
TUxYNV9DQVBfR0VOKGRldiwgbnVtX3BvcnRzKSAqIG51bV9vbmxpbmVfY3B1cygpICsNCi0JICAg
ICAgIE1MWDVfRVFfVkVDX0NPTVBfQkFTRTsNCisJICAgICAgIE1MWDVfSVJRX1ZFQ19DT01QX0JB
U0U7DQogCW52ZWMgPSBtaW5fdChpbnQsIG52ZWMsIG51bV9lcXMpOw0KLQlpZiAobnZlYyA8PSBN
TFg1X0VRX1ZFQ19DT01QX0JBU0UpDQorCWlmIChudmVjIDw9IE1MWDVfSVJRX1ZFQ19DT01QX0JB
U0UpDQogCQlyZXR1cm4gLUVOT01FTTsNCiANCiAJdGFibGUtPmlycSA9IGtjYWxsb2MobnZlYywg
c2l6ZW9mKCp0YWJsZS0+aXJxKSwgR0ZQX0tFUk5FTCk7DQogCWlmICghdGFibGUtPmlycSkNCiAJ
CXJldHVybiAtRU5PTUVNOw0KIA0KLQludmVjID0gcGNpX2FsbG9jX2lycV92ZWN0b3JzKGRldi0+
cGRldiwgTUxYNV9FUV9WRUNfQ09NUF9CQVNFICsgMSwNCisJbnZlYyA9IHBjaV9hbGxvY19pcnFf
dmVjdG9ycyhkZXYtPnBkZXYsIE1MWDVfSVJRX1ZFQ19DT01QX0JBU0UgKyAxLA0KIAkJCQkgICAg
IG52ZWMsIFBDSV9JUlFfTVNJWCk7DQogCWlmIChudmVjIDwgMCkgew0KIAkJZXJyID0gbnZlYzsN
CmRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4L21seDUvZXEuaCBiL2luY2x1ZGUvbGludXgvbWx4
NS9lcS5oDQppbmRleCA3M2FiNjU4YWY3NjQuLjRhOTRlMDRlZmYwYSAxMDA2NDQNCi0tLSBhL2lu
Y2x1ZGUvbGludXgvbWx4NS9lcS5oDQorKysgYi9pbmNsdWRlL2xpbnV4L21seDUvZXEuaA0KQEAg
LTQsMTcgKzQsNyBAQA0KICNpZm5kZWYgTUxYNV9DT1JFX0VRX0gNCiAjZGVmaW5lIE1MWDVfQ09S
RV9FUV9IDQogDQotZW51bSB7DQotCU1MWDVfRVFfUEFHRVJFUV9JRFggICAgICAgID0gMCwNCi0J
TUxYNV9FUV9DTURfSURYICAgICAgICAgICAgPSAxLA0KLQlNTFg1X0VRX0FTWU5DX0lEWCAgICAg
ICAgICA9IDIsDQotCS8qIHJlc2VydmVkIHRvIGJlIHVzZWQgYnkgbWx4NV9jb3JlIHVscHMgKG1s
eDVlL21seDVfaWIpICovDQotCU1MWDVfRVFfUEZBVUxUX0lEWCAgICAgICAgID0gMywNCi0JTUxY
NV9FUV9NQVhfQVNZTkNfRVFTLA0KLQkvKiBjb21wbGV0aW9uIGVxcyB2ZWN0b3IgaW5kaWNlcyBz
dGFydCBoZXJlICovDQotCU1MWDVfRVFfVkVDX0NPTVBfQkFTRSA9IE1MWDVfRVFfTUFYX0FTWU5D
X0VRUywNCi19Ow0KLQ0KKyNkZWZpbmUgTUxYNV9JUlFfVkVDX0NPTVBfQkFTRSAxDQogI2RlZmlu
ZSBNTFg1X05VTV9DTURfRVFFICAgKDMyKQ0KICNkZWZpbmUgTUxYNV9OVU1fQVNZTkNfRVFFICgw
eDEwMDApDQogI2RlZmluZSBNTFg1X05VTV9TUEFSRV9FUUUgKDB4ODApDQpAQCAtMjMsNyArMTMs
NyBAQCBzdHJ1Y3QgbWx4NV9lcTsNCiBzdHJ1Y3QgbWx4NV9jb3JlX2RldjsNCiANCiBzdHJ1Y3Qg
bWx4NV9lcV9wYXJhbSB7DQotCXU4ICAgICAgICAgICAgIGluZGV4Ow0KKwl1OCAgICAgICAgICAg
ICBpcnFfaW5kZXg7DQogCWludCAgICAgICAgICAgIG5lbnQ7DQogCXU2NCAgICAgICAgICAgIG1h
c2s7DQogCXN0cnVjdCBub3RpZmllcl9ibG9jayAqbmI7DQotLSANCjIuMjEuMA0KDQo=
