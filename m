Return-Path: <netdev-owner@vger.kernel.org>
X-Original-To: lists+netdev@lfdr.de
Delivered-To: lists+netdev@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id C2816294BF
	for <lists+netdev@lfdr.de>; Fri, 24 May 2019 11:35:43 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2390186AbfEXJfh (ORCPT <rfc822;lists+netdev@lfdr.de>);
        Fri, 24 May 2019 05:35:37 -0400
Received: from mail-eopbgr40055.outbound.protection.outlook.com ([40.107.4.55]:45477
        "EHLO EUR03-DB5-obe.outbound.protection.outlook.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S2390164AbfEXJfh (ORCPT <rfc822;netdev@vger.kernel.org>);
        Fri, 24 May 2019 05:35:37 -0400
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=Mellanox.com;
 s=selector2;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=RHvYQ820fkk6H6qOqlLB+4QymbJuNU30JMdkUYH7ChU=;
 b=TGfeC62pgH5ww603wQ+GTw6wf/5S9rgzFdTjwGrMWcY0khveAFPm3TToorjSBq3YO8r4KkPKk4XTvsKx+CpF67T/CD/dXQGVBc+SPiGNxVoK2nfhuQmRVuSmHm0uGvGQ1jt2FiVo7dk1Y+LocLaxFaWjiwJEaI+9qXaIbS4hRh8=
Received: from AM6PR05MB5879.eurprd05.prod.outlook.com (20.179.0.76) by
 AM6PR05MB4294.eurprd05.prod.outlook.com (52.135.160.158) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1900.18; Fri, 24 May 2019 09:35:23 +0000
Received: from AM6PR05MB5879.eurprd05.prod.outlook.com
 ([fe80::3cb0:9252:d790:51e2]) by AM6PR05MB5879.eurprd05.prod.outlook.com
 ([fe80::3cb0:9252:d790:51e2%7]) with mapi id 15.20.1922.019; Fri, 24 May 2019
 09:35:23 +0000
From:   Maxim Mikityanskiy <maximmi@mellanox.com>
To:     Alexei Starovoitov <ast@kernel.org>,
        Daniel Borkmann <daniel@iogearbox.net>,
        =?utf-8?B?QmrDtnJuIFTDtnBlbA==?= <bjorn.topel@intel.com>,
        Magnus Karlsson <magnus.karlsson@intel.com>
CC:     "bpf@vger.kernel.org" <bpf@vger.kernel.org>,
        "netdev@vger.kernel.org" <netdev@vger.kernel.org>,
        "David S. Miller" <davem@davemloft.net>,
        Saeed Mahameed <saeedm@mellanox.com>,
        Jonathan Lemon <bsd@fb.com>,
        Tariq Toukan <tariqt@mellanox.com>,
        Martin KaFai Lau <kafai@fb.com>,
        Song Liu <songliubraving@fb.com>, Yonghong Song <yhs@fb.com>,
        Jakub Kicinski <jakub.kicinski@netronome.com>,
        Maciej Fijalkowski <maciejromanfijalkowski@gmail.com>,
        Maxim Mikityanskiy <maximmi@mellanox.com>
Subject: [PATCH bpf-next v3 06/16] xsk: Return the whole xdp_desc from
 xsk_umem_consume_tx
Thread-Topic: [PATCH bpf-next v3 06/16] xsk: Return the whole xdp_desc from
 xsk_umem_consume_tx
Thread-Index: AQHVEhQCRXCOlCVEA0usRVmVAtR53w==
Date:   Fri, 24 May 2019 09:35:23 +0000
Message-ID: <20190524093431.20887-7-maximmi@mellanox.com>
References: <20190524093431.20887-1-maximmi@mellanox.com>
In-Reply-To: <20190524093431.20887-1-maximmi@mellanox.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: LO2P265CA0126.GBRP265.PROD.OUTLOOK.COM
 (2603:10a6:600:9f::18) To AM6PR05MB5879.eurprd05.prod.outlook.com
 (2603:10a6:20b:a2::12)
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=maximmi@mellanox.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.19.1
x-originating-ip: [141.226.120.58]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: f0bb6c79-10d8-4a09-db6c-08d6e02b24de
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0;PCL:0;RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600141)(711020)(4605104)(4618075)(2017052603328)(7193020);SRVR:AM6PR05MB4294;
x-ms-traffictypediagnostic: AM6PR05MB4294:
x-microsoft-antispam-prvs: <AM6PR05MB4294B7BE36D497413B68149AD1020@AM6PR05MB4294.eurprd05.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:6430;
x-forefront-prvs: 0047BC5ADE
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(136003)(39860400002)(396003)(366004)(346002)(376002)(199004)(189003)(66476007)(99286004)(478600001)(76176011)(66556008)(66946007)(14454004)(68736007)(6506007)(64756008)(386003)(66446008)(36756003)(316002)(54906003)(110136005)(73956011)(107886003)(26005)(486006)(71200400001)(71190400001)(52116002)(11346002)(446003)(186003)(305945005)(7736002)(2616005)(2906002)(476003)(6436002)(5660300002)(53936002)(50226002)(7416002)(8676002)(102836004)(1076003)(8936002)(256004)(66066001)(86362001)(25786009)(6486002)(6512007)(4326008)(66574012)(81166006)(3846002)(6116002)(81156014)(14444005);DIR:OUT;SFP:1101;SCL:1;SRVR:AM6PR05MB4294;H:AM6PR05MB5879.eurprd05.prod.outlook.com;FPR:;SPF:None;LANG:en;PTR:InfoNoRecords;A:1;MX:1;
received-spf: None (protection.outlook.com: mellanox.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: tqFSwtot+/llC9vbrew79Id3UhmM7ItVm983aTa5vX8oyX2kryGRpn4h6/wo67HIprJ7nDI0Hoo5w+UBQCvA32SVjmNf5h1KL+fwjUl8GJZc+uTKWo11kMukgEGuQKg1NdwAoOOe5I4OLGyBEFcgBZgBr8pV8JrUxamEhgwUVN86QLX16Q1jhFc9DbTlT4FA1PV22tyidjPqfLSv2FqCNBhmg9hbJQF1ybf9xwYsNZxk1spOq+5THKFVhs3sLgit2kboiL9rd75wojXQf21Tp6enNY/HDYarmHme+ee5MkVIPT7zUarR81oDo3NdOCsd8NcFcfnCiMcdOhuYmoYLayXNnuI8KNDppEANxqQmbzmFNdl8HF7B9XoyNMXVMXNDEt3oj6Klc92aOfNdA00vtWdI1vYuIkybZVfGUuILloQ=
Content-Type: text/plain; charset="utf-8"
Content-ID: <6E13E762F1E1E142868442E38BE4CEE1@eurprd05.prod.outlook.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: Mellanox.com
X-MS-Exchange-CrossTenant-Network-Message-Id: f0bb6c79-10d8-4a09-db6c-08d6e02b24de
X-MS-Exchange-CrossTenant-originalarrivaltime: 24 May 2019 09:35:23.1851
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: a652971c-7d2e-4d9b-a6a4-d149256f461b
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-Transport-CrossTenantHeadersStamped: AM6PR05MB4294
Sender: netdev-owner@vger.kernel.org
Precedence: bulk
List-ID: <netdev.vger.kernel.org>
X-Mailing-List: netdev@vger.kernel.org

U29tZSBkcml2ZXJzIHdhbnQgdG8gYWNjZXNzIHRoZSBkYXRhIHRyYW5zbWl0dGVkIGluIG9yZGVy
IHRvIGltcGxlbWVudA0KYWNjZWxlcmF0aW9uIGZlYXR1cmVzIG9mIHRoZSBOSUNzLiBJdCBpcyBh
bHNvIHVzZWZ1bCBpbiBBRl9YRFAgVFggZmxvdy4NCg0KQ2hhbmdlIHRoZSB4c2tfdW1lbV9jb25z
dW1lX3R4IEFQSSB0byByZXR1cm4gdGhlIHdob2xlIHhkcF9kZXNjLCB0aGF0DQpjb250YWlucyB0
aGUgZGF0YSBwb2ludGVyLCBsZW5ndGggYW5kIERNQSBhZGRyZXNzLCBpbnN0ZWFkIG9mIG9ubHkg
dGhlDQpsYXR0ZXIgdHdvLiBBZGFwdCB0aGUgaW1wbGVtZW50YXRpb24gb2YgaTQwZSBhbmQgaXhn
YmUgdG8gdGhpcyBjaGFuZ2UuDQoNClNpZ25lZC1vZmYtYnk6IE1heGltIE1pa2l0eWFuc2tpeSA8
bWF4aW1taUBtZWxsYW5veC5jb20+DQpSZXZpZXdlZC1ieTogVGFyaXEgVG91a2FuIDx0YXJpcXRA
bWVsbGFub3guY29tPg0KQWNrZWQtYnk6IFNhZWVkIE1haGFtZWVkIDxzYWVlZG1AbWVsbGFub3gu
Y29tPg0KQ2M6IEJqw7ZybiBUw7ZwZWwgPGJqb3JuLnRvcGVsQGludGVsLmNvbT4NCkNjOiBNYWdu
dXMgS2FybHNzb24gPG1hZ251cy5rYXJsc3NvbkBpbnRlbC5jb20+DQotLS0NCiBkcml2ZXJzL25l
dC9ldGhlcm5ldC9pbnRlbC9pNDBlL2k0MGVfeHNrLmMgICB8IDEyICsrKysrKystLS0tLQ0KIGRy
aXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2l4Z2JlL2l4Z2JlX3hzay5jIHwgMTUgKysrKysrKysr
LS0tLS0tDQogaW5jbHVkZS9uZXQveGRwX3NvY2suaCAgICAgICAgICAgICAgICAgICAgICAgfCAg
NiArKystLS0NCiBuZXQveGRwL3hzay5jICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8
IDEwICsrKy0tLS0tLS0NCiA0IGZpbGVzIGNoYW5nZWQsIDIyIGluc2VydGlvbnMoKyksIDIxIGRl
bGV0aW9ucygtKQ0KDQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaTQw
ZS9pNDBlX3hzay5jIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaTQwZS9pNDBlX3hzay5j
DQppbmRleCAxYjE3NDg2NTQzYWMuLmVhZTZmYWZhZDFiOCAxMDA2NDQNCi0tLSBhL2RyaXZlcnMv
bmV0L2V0aGVybmV0L2ludGVsL2k0MGUvaTQwZV94c2suYw0KKysrIGIvZHJpdmVycy9uZXQvZXRo
ZXJuZXQvaW50ZWwvaTQwZS9pNDBlX3hzay5jDQpAQCAtNjQwLDggKzY0MCw4IEBAIHN0YXRpYyBi
b29sIGk0MGVfeG1pdF96YyhzdHJ1Y3QgaTQwZV9yaW5nICp4ZHBfcmluZywgdW5zaWduZWQgaW50
IGJ1ZGdldCkNCiAJc3RydWN0IGk0MGVfdHhfZGVzYyAqdHhfZGVzYyA9IE5VTEw7DQogCXN0cnVj
dCBpNDBlX3R4X2J1ZmZlciAqdHhfYmk7DQogCWJvb2wgd29ya19kb25lID0gdHJ1ZTsNCisJc3Ry
dWN0IHhkcF9kZXNjIGRlc2M7DQogCWRtYV9hZGRyX3QgZG1hOw0KLQl1MzIgbGVuOw0KIA0KIAl3
aGlsZSAoYnVkZ2V0LS0gPiAwKSB7DQogCQlpZiAoIXVubGlrZWx5KEk0MEVfREVTQ19VTlVTRUQo
eGRwX3JpbmcpKSkgew0KQEAgLTY1MCwyMSArNjUwLDIzIEBAIHN0YXRpYyBib29sIGk0MGVfeG1p
dF96YyhzdHJ1Y3QgaTQwZV9yaW5nICp4ZHBfcmluZywgdW5zaWduZWQgaW50IGJ1ZGdldCkNCiAJ
CQlicmVhazsNCiAJCX0NCiANCi0JCWlmICgheHNrX3VtZW1fY29uc3VtZV90eCh4ZHBfcmluZy0+
eHNrX3VtZW0sICZkbWEsICZsZW4pKQ0KKwkJaWYgKCF4c2tfdW1lbV9jb25zdW1lX3R4KHhkcF9y
aW5nLT54c2tfdW1lbSwgJmRlc2MpKQ0KIAkJCWJyZWFrOw0KIA0KLQkJZG1hX3N5bmNfc2luZ2xl
X2Zvcl9kZXZpY2UoeGRwX3JpbmctPmRldiwgZG1hLCBsZW4sDQorCQlkbWEgPSB4ZHBfdW1lbV9n
ZXRfZG1hKHhkcF9yaW5nLT54c2tfdW1lbSwgZGVzYy5hZGRyKTsNCisNCisJCWRtYV9zeW5jX3Np
bmdsZV9mb3JfZGV2aWNlKHhkcF9yaW5nLT5kZXYsIGRtYSwgZGVzYy5sZW4sDQogCQkJCQkgICBE
TUFfQklESVJFQ1RJT05BTCk7DQogDQogCQl0eF9iaSA9ICZ4ZHBfcmluZy0+dHhfYmlbeGRwX3Jp
bmctPm5leHRfdG9fdXNlXTsNCi0JCXR4X2JpLT5ieXRlY291bnQgPSBsZW47DQorCQl0eF9iaS0+
Ynl0ZWNvdW50ID0gZGVzYy5sZW47DQogDQogCQl0eF9kZXNjID0gSTQwRV9UWF9ERVNDKHhkcF9y
aW5nLCB4ZHBfcmluZy0+bmV4dF90b191c2UpOw0KIAkJdHhfZGVzYy0+YnVmZmVyX2FkZHIgPSBj
cHVfdG9fbGU2NChkbWEpOw0KIAkJdHhfZGVzYy0+Y21kX3R5cGVfb2Zmc2V0X2JzeiA9DQogCQkJ
YnVpbGRfY3RvYihJNDBFX1RYX0RFU0NfQ01EX0lDUkMNCiAJCQkJICAgfCBJNDBFX1RYX0RFU0Nf
Q01EX0VPUCwNCi0JCQkJICAgMCwgbGVuLCAwKTsNCisJCQkJICAgMCwgZGVzYy5sZW4sIDApOw0K
IA0KIAkJeGRwX3JpbmctPm5leHRfdG9fdXNlKys7DQogCQlpZiAoeGRwX3JpbmctPm5leHRfdG9f
dXNlID09IHhkcF9yaW5nLT5jb3VudCkNCmRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC9ldGhlcm5l
dC9pbnRlbC9peGdiZS9peGdiZV94c2suYyBiL2RyaXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2l4
Z2JlL2l4Z2JlX3hzay5jDQppbmRleCBiZmU5NWNlMGJkN2YuLjAyOTdhNzBhNGUyZCAxMDA2NDQN
Ci0tLSBhL2RyaXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2l4Z2JlL2l4Z2JlX3hzay5jDQorKysg
Yi9kcml2ZXJzL25ldC9ldGhlcm5ldC9pbnRlbC9peGdiZS9peGdiZV94c2suYw0KQEAgLTYyMSw4
ICs2MjEsOSBAQCBzdGF0aWMgYm9vbCBpeGdiZV94bWl0X3pjKHN0cnVjdCBpeGdiZV9yaW5nICp4
ZHBfcmluZywgdW5zaWduZWQgaW50IGJ1ZGdldCkNCiAJdW5pb24gaXhnYmVfYWR2X3R4X2Rlc2Mg
KnR4X2Rlc2MgPSBOVUxMOw0KIAlzdHJ1Y3QgaXhnYmVfdHhfYnVmZmVyICp0eF9iaTsNCiAJYm9v
bCB3b3JrX2RvbmUgPSB0cnVlOw0KLQl1MzIgbGVuLCBjbWRfdHlwZTsNCisJc3RydWN0IHhkcF9k
ZXNjIGRlc2M7DQogCWRtYV9hZGRyX3QgZG1hOw0KKwl1MzIgY21kX3R5cGU7DQogDQogCXdoaWxl
IChidWRnZXQtLSA+IDApIHsNCiAJCWlmICh1bmxpa2VseSghaXhnYmVfZGVzY191bnVzZWQoeGRw
X3JpbmcpKSB8fA0KQEAgLTYzMSwxNCArNjMyLDE2IEBAIHN0YXRpYyBib29sIGl4Z2JlX3htaXRf
emMoc3RydWN0IGl4Z2JlX3JpbmcgKnhkcF9yaW5nLCB1bnNpZ25lZCBpbnQgYnVkZ2V0KQ0KIAkJ
CWJyZWFrOw0KIAkJfQ0KIA0KLQkJaWYgKCF4c2tfdW1lbV9jb25zdW1lX3R4KHhkcF9yaW5nLT54
c2tfdW1lbSwgJmRtYSwgJmxlbikpDQorCQlpZiAoIXhza191bWVtX2NvbnN1bWVfdHgoeGRwX3Jp
bmctPnhza191bWVtLCAmZGVzYykpDQogCQkJYnJlYWs7DQogDQotCQlkbWFfc3luY19zaW5nbGVf
Zm9yX2RldmljZSh4ZHBfcmluZy0+ZGV2LCBkbWEsIGxlbiwNCisJCWRtYSA9IHhkcF91bWVtX2dl
dF9kbWEoeGRwX3JpbmctPnhza191bWVtLCBkZXNjLmFkZHIpOw0KKw0KKwkJZG1hX3N5bmNfc2lu
Z2xlX2Zvcl9kZXZpY2UoeGRwX3JpbmctPmRldiwgZG1hLCBkZXNjLmxlbiwNCiAJCQkJCSAgIERN
QV9CSURJUkVDVElPTkFMKTsNCiANCiAJCXR4X2JpID0gJnhkcF9yaW5nLT50eF9idWZmZXJfaW5m
b1t4ZHBfcmluZy0+bmV4dF90b191c2VdOw0KLQkJdHhfYmktPmJ5dGVjb3VudCA9IGxlbjsNCisJ
CXR4X2JpLT5ieXRlY291bnQgPSBkZXNjLmxlbjsNCiAJCXR4X2JpLT54ZHBmID0gTlVMTDsNCiAN
CiAJCXR4X2Rlc2MgPSBJWEdCRV9UWF9ERVNDKHhkcF9yaW5nLCB4ZHBfcmluZy0+bmV4dF90b191
c2UpOw0KQEAgLTY0OCwxMCArNjUxLDEwIEBAIHN0YXRpYyBib29sIGl4Z2JlX3htaXRfemMoc3Ry
dWN0IGl4Z2JlX3JpbmcgKnhkcF9yaW5nLCB1bnNpZ25lZCBpbnQgYnVkZ2V0KQ0KIAkJY21kX3R5
cGUgPSBJWEdCRV9BRFZUWERfRFRZUF9EQVRBIHwNCiAJCQkgICBJWEdCRV9BRFZUWERfRENNRF9E
RVhUIHwNCiAJCQkgICBJWEdCRV9BRFZUWERfRENNRF9JRkNTOw0KLQkJY21kX3R5cGUgfD0gbGVu
IHwgSVhHQkVfVFhEX0NNRDsNCisJCWNtZF90eXBlIHw9IGRlc2MubGVuIHwgSVhHQkVfVFhEX0NN
RDsNCiAJCXR4X2Rlc2MtPnJlYWQuY21kX3R5cGVfbGVuID0gY3B1X3RvX2xlMzIoY21kX3R5cGUp
Ow0KIAkJdHhfZGVzYy0+cmVhZC5vbGluZm9fc3RhdHVzID0NCi0JCQljcHVfdG9fbGUzMihsZW4g
PDwgSVhHQkVfQURWVFhEX1BBWUxFTl9TSElGVCk7DQorCQkJY3B1X3RvX2xlMzIoZGVzYy5sZW4g
PDwgSVhHQkVfQURWVFhEX1BBWUxFTl9TSElGVCk7DQogDQogCQl4ZHBfcmluZy0+bmV4dF90b191
c2UrKzsNCiAJCWlmICh4ZHBfcmluZy0+bmV4dF90b191c2UgPT0geGRwX3JpbmctPmNvdW50KQ0K
ZGlmZiAtLWdpdCBhL2luY2x1ZGUvbmV0L3hkcF9zb2NrLmggYi9pbmNsdWRlL25ldC94ZHBfc29j
ay5oDQppbmRleCAxYWNkZGNiZGEyMzYuLmVlYzViNjZhZWU5MyAxMDA2NDQNCi0tLSBhL2luY2x1
ZGUvbmV0L3hkcF9zb2NrLmgNCisrKyBiL2luY2x1ZGUvbmV0L3hkcF9zb2NrLmgNCkBAIC04MSw3
ICs4MSw3IEBAIGJvb2wgeHNrX3VtZW1faGFzX2FkZHJzKHN0cnVjdCB4ZHBfdW1lbSAqdW1lbSwg
dTMyIGNudCk7DQogdTY0ICp4c2tfdW1lbV9wZWVrX2FkZHIoc3RydWN0IHhkcF91bWVtICp1bWVt
LCB1NjQgKmFkZHIpOw0KIHZvaWQgeHNrX3VtZW1fZGlzY2FyZF9hZGRyKHN0cnVjdCB4ZHBfdW1l
bSAqdW1lbSk7DQogdm9pZCB4c2tfdW1lbV9jb21wbGV0ZV90eChzdHJ1Y3QgeGRwX3VtZW0gKnVt
ZW0sIHUzMiBuYl9lbnRyaWVzKTsNCi1ib29sIHhza191bWVtX2NvbnN1bWVfdHgoc3RydWN0IHhk
cF91bWVtICp1bWVtLCBkbWFfYWRkcl90ICpkbWEsIHUzMiAqbGVuKTsNCitib29sIHhza191bWVt
X2NvbnN1bWVfdHgoc3RydWN0IHhkcF91bWVtICp1bWVtLCBzdHJ1Y3QgeGRwX2Rlc2MgKmRlc2Mp
Ow0KIHZvaWQgeHNrX3VtZW1fY29uc3VtZV90eF9kb25lKHN0cnVjdCB4ZHBfdW1lbSAqdW1lbSk7
DQogc3RydWN0IHhkcF91bWVtX2ZxX3JldXNlICp4c2tfcmV1c2VxX3ByZXBhcmUodTMyIG5lbnRy
aWVzKTsNCiBzdHJ1Y3QgeGRwX3VtZW1fZnFfcmV1c2UgKnhza19yZXVzZXFfc3dhcChzdHJ1Y3Qg
eGRwX3VtZW0gKnVtZW0sDQpAQCAtMTc1LDggKzE3NSw4IEBAIHN0YXRpYyBpbmxpbmUgdm9pZCB4
c2tfdW1lbV9jb21wbGV0ZV90eChzdHJ1Y3QgeGRwX3VtZW0gKnVtZW0sIHUzMiBuYl9lbnRyaWVz
KQ0KIHsNCiB9DQogDQotc3RhdGljIGlubGluZSBib29sIHhza191bWVtX2NvbnN1bWVfdHgoc3Ry
dWN0IHhkcF91bWVtICp1bWVtLCBkbWFfYWRkcl90ICpkbWEsDQotCQkJCSAgICAgICB1MzIgKmxl
bikNCitzdGF0aWMgaW5saW5lIGJvb2wgeHNrX3VtZW1fY29uc3VtZV90eChzdHJ1Y3QgeGRwX3Vt
ZW0gKnVtZW0sDQorCQkJCSAgICAgICBzdHJ1Y3QgeGRwX2Rlc2MgKmRlc2MpDQogew0KIAlyZXR1
cm4gZmFsc2U7DQogfQ0KZGlmZiAtLWdpdCBhL25ldC94ZHAveHNrLmMgYi9uZXQveGRwL3hzay5j
DQppbmRleCAxOGFiNjFiZmNiZjQuLjg1NWVhN2Y2ZDYzYiAxMDA2NDQNCi0tLSBhL25ldC94ZHAv
eHNrLmMNCisrKyBiL25ldC94ZHAveHNrLmMNCkBAIC0xNzUsMjIgKzE3NSwxOCBAQCB2b2lkIHhz
a191bWVtX2NvbnN1bWVfdHhfZG9uZShzdHJ1Y3QgeGRwX3VtZW0gKnVtZW0pDQogfQ0KIEVYUE9S
VF9TWU1CT0woeHNrX3VtZW1fY29uc3VtZV90eF9kb25lKTsNCiANCi1ib29sIHhza191bWVtX2Nv
bnN1bWVfdHgoc3RydWN0IHhkcF91bWVtICp1bWVtLCBkbWFfYWRkcl90ICpkbWEsIHUzMiAqbGVu
KQ0KK2Jvb2wgeHNrX3VtZW1fY29uc3VtZV90eChzdHJ1Y3QgeGRwX3VtZW0gKnVtZW0sIHN0cnVj
dCB4ZHBfZGVzYyAqZGVzYykNCiB7DQotCXN0cnVjdCB4ZHBfZGVzYyBkZXNjOw0KIAlzdHJ1Y3Qg
eGRwX3NvY2sgKnhzOw0KIA0KIAlyY3VfcmVhZF9sb2NrKCk7DQogCWxpc3RfZm9yX2VhY2hfZW50
cnlfcmN1KHhzLCAmdW1lbS0+eHNrX2xpc3QsIGxpc3QpIHsNCi0JCWlmICgheHNrcV9wZWVrX2Rl
c2MoeHMtPnR4LCAmZGVzYykpDQorCQlpZiAoIXhza3FfcGVla19kZXNjKHhzLT50eCwgZGVzYykp
DQogCQkJY29udGludWU7DQogDQotCQlpZiAoeHNrcV9wcm9kdWNlX2FkZHJfbGF6eSh1bWVtLT5j
cSwgZGVzYy5hZGRyKSkNCisJCWlmICh4c2txX3Byb2R1Y2VfYWRkcl9sYXp5KHVtZW0tPmNxLCBk
ZXNjLT5hZGRyKSkNCiAJCQlnb3RvIG91dDsNCiANCi0JCSpkbWEgPSB4ZHBfdW1lbV9nZXRfZG1h
KHVtZW0sIGRlc2MuYWRkcik7DQotCQkqbGVuID0gZGVzYy5sZW47DQotDQogCQl4c2txX2Rpc2Nh
cmRfZGVzYyh4cy0+dHgpOw0KIAkJcmN1X3JlYWRfdW5sb2NrKCk7DQogCQlyZXR1cm4gdHJ1ZTsN
Ci0tIA0KMi4xOS4xDQoNCg==
