Return-Path: <netdev-owner@vger.kernel.org>
X-Original-To: lists+netdev@lfdr.de
Delivered-To: lists+netdev@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 1E725411942
	for <lists+netdev@lfdr.de>; Mon, 20 Sep 2021 18:13:51 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S243001AbhITQPD (ORCPT <rfc822;lists+netdev@lfdr.de>);
        Mon, 20 Sep 2021 12:15:03 -0400
Received: from mail-dm6nam12on2045.outbound.protection.outlook.com ([40.107.243.45]:61920
        "EHLO NAM12-DM6-obe.outbound.protection.outlook.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S242946AbhITQOK (ORCPT <rfc822;netdev@vger.kernel.org>);
        Mon, 20 Sep 2021 12:14:10 -0400
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=OllwQfcteoKFqTCvawRCX68C4BcdSwMPL+P5k8Gr4HVbt07P3iv+WBBOk+OkMWK5ucwhzDcp+hRn1HUg/gq5ZhXEbkRxfTJyw+3asT48NlYdEdklOW1gMOm2ghRjSlKWZw/G63ziJovFlMSP74fBRf2VcIoMrcJBn0h9xqBhtPCTUXHZV30prfrCFWtSg846yOh8S7q9d06GfUWHh60ql3ZQOTYDxo3sYVnlRoVtH5KOLQ6v4FZc0y12ODvUPqmrj88THb2/udEzKnOuYWzhpSfFic52czXAw/jl2zu2swmT40Au7Pjw6UrxW7aSgWK7fRVuaRCIYrPT9pEyg5OKXg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901; h=From:Date:Subject:Message-ID:Content-Type:MIME-Version;
 bh=fcEwwc3i6agT46bOKiI8eUhDKxo9lKyrYIMHtt/BQts=;
 b=kekbJNZe5LXkSzEjJyMejrF8Cd7EpH9OAP5OT+KFvn3IelRPq40yWvRzPXSh1FW/DkSMRl3k/NWpol9EApKU5ZKywTo2V7dhS4O04itLdCNKTePDZS8Qsqq5VGsp0tDyOm/beAVb6G1BzXnyhhPHcP/lI/ubd5lSPyTNEtM5WUzdt+VED9PXtjFDhOpZpvJgNfNlf6tJmdh+G3cX35Ubu7dmJbqa1QEbEJuBwa9WqfBIK5dxsMwKWHvQGInHSoMAmysy7WinMh1D1l3vsKxY0pvB5nVCVXwkGvX12mDbDCFSTlWG6D6oRZvMJ2lQ0VFeIiptW435Kmqo91G1aKL3rw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=silabs.com; dmarc=pass action=none header.from=silabs.com;
 dkim=pass header.d=silabs.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=silabs.onmicrosoft.com; s=selector2-silabs-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=fcEwwc3i6agT46bOKiI8eUhDKxo9lKyrYIMHtt/BQts=;
 b=jwdzrD2sQWY347TDddC6Vys1mzHvPAhsVJdId+GhB+kzpV3XT5WtN5aHka5ldOo4S+Xmr6Y8CDFH8hwqEmWlilhlfhHK6a1RhpsxLTbDdHsjI1/VeFA+rzPo6+7Nd2XDy0ndbhar63hYWVqlhR0y6m3RMKejC1KPlEX29cCJqKY=
Authentication-Results: vger.kernel.org; dkim=none (message not signed)
 header.d=none;vger.kernel.org; dmarc=none action=none header.from=silabs.com;
Received: from SN6PR11MB2718.namprd11.prod.outlook.com (2603:10b6:805:63::18)
 by SA2PR11MB5002.namprd11.prod.outlook.com (2603:10b6:806:fb::8) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.4523.16; Mon, 20 Sep
 2021 16:12:18 +0000
Received: from SN6PR11MB2718.namprd11.prod.outlook.com
 ([fe80::7050:a0a:415:2ccd]) by SN6PR11MB2718.namprd11.prod.outlook.com
 ([fe80::7050:a0a:415:2ccd%7]) with mapi id 15.20.4523.018; Mon, 20 Sep 2021
 16:12:18 +0000
From:   Jerome Pouiller <Jerome.Pouiller@silabs.com>
To:     linux-wireless@vger.kernel.org, netdev@vger.kernel.org,
        Kalle Valo <kvalo@codeaurora.org>
Cc:     devel@driverdev.osuosl.org, linux-kernel@vger.kernel.org,
        Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
        "David S . Miller" <davem@davemloft.net>,
        devicetree@vger.kernel.org, Rob Herring <robh+dt@kernel.org>,
        linux-mmc@vger.kernel.org,
        =?UTF-8?q?Pali=20Roh=C3=A1r?= <pali@kernel.org>,
        Ulf Hansson <ulf.hansson@linaro.org>,
        =?UTF-8?q?J=C3=A9r=C3=B4me=20Pouiller?= 
        <jerome.pouiller@silabs.com>
Subject: [PATCH v7 10/24] wfx: add fwio.c/fwio.h
Date:   Mon, 20 Sep 2021 18:11:22 +0200
Message-Id: <20210920161136.2398632-11-Jerome.Pouiller@silabs.com>
X-Mailer: git-send-email 2.33.0
In-Reply-To: <20210920161136.2398632-1-Jerome.Pouiller@silabs.com>
References: <20210920161136.2398632-1-Jerome.Pouiller@silabs.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
X-ClientProxiedBy: SA0PR11CA0064.namprd11.prod.outlook.com
 (2603:10b6:806:d2::9) To SN6PR11MB2718.namprd11.prod.outlook.com
 (2603:10b6:805:63::18)
MIME-Version: 1.0
Received: from pc-42.silabs.com (2a01:e34:ecb5:66a0:9876:e1d7:65be:d294) by SA0PR11CA0064.namprd11.prod.outlook.com (2603:10b6:806:d2::9) with Microsoft SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.4523.14 via Frontend Transport; Mon, 20 Sep 2021 16:12:15 +0000
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: 36f90ad7-7a9e-4cab-2c04-08d97c516ad6
X-MS-TrafficTypeDiagnostic: SA2PR11MB5002:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <SA2PR11MB500252B1432CE688F93FF86393A09@SA2PR11MB5002.namprd11.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:1122;
X-MS-Exchange-SenderADCheck: 1
X-MS-Exchange-AntiSpam-Relay: 0
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: Lq5thWUJkZZm9qjiBnYBuayVIbPM0FIbMdJBbv91XlhBuoJWahJV/s02SUm5C9KGULh8e9ylYa1L8BB1jlVhdu9m1MdvHOhOMuPukv8foTCNfxYBElmk+wQJT7J6SRSflliM8SSfbaPwNQLC4DR0vLFP1GoIadEH+ZHFKcY5sy6T9FuX8tzIVSlRUcABtV3ZPA5VhHuhB4PC+V4omZr0VIwNhdElTH8Q9lTlFOlqeDjSawnOTiu7QNL7AdBWMMAk6tG/mvMPxsNRIcyKAeO9SgcA8JWxUNYIDXilEpYn7qc2JL7RvybkcOFUjgGq5+Ks0ku2/P8yO9T7AjyWijt8TZiB+QjgJ71jYeFoo+7ZcifWbwJTZvHFpF/kgUfs9Qf2yea1g/dGyRD83Eu4xAcvzNLVEFD008vS3EKPYcKomwNRpie8P/HhEOIkv2rVrXBEyAbJVjVbE6WoigckKeEwVP+CGYX4ZX2P7I8oAMbHFvqSldta1ZfXnOmCEXBSFNaqnNKc/fJ5CRUpVUgyMnRjD2kVlb4TW//EWkrAsDdNc8hf8vMFgDseDRvjHVhp2bMoUb30ABa+ufVfOBkh+RStfXVNoWOxTLcom+xHxtByF8jsUSOpZvE0MAeipVLc9wGya8bEq2HsCjG6Df9FuRf5rA==
X-Forefront-Antispam-Report: CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:SN6PR11MB2718.namprd11.prod.outlook.com;PTR:;CAT:NONE;SFS:(366004)(66476007)(36756003)(2616005)(66556008)(107886003)(186003)(54906003)(5660300002)(6486002)(66574015)(66946007)(52116002)(38100700002)(83380400001)(7696005)(6916009)(2906002)(1076003)(4326008)(8936002)(316002)(8676002)(508600001)(86362001)(30864003)(6666004)(7416002);DIR:OUT;SFP:1101;
X-MS-Exchange-AntiSpam-MessageData-ChunkCount: 1
X-MS-Exchange-AntiSpam-MessageData-0: N9iDkwz5rFSY596UB6pmvEdqI68HAsLpYR74qhV8PchNiBOO4TYXgFS7mHu+VkMjOMI5CsyzMAX7Fll839PK6hG0P/HB6MTK2fmdrToFk2rmWRKMxWNBGcFRd/bwdigX//Cxd3k9NqYSSEHEAqlBZdcoIogkqEiFFBOvCAvkZq5PrKYwUujQwjpcRGFsW6leJFFAPzavqSFAHgoWPjJUOWjyvU/daU4lE3IPFnDOGxFlaUSaFp8ZqEUT993W4L0BWq/1rTfBSFovsZXOdQJOzQbP7cE5l9gVFiNBTmG4yEHlgkNuI64wnqKaRp5fph9tFP219IfcWbDGWgCW8if3Vnq0joHrzgN3RUzODzRUaUl4ywR994L3NDyht2Bv6jxsCozmfrr83KinicyMXAOus5Fl9ELYnfV5dH5mIpns8yOXTmdfSR84iF6hyFmX6qY5PTsRua6LUwy/Lw44MdwctNSL89UveEJ1UMdf9prTwMGyH+/XBdbcSkKcf4U+WSWVYKLD+6doMP4XKGDIIXbUNj5ZuN0UGObd0rP/P4dQGW+gNtPar/qMblKlol/0XzlAAzlAifpAhokxA4KKG+jdmyzNFLUvsc4V3D8uOUULybTAeA7uoYyV4+hLeldsSGzevS+gNzV81XBR6a89c/12RFdtiDYw4pyPMLY+lKYmo/N04RgiNJhtJwm2dhjC+kobnO6DTY/hSq+yNjHBrn3Ljwuue+sdyJJNopAlH7ghWGrK0LHIo+/l2Q3g7ybsuvY/VDR2QeBAsy+6Nzrn1JCiP5n14ZVG++F5xpTA39AB+V9UWFfuL/gOMvXEOM+9A2x4
X-OriginatorOrg: silabs.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 36f90ad7-7a9e-4cab-2c04-08d97c516ad6
X-MS-Exchange-CrossTenant-AuthSource: SN6PR11MB2718.namprd11.prod.outlook.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 20 Sep 2021 16:12:17.8700
 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 54dbd822-5231-4b20-944d-6f4abcd541fb
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: cXFtK4zO3sC4z2Qv30Qa30YHSho48O6Kqb1FDDsK5utrnBxNxP8WFWj1ndRESJ0DxEiGaERpixTTxdMmQ3nUzQ==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: SA2PR11MB5002
Precedence: bulk
List-ID: <netdev.vger.kernel.org>
X-Mailing-List: netdev@vger.kernel.org

RnJvbTogSsOpcsO0bWUgUG91aWxsZXIgPGplcm9tZS5wb3VpbGxlckBzaWxhYnMuY29tPgoKU2ln
bmVkLW9mZi1ieTogSsOpcsO0bWUgUG91aWxsZXIgPGplcm9tZS5wb3VpbGxlckBzaWxhYnMuY29t
PgotLS0KIGRyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93ZngvZndpby5jIHwgNDA1ICsrKysr
KysrKysrKysrKysrKysrKysrKysKIGRyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93ZngvZndp
by5oIHwgIDE1ICsKIDIgZmlsZXMgY2hhbmdlZCwgNDIwIGluc2VydGlvbnMoKykKIGNyZWF0ZSBt
b2RlIDEwMDY0NCBkcml2ZXJzL25ldC93aXJlbGVzcy9zaWxhYnMvd2Z4L2Z3aW8uYwogY3JlYXRl
IG1vZGUgMTAwNjQ0IGRyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93ZngvZndpby5oCgpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9uZXQvd2lyZWxlc3Mvc2lsYWJzL3dmeC9md2lvLmMgYi9kcml2ZXJz
L25ldC93aXJlbGVzcy9zaWxhYnMvd2Z4L2Z3aW8uYwpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRl
eCAwMDAwMDAwMDAwMDAuLjk4YTkzOTFiMmJlZQotLS0gL2Rldi9udWxsCisrKyBiL2RyaXZlcnMv
bmV0L3dpcmVsZXNzL3NpbGFicy93ZngvZndpby5jCkBAIC0wLDAgKzEsNDA1IEBACisvLyBTUERY
LUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5CisvKgorICogRmlybXdhcmUgbG9hZGlu
Zy4KKyAqCisgKiBDb3B5cmlnaHQgKGMpIDIwMTctMjAyMCwgU2lsaWNvbiBMYWJvcmF0b3JpZXMs
IEluYy4KKyAqIENvcHlyaWdodCAoYykgMjAxMCwgU1QtRXJpY3Nzb24KKyAqLworI2luY2x1ZGUg
PGxpbnV4L2Zpcm13YXJlLmg+CisjaW5jbHVkZSA8bGludXgvc2xhYi5oPgorI2luY2x1ZGUgPGxp
bnV4L21tLmg+CisjaW5jbHVkZSA8bGludXgvYml0ZmllbGQuaD4KKworI2luY2x1ZGUgImZ3aW8u
aCIKKyNpbmNsdWRlICJ3ZnguaCIKKyNpbmNsdWRlICJod2lvLmgiCisKKy8qIEFkZHJlc3NlcyBi
ZWxvdyBhcmUgaW4gU1JBTSBhcmVhICovCisjZGVmaW5lIFdGWF9ETkxEX0ZJRk8gICAgICAgICAg
ICAgMHgwOTAwNDAwMAorI2RlZmluZSAgICAgRE5MRF9CTE9DS19TSVpFICAgICAgICAgICAweDA0
MDAKKyNkZWZpbmUgICAgIEROTERfRklGT19TSVpFICAgICAgICAgICAgMHg4MDAwIC8qICgzMiAq
IEROTERfQkxPQ0tfU0laRSkgKi8KKy8qIERvd25sb2FkIENvbnRyb2wgQXJlYSAoRENBKSAqLwor
I2RlZmluZSBXRlhfRENBX0lNQUdFX1NJWkUgICAgICAgIDB4MDkwMEMwMDAKKyNkZWZpbmUgV0ZY
X0RDQV9QVVQgICAgICAgICAgICAgICAweDA5MDBDMDA0CisjZGVmaW5lIFdGWF9EQ0FfR0VUICAg
ICAgICAgICAgICAgMHgwOTAwQzAwOAorI2RlZmluZSBXRlhfRENBX0hPU1RfU1RBVFVTICAgICAg
IDB4MDkwMEMwMEMKKyNkZWZpbmUgICAgIEhPU1RfUkVBRFkgICAgICAgICAgICAgICAgMHg4NzY1
NDMyMQorI2RlZmluZSAgICAgSE9TVF9JTkZPX1JFQUQgICAgICAgICAgICAweEE3NTNCRDk5Cisj
ZGVmaW5lICAgICBIT1NUX1VQTE9BRF9QRU5ESU5HICAgICAgIDB4QUJDRERDQkEKKyNkZWZpbmUg
ICAgIEhPU1RfVVBMT0FEX0NPTVBMRVRFICAgICAgMHhENEM2NEE5OQorI2RlZmluZSAgICAgSE9T
VF9PS19UT19KVU1QICAgICAgICAgICAweDE3NEZDODgyCisjZGVmaW5lIFdGWF9EQ0FfTkNQX1NU
QVRVUyAgICAgICAgMHgwOTAwQzAxMAorI2RlZmluZSAgICAgTkNQX05PVF9SRUFEWSAgICAgICAg
ICAgICAweDEyMzQ1Njc4CisjZGVmaW5lICAgICBOQ1BfUkVBRFkgICAgICAgICAgICAgICAgIDB4
ODc2NTQzMjEKKyNkZWZpbmUgICAgIE5DUF9JTkZPX1JFQURZICAgICAgICAgICAgMHhCRDUzRUY5
OQorI2RlZmluZSAgICAgTkNQX0RPV05MT0FEX1BFTkRJTkcgICAgICAweEFCQ0REQ0JBCisjZGVm
aW5lICAgICBOQ1BfRE9XTkxPQURfQ09NUExFVEUgICAgIDB4Q0FGRUZFQ0EKKyNkZWZpbmUgICAg
IE5DUF9BVVRIX09LICAgICAgICAgICAgICAgMHhENEM2NEE5OQorI2RlZmluZSAgICAgTkNQX0FV
VEhfRkFJTCAgICAgICAgICAgICAweDE3NEZDODgyCisjZGVmaW5lICAgICBOQ1BfUFVCX0tFWV9S
RFkgICAgICAgICAgIDB4N0FCNDFEMTkKKyNkZWZpbmUgV0ZYX0RDQV9GV19TSUdOQVRVUkUgICAg
ICAweDA5MDBDMDE0CisjZGVmaW5lICAgICBGV19TSUdOQVRVUkVfU0laRSAgICAgICAgIDB4NDAK
KyNkZWZpbmUgV0ZYX0RDQV9GV19IQVNIICAgICAgICAgICAweDA5MDBDMDU0CisjZGVmaW5lICAg
ICBGV19IQVNIX1NJWkUgICAgICAgICAgICAgIDB4MDgKKyNkZWZpbmUgV0ZYX0RDQV9GV19WRVJT
SU9OICAgICAgICAweDA5MDBDMDVDCisjZGVmaW5lICAgICBGV19WRVJTSU9OX1NJWkUgICAgICAg
ICAgIDB4MDQKKyNkZWZpbmUgV0ZYX0RDQV9SRVNFUlZFRCAgICAgICAgICAweDA5MDBDMDYwCisj
ZGVmaW5lICAgICBEQ0FfUkVTRVJWRURfU0laRSAgICAgICAgIDB4MjAKKyNkZWZpbmUgV0ZYX1NU
QVRVU19JTkZPICAgICAgICAgICAweDA5MDBDMDgwCisjZGVmaW5lIFdGWF9CT09UTE9BREVSX0xB
QkVMICAgICAgMHgwOTAwQzA4NAorI2RlZmluZSAgICAgQk9PVExPQURFUl9MQUJFTF9TSVpFICAg
ICAweDNDCisjZGVmaW5lIFdGWF9QVEVfSU5GTyAgICAgICAgICAgICAgMHgwOTAwQzBDMAorI2Rl
ZmluZSAgICAgUFRFX0lORk9fS0VZU0VUX0lEWCAgICAgICAweDBECisjZGVmaW5lICAgICBQVEVf
SU5GT19TSVpFICAgICAgICAgICAgIDB4MTAKKyNkZWZpbmUgV0ZYX0VSUl9JTkZPICAgICAgICAg
ICAgICAweDA5MDBDMEQwCisjZGVmaW5lICAgICBFUlJfSU5WQUxJRF9TRUNfVFlQRSAgICAgIDB4
MDUKKyNkZWZpbmUgICAgIEVSUl9TSUdfVkVSSUZfRkFJTEVEICAgICAgMHgwRgorI2RlZmluZSAg
ICAgRVJSX0FFU19DVFJMX0tFWSAgICAgICAgICAweDEwCisjZGVmaW5lICAgICBFUlJfRUNDX1BV
Ql9LRVkgICAgICAgICAgIDB4MTEKKyNkZWZpbmUgICAgIEVSUl9NQUNfS0VZICAgICAgICAgICAg
ICAgMHgxOAorCisjZGVmaW5lIERDQV9USU1FT1VUICA1MCAvKiBtaWxsaXNlY29uZHMgKi8KKyNk
ZWZpbmUgV0FLRVVQX1RJTUVPVVQgMjAwIC8qIG1pbGxpc2Vjb25kcyAqLworCitzdGF0aWMgY29u
c3QgY2hhciAqIGNvbnN0IGZ3aW9fZXJyb3JzW10gPSB7CisJW0VSUl9JTlZBTElEX1NFQ19UWVBF
XSA9ICJJbnZhbGlkIHNlY3Rpb24gdHlwZSBvciB3cm9uZyBlbmNyeXB0aW9uIiwKKwlbRVJSX1NJ
R19WRVJJRl9GQUlMRURdID0gIlNpZ25hdHVyZSB2ZXJpZmljYXRpb24gZmFpbGVkIiwKKwlbRVJS
X0FFU19DVFJMX0tFWV0gPSAiQUVTIGNvbnRyb2wga2V5IG5vdCBpbml0aWFsaXplZCIsCisJW0VS
Ul9FQ0NfUFVCX0tFWV0gPSAiRUNDIHB1YmxpYyBrZXkgbm90IGluaXRpYWxpemVkIiwKKwlbRVJS
X01BQ19LRVldID0gIk1BQyBrZXkgbm90IGluaXRpYWxpemVkIiwKK307CisKKy8qIHJlcXVlc3Rf
ZmlybXdhcmUoKSBhbGxvY2F0ZSBkYXRhIHVzaW5nIHZtYWxsb2MoKS4gSXQgaXMgbm90IGNvbXBh
dGlibGUgd2l0aAorICogdW5kZXJseWluZyBoYXJkd2FyZSB0aGF0IHVzZSBETUEuIEZ1bmN0aW9u
IGJlbG93IGRldGVjdCB0aGlzIGNhc2UgYW5kCisgKiBhbGxvY2F0ZSBhIGJvdW5jZSBidWZmZXIg
aWYgbmVjZXNzYXJ5LgorICoKKyAqIE5vdGljZSB0aGF0LCBpbiBkb3VidCwgeW91IGNhbiBlbmFi
bGUgQ09ORklHX0RFQlVHX1NHIHRvIGFzayBrZXJuZWwgdG8KKyAqIGRldGVjdCB0aGlzIHByb2Js
ZW0gYXQgcnVudGltZSAgKGVsc2UsIGtlcm5lbCBzaWxlbnRseSBmYWlsKS4KKyAqCisgKiBOT1RF
OiBpdCBtYXkgYWxzbyBiZSBwb3NzaWJsZSB0byB1c2UgJ3BhZ2VzJyBmcm9tIHN0cnVjdCBmaXJt
d2FyZSBhbmQgYXZvaWQKKyAqIGJvdW5jZSBidWZmZXIKKyAqLworc3RhdGljIGludCBzcmFtX3dy
aXRlX2RtYV9zYWZlKHN0cnVjdCB3ZnhfZGV2ICp3ZGV2LCB1MzIgYWRkciwgY29uc3QgdTggKmJ1
ZiwKKwkJCSAgICAgICBzaXplX3QgbGVuKQoreworCWludCByZXQ7CisJY29uc3QgdTggKnRtcDsK
KworCWlmICghdmlydF9hZGRyX3ZhbGlkKGJ1ZikpIHsKKwkJdG1wID0ga21lbWR1cChidWYsIGxl
biwgR0ZQX0tFUk5FTCk7CisJCWlmICghdG1wKQorCQkJcmV0dXJuIC1FTk9NRU07CisJfSBlbHNl
IHsKKwkJdG1wID0gYnVmOworCX0KKwlyZXQgPSBzcmFtX2J1Zl93cml0ZSh3ZGV2LCBhZGRyLCB0
bXAsIGxlbik7CisJaWYgKHRtcCAhPSBidWYpCisJCWtmcmVlKHRtcCk7CisJcmV0dXJuIHJldDsK
K30KKworc3RhdGljIGludCBnZXRfZmlybXdhcmUoc3RydWN0IHdmeF9kZXYgKndkZXYsIHUzMiBr
ZXlzZXRfY2hpcCwKKwkJCWNvbnN0IHN0cnVjdCBmaXJtd2FyZSAqKmZ3LCBpbnQgKmZpbGVfb2Zm
c2V0KQoreworCWludCBrZXlzZXRfZmlsZTsKKwljaGFyIGZpbGVuYW1lWzI1Nl07CisJY29uc3Qg
Y2hhciAqZGF0YTsKKwlpbnQgcmV0OworCisJc25wcmludGYoZmlsZW5hbWUsIHNpemVvZihmaWxl
bmFtZSksICIlc18lMDJYLnNlYyIsCisJCSB3ZGV2LT5wZGF0YS5maWxlX2Z3LCBrZXlzZXRfY2hp
cCk7CisJcmV0ID0gZmlybXdhcmVfcmVxdWVzdF9ub3dhcm4oZncsIGZpbGVuYW1lLCB3ZGV2LT5k
ZXYpOworCWlmIChyZXQpIHsKKwkJZGV2X2luZm8od2Rldi0+ZGV2LCAiY2FuJ3QgbG9hZCAlcywg
ZmFsbGluZyBiYWNrIHRvICVzLnNlY1xuIiwKKwkJCSBmaWxlbmFtZSwgd2Rldi0+cGRhdGEuZmls
ZV9mdyk7CisJCXNucHJpbnRmKGZpbGVuYW1lLCBzaXplb2YoZmlsZW5hbWUpLCAiJXMuc2VjIiwK
KwkJCSB3ZGV2LT5wZGF0YS5maWxlX2Z3KTsKKwkJcmV0ID0gcmVxdWVzdF9maXJtd2FyZShmdywg
ZmlsZW5hbWUsIHdkZXYtPmRldik7CisJCWlmIChyZXQpIHsKKwkJCWRldl9lcnIod2Rldi0+ZGV2
LCAiY2FuJ3QgbG9hZCAlc1xuIiwgZmlsZW5hbWUpOworCQkJKmZ3ID0gTlVMTDsKKwkJCXJldHVy
biByZXQ7CisJCX0KKwl9CisKKwlkYXRhID0gKCpmdyktPmRhdGE7CisJaWYgKG1lbWNtcChkYXRh
LCAiS0VZU0VUIiwgNikgIT0gMCkgeworCQkvKiBMZWdhY3kgZmlybXdhcmUgZm9ybWF0ICovCisJ
CSpmaWxlX29mZnNldCA9IDA7CisJCWtleXNldF9maWxlID0gMHg5MDsKKwl9IGVsc2UgeworCQkq
ZmlsZV9vZmZzZXQgPSA4OworCQlrZXlzZXRfZmlsZSA9IChoZXhfdG9fYmluKGRhdGFbNl0pICog
MTYpIHwgaGV4X3RvX2JpbihkYXRhWzddKTsKKwkJaWYgKGtleXNldF9maWxlIDwgMCkgeworCQkJ
ZGV2X2Vycih3ZGV2LT5kZXYsICIlcyBjb3JydXB0ZWRcbiIsIGZpbGVuYW1lKTsKKwkJCXJlbGVh
c2VfZmlybXdhcmUoKmZ3KTsKKwkJCSpmdyA9IE5VTEw7CisJCQlyZXR1cm4gLUVJTlZBTDsKKwkJ
fQorCX0KKwlpZiAoa2V5c2V0X2ZpbGUgIT0ga2V5c2V0X2NoaXApIHsKKwkJZGV2X2Vycih3ZGV2
LT5kZXYsICJmaXJtd2FyZSBrZXlzZXQgaXMgaW5jb21wYXRpYmxlIHdpdGggY2hpcCAoZmlsZTog
MHglMDJYLCBjaGlwOiAweCUwMlgpXG4iLAorCQkJa2V5c2V0X2ZpbGUsIGtleXNldF9jaGlwKTsK
KwkJcmVsZWFzZV9maXJtd2FyZSgqZncpOworCQkqZncgPSBOVUxMOworCQlyZXR1cm4gLUVOT0RF
VjsKKwl9CisJd2Rldi0+a2V5c2V0ID0ga2V5c2V0X2ZpbGU7CisJcmV0dXJuIDA7Cit9CisKK3N0
YXRpYyBpbnQgd2FpdF9uY3Bfc3RhdHVzKHN0cnVjdCB3ZnhfZGV2ICp3ZGV2LCB1MzIgc3RhdHVz
KQoreworCWt0aW1lX3Qgbm93LCBzdGFydDsKKwl1MzIgcmVnOworCWludCByZXQ7CisKKwlzdGFy
dCA9IGt0aW1lX2dldCgpOworCWZvciAoOzspIHsKKwkJcmV0ID0gc3JhbV9yZWdfcmVhZCh3ZGV2
LCBXRlhfRENBX05DUF9TVEFUVVMsICZyZWcpOworCQlpZiAocmV0IDwgMCkKKwkJCXJldHVybiAt
RUlPOworCQlub3cgPSBrdGltZV9nZXQoKTsKKwkJaWYgKHJlZyA9PSBzdGF0dXMpCisJCQlicmVh
azsKKwkJaWYgKGt0aW1lX2FmdGVyKG5vdywga3RpbWVfYWRkX21zKHN0YXJ0LCBEQ0FfVElNRU9V
VCkpKQorCQkJcmV0dXJuIC1FVElNRURPVVQ7CisJfQorCWlmIChrdGltZV9jb21wYXJlKG5vdywg
c3RhcnQpKQorCQlkZXZfZGJnKHdkZXYtPmRldiwgImNoaXAgYW5zd2VyIGFmdGVyICVsbGR1c1xu
IiwKKwkJCWt0aW1lX3VzX2RlbHRhKG5vdywgc3RhcnQpKTsKKwllbHNlCisJCWRldl9kYmcod2Rl
di0+ZGV2LCAiY2hpcCBhbnN3ZXIgaW1tZWRpYXRlbHlcbiIpOworCXJldHVybiAwOworfQorCitz
dGF0aWMgaW50IHVwbG9hZF9maXJtd2FyZShzdHJ1Y3Qgd2Z4X2RldiAqd2RldiwgY29uc3QgdTgg
KmRhdGEsIHNpemVfdCBsZW4pCit7CisJaW50IHJldDsKKwl1MzIgb2ZmcywgYnl0ZXNfZG9uZSA9
IDA7CisJa3RpbWVfdCBub3csIHN0YXJ0OworCisJaWYgKGxlbiAlIEROTERfQkxPQ0tfU0laRSkg
eworCQlkZXZfZXJyKHdkZXYtPmRldiwgImZpcm13YXJlIHNpemUgaXMgbm90IGFsaWduZWQuIEJ1
ZmZlciBvdmVycnVuIHdpbGwgb2NjdXJcbiIpOworCQlyZXR1cm4gLUVJTzsKKwl9CisJb2ZmcyA9
IDA7CisJd2hpbGUgKG9mZnMgPCBsZW4pIHsKKwkJc3RhcnQgPSBrdGltZV9nZXQoKTsKKwkJZm9y
ICg7OykgeworCQkJbm93ID0ga3RpbWVfZ2V0KCk7CisJCQlpZiAob2ZmcyArIEROTERfQkxPQ0tf
U0laRSAtIGJ5dGVzX2RvbmUgPCBETkxEX0ZJRk9fU0laRSkKKwkJCQlicmVhazsKKwkJCWlmIChr
dGltZV9hZnRlcihub3csIGt0aW1lX2FkZF9tcyhzdGFydCwgRENBX1RJTUVPVVQpKSkKKwkJCQly
ZXR1cm4gLUVUSU1FRE9VVDsKKwkJCXJldCA9IHNyYW1fcmVnX3JlYWQod2RldiwgV0ZYX0RDQV9H
RVQsICZieXRlc19kb25lKTsKKwkJCWlmIChyZXQgPCAwKQorCQkJCXJldHVybiByZXQ7CisJCX0K
KwkJaWYgKGt0aW1lX2NvbXBhcmUobm93LCBzdGFydCkpCisJCQlkZXZfZGJnKHdkZXYtPmRldiwg
ImFuc3dlciBhZnRlciAlbGxkdXNcbiIsCisJCQkJa3RpbWVfdXNfZGVsdGEobm93LCBzdGFydCkp
OworCisJCXJldCA9IHNyYW1fd3JpdGVfZG1hX3NhZmUod2RldiwgV0ZYX0ROTERfRklGTyArCisJ
CQkJCSAgKG9mZnMgJSBETkxEX0ZJRk9fU0laRSksCisJCQkJCSAgZGF0YSArIG9mZnMsIEROTERf
QkxPQ0tfU0laRSk7CisJCWlmIChyZXQgPCAwKQorCQkJcmV0dXJuIHJldDsKKworCQkvKiBUaGUg
ZGV2aWNlIHNlZW1zIHRvIG5vdCBzdXBwb3J0IHdyaXRpbmcgMCBpbiB0aGlzIHJlZ2lzdGVyCisJ
CSAqIGR1cmluZyBmaXJzdCBsb29wCisJCSAqLworCQlvZmZzICs9IEROTERfQkxPQ0tfU0laRTsK
KwkJcmV0ID0gc3JhbV9yZWdfd3JpdGUod2RldiwgV0ZYX0RDQV9QVVQsIG9mZnMpOworCQlpZiAo
cmV0IDwgMCkKKwkJCXJldHVybiByZXQ7CisJfQorCXJldHVybiAwOworfQorCitzdGF0aWMgdm9p
ZCBwcmludF9ib290X3N0YXR1cyhzdHJ1Y3Qgd2Z4X2RldiAqd2RldikKK3sKKwl1MzIgcmVnOwor
CisJc3JhbV9yZWdfcmVhZCh3ZGV2LCBXRlhfU1RBVFVTX0lORk8sICZyZWcpOworCWlmIChyZWcg
PT0gMHgxMjM0NTY3OCkKKwkJcmV0dXJuOworCXNyYW1fcmVnX3JlYWQod2RldiwgV0ZYX0VSUl9J
TkZPLCAmcmVnKTsKKwlpZiAocmVnIDwgQVJSQVlfU0laRShmd2lvX2Vycm9ycykgJiYgZndpb19l
cnJvcnNbcmVnXSkKKwkJZGV2X2luZm8od2Rldi0+ZGV2LCAic2VjdXJlIGJvb3Q6ICVzXG4iLCBm
d2lvX2Vycm9yc1tyZWddKTsKKwllbHNlCisJCWRldl9pbmZvKHdkZXYtPmRldiwgInNlY3VyZSBi
b290OiBFcnJvciAlIzAyeFxuIiwgcmVnKTsKK30KKworc3RhdGljIGludCBsb2FkX2Zpcm13YXJl
X3NlY3VyZShzdHJ1Y3Qgd2Z4X2RldiAqd2RldikKK3sKKwljb25zdCBzdHJ1Y3QgZmlybXdhcmUg
KmZ3ID0gTlVMTDsKKwlpbnQgaGVhZGVyX3NpemU7CisJaW50IGZ3X29mZnNldDsKKwlrdGltZV90
IHN0YXJ0OworCXU4ICpidWY7CisJaW50IHJldDsKKworCUJVSUxEX0JVR19PTihQVEVfSU5GT19T
SVpFID4gQk9PVExPQURFUl9MQUJFTF9TSVpFKTsKKwlidWYgPSBrbWFsbG9jKEJPT1RMT0FERVJf
TEFCRUxfU0laRSArIDEsIEdGUF9LRVJORUwpOworCWlmICghYnVmKQorCQlyZXR1cm4gLUVOT01F
TTsKKworCXNyYW1fcmVnX3dyaXRlKHdkZXYsIFdGWF9EQ0FfSE9TVF9TVEFUVVMsIEhPU1RfUkVB
RFkpOworCXJldCA9IHdhaXRfbmNwX3N0YXR1cyh3ZGV2LCBOQ1BfSU5GT19SRUFEWSk7CisJaWYg
KHJldCkKKwkJZ290byBlcnJvcjsKKworCXNyYW1fYnVmX3JlYWQod2RldiwgV0ZYX0JPT1RMT0FE
RVJfTEFCRUwsIGJ1ZiwgQk9PVExPQURFUl9MQUJFTF9TSVpFKTsKKwlidWZbQk9PVExPQURFUl9M
QUJFTF9TSVpFXSA9IDA7CisJZGV2X2RiZyh3ZGV2LT5kZXYsICJib290bG9hZGVyOiBcIiVzXCJc
biIsIGJ1Zik7CisKKwlzcmFtX2J1Zl9yZWFkKHdkZXYsIFdGWF9QVEVfSU5GTywgYnVmLCBQVEVf
SU5GT19TSVpFKTsKKwlyZXQgPSBnZXRfZmlybXdhcmUod2RldiwgYnVmW1BURV9JTkZPX0tFWVNF
VF9JRFhdLCAmZncsICZmd19vZmZzZXQpOworCWlmIChyZXQpCisJCWdvdG8gZXJyb3I7CisJaGVh
ZGVyX3NpemUgPSBmd19vZmZzZXQgKyBGV19TSUdOQVRVUkVfU0laRSArIEZXX0hBU0hfU0laRTsK
KworCXNyYW1fcmVnX3dyaXRlKHdkZXYsIFdGWF9EQ0FfSE9TVF9TVEFUVVMsIEhPU1RfSU5GT19S
RUFEKTsKKwlyZXQgPSB3YWl0X25jcF9zdGF0dXMod2RldiwgTkNQX1JFQURZKTsKKwlpZiAocmV0
KQorCQlnb3RvIGVycm9yOworCisJc3JhbV9yZWdfd3JpdGUod2RldiwgV0ZYX0ROTERfRklGTywg
MHhGRkZGRkZGRik7IC8qIEZpZm8gaW5pdCAqLworCXNyYW1fd3JpdGVfZG1hX3NhZmUod2Rldiwg
V0ZYX0RDQV9GV19WRVJTSU9OLCAiXHgwMVx4MDBceDAwXHgwMCIsCisJCQkgICAgRldfVkVSU0lP
Tl9TSVpFKTsKKwlzcmFtX3dyaXRlX2RtYV9zYWZlKHdkZXYsIFdGWF9EQ0FfRldfU0lHTkFUVVJF
LCBmdy0+ZGF0YSArIGZ3X29mZnNldCwKKwkJCSAgICBGV19TSUdOQVRVUkVfU0laRSk7CisJc3Jh
bV93cml0ZV9kbWFfc2FmZSh3ZGV2LCBXRlhfRENBX0ZXX0hBU0gsCisJCQkgICAgZnctPmRhdGEg
KyBmd19vZmZzZXQgKyBGV19TSUdOQVRVUkVfU0laRSwKKwkJCSAgICBGV19IQVNIX1NJWkUpOwor
CXNyYW1fcmVnX3dyaXRlKHdkZXYsIFdGWF9EQ0FfSU1BR0VfU0laRSwgZnctPnNpemUgLSBoZWFk
ZXJfc2l6ZSk7CisJc3JhbV9yZWdfd3JpdGUod2RldiwgV0ZYX0RDQV9IT1NUX1NUQVRVUywgSE9T
VF9VUExPQURfUEVORElORyk7CisJcmV0ID0gd2FpdF9uY3Bfc3RhdHVzKHdkZXYsIE5DUF9ET1dO
TE9BRF9QRU5ESU5HKTsKKwlpZiAocmV0KQorCQlnb3RvIGVycm9yOworCisJc3RhcnQgPSBrdGlt
ZV9nZXQoKTsKKwlyZXQgPSB1cGxvYWRfZmlybXdhcmUod2RldiwgZnctPmRhdGEgKyBoZWFkZXJf
c2l6ZSwKKwkJCSAgICAgIGZ3LT5zaXplIC0gaGVhZGVyX3NpemUpOworCWlmIChyZXQpCisJCWdv
dG8gZXJyb3I7CisJZGV2X2RiZyh3ZGV2LT5kZXYsICJmaXJtd2FyZSBsb2FkIGFmdGVyICVsbGR1
c1xuIiwKKwkJa3RpbWVfdXNfZGVsdGEoa3RpbWVfZ2V0KCksIHN0YXJ0KSk7CisKKwlzcmFtX3Jl
Z193cml0ZSh3ZGV2LCBXRlhfRENBX0hPU1RfU1RBVFVTLCBIT1NUX1VQTE9BRF9DT01QTEVURSk7
CisJcmV0ID0gd2FpdF9uY3Bfc3RhdHVzKHdkZXYsIE5DUF9BVVRIX09LKTsKKwkvKiBMZWdhY3kg
Uk9NIHN1cHBvcnQgKi8KKwlpZiAocmV0IDwgMCkKKwkJcmV0ID0gd2FpdF9uY3Bfc3RhdHVzKHdk
ZXYsIE5DUF9QVUJfS0VZX1JEWSk7CisJaWYgKHJldCA8IDApCisJCWdvdG8gZXJyb3I7CisJc3Jh
bV9yZWdfd3JpdGUod2RldiwgV0ZYX0RDQV9IT1NUX1NUQVRVUywgSE9TVF9PS19UT19KVU1QKTsK
KworZXJyb3I6CisJa2ZyZWUoYnVmKTsKKwlpZiAoZncpCisJCXJlbGVhc2VfZmlybXdhcmUoZncp
OworCWlmIChyZXQpCisJCXByaW50X2Jvb3Rfc3RhdHVzKHdkZXYpOworCXJldHVybiByZXQ7Cit9
CisKK3N0YXRpYyBpbnQgaW5pdF9ncHIoc3RydWN0IHdmeF9kZXYgKndkZXYpCit7CisJaW50IHJl
dCwgaTsKKwlzdGF0aWMgY29uc3Qgc3RydWN0IHsKKwkJaW50IGluZGV4OworCQl1MzIgdmFsdWU7
CisJfSBncHJfaW5pdFtdID0geworCQl7IDB4MDcsIDB4MjA4Nzc1IH0sCisJCXsgMHgwOCwgMHgy
RUMwMjAgfSwKKwkJeyAweDA5LCAweDNDM0MzQyB9LAorCQl7IDB4MEIsIDB4MzIyQzQ0IH0sCisJ
CXsgMHgwQywgMHhBMDY0OTcgfSwKKwl9OworCisJZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUo
Z3ByX2luaXQpOyBpKyspIHsKKwkJcmV0ID0gaWdwcl9yZWdfd3JpdGUod2RldiwgZ3ByX2luaXRb
aV0uaW5kZXgsCisJCQkJICAgICBncHJfaW5pdFtpXS52YWx1ZSk7CisJCWlmIChyZXQgPCAwKQor
CQkJcmV0dXJuIHJldDsKKwkJZGV2X2RiZyh3ZGV2LT5kZXYsICIgIGluZGV4ICUwMng6ICUwOHhc
biIsCisJCQlncHJfaW5pdFtpXS5pbmRleCwgZ3ByX2luaXRbaV0udmFsdWUpOworCX0KKwlyZXR1
cm4gMDsKK30KKworaW50IHdmeF9pbml0X2RldmljZShzdHJ1Y3Qgd2Z4X2RldiAqd2RldikKK3sK
KwlpbnQgcmV0OworCWludCBod19yZXZpc2lvbiwgaHdfdHlwZTsKKwlpbnQgd2FrZXVwX3RpbWVv
dXQgPSA1MDsgLyogbXMgKi8KKwlrdGltZV90IG5vdywgc3RhcnQ7CisJdTMyIHJlZzsKKworCXJl
ZyA9IENGR19ESVJFQ1RfQUNDRVNTX01PREUgfCBDRkdfQ1BVX1JFU0VUIHwgQ0ZHX0JZVEVfT1JE
RVJfQUJDRDsKKwlpZiAod2Rldi0+cGRhdGEudXNlX3Jpc2luZ19jbGspCisJCXJlZyB8PSBDRkdf
Q0xLX1JJU0VfRURHRTsKKwlyZXQgPSBjb25maWdfcmVnX3dyaXRlKHdkZXYsIHJlZyk7CisJaWYg
KHJldCA8IDApIHsKKwkJZGV2X2Vycih3ZGV2LT5kZXYsICJidXMgcmV0dXJuZWQgYW4gZXJyb3Ig
ZHVyaW5nIGZpcnN0IHdyaXRlIGFjY2Vzcy4gSG9zdCBjb25maWd1cmF0aW9uIGVycm9yP1xuIik7
CisJCXJldHVybiAtRUlPOworCX0KKworCXJldCA9IGNvbmZpZ19yZWdfcmVhZCh3ZGV2LCAmcmVn
KTsKKwlpZiAocmV0IDwgMCkgeworCQlkZXZfZXJyKHdkZXYtPmRldiwgImJ1cyByZXR1cm5lZCBh
biBlcnJvciBkdXJpbmcgZmlyc3QgcmVhZCBhY2Nlc3MuIEJ1cyBjb25maWd1cmF0aW9uIGVycm9y
P1xuIik7CisJCXJldHVybiAtRUlPOworCX0KKwlpZiAocmVnID09IDAgfHwgcmVnID09IH4wKSB7
CisJCWRldl9lcnIod2Rldi0+ZGV2LCAiY2hpcCBtdXRlLiBCdXMgY29uZmlndXJhdGlvbiBlcnJv
ciBvciBjaGlwIHdhc24ndCByZXNldD9cbiIpOworCQlyZXR1cm4gLUVJTzsKKwl9CisJZGV2X2Ri
Zyh3ZGV2LT5kZXYsICJpbml0aWFsIGNvbmZpZyByZWdpc3RlciB2YWx1ZTogJTA4eFxuIiwgcmVn
KTsKKworCWh3X3JldmlzaW9uID0gRklFTERfR0VUKENGR19ERVZJQ0VfSURfTUFKT1IsIHJlZyk7
CisJaWYgKGh3X3JldmlzaW9uID09IDApIHsKKwkJZGV2X2Vycih3ZGV2LT5kZXYsICJiYWQgaGFy
ZHdhcmUgcmV2aXNpb24gbnVtYmVyOiAlZFxuIiwKKwkJCWh3X3JldmlzaW9uKTsKKwkJcmV0dXJu
IC1FTk9ERVY7CisJfQorCWh3X3R5cGUgPSBGSUVMRF9HRVQoQ0ZHX0RFVklDRV9JRF9UWVBFLCBy
ZWcpOworCWlmIChod190eXBlID09IDEpIHsKKwkJZGV2X25vdGljZSh3ZGV2LT5kZXYsICJkZXZl
bG9wbWVudCBoYXJkd2FyZSBkZXRlY3RlZFxuIik7CisJCXdha2V1cF90aW1lb3V0ID0gMjAwMDsK
Kwl9CisKKwlyZXQgPSBpbml0X2dwcih3ZGV2KTsKKwlpZiAocmV0IDwgMCkKKwkJcmV0dXJuIHJl
dDsKKworCXJldCA9IGNvbnRyb2xfcmVnX3dyaXRlKHdkZXYsIENUUkxfV0xBTl9XQUtFVVApOwor
CWlmIChyZXQgPCAwKQorCQlyZXR1cm4gLUVJTzsKKwlzdGFydCA9IGt0aW1lX2dldCgpOworCWZv
ciAoOzspIHsKKwkJcmV0ID0gY29udHJvbF9yZWdfcmVhZCh3ZGV2LCAmcmVnKTsKKwkJbm93ID0g
a3RpbWVfZ2V0KCk7CisJCWlmIChyZWcgJiBDVFJMX1dMQU5fUkVBRFkpCisJCQlicmVhazsKKwkJ
aWYgKGt0aW1lX2FmdGVyKG5vdywga3RpbWVfYWRkX21zKHN0YXJ0LCB3YWtldXBfdGltZW91dCkp
KSB7CisJCQlkZXZfZXJyKHdkZXYtPmRldiwgImNoaXAgZGlkbid0IHdha2UgdXAuIENoaXAgd2Fz
bid0IHJlc2V0P1xuIik7CisJCQlyZXR1cm4gLUVUSU1FRE9VVDsKKwkJfQorCX0KKwlkZXZfZGJn
KHdkZXYtPmRldiwgImNoaXAgd2FrZSB1cCBhZnRlciAlbGxkdXNcbiIsCisJCWt0aW1lX3VzX2Rl
bHRhKG5vdywgc3RhcnQpKTsKKworCXJldCA9IGNvbmZpZ19yZWdfd3JpdGVfYml0cyh3ZGV2LCBD
RkdfQ1BVX1JFU0VULCAwKTsKKwlpZiAocmV0IDwgMCkKKwkJcmV0dXJuIHJldDsKKwlyZXQgPSBs
b2FkX2Zpcm13YXJlX3NlY3VyZSh3ZGV2KTsKKwlpZiAocmV0IDwgMCkKKwkJcmV0dXJuIHJldDsK
KwlyZXR1cm4gY29uZmlnX3JlZ193cml0ZV9iaXRzKHdkZXYsCisJCQkJICAgICBDRkdfRElSRUNU
X0FDQ0VTU19NT0RFIHwKKwkJCQkgICAgIENGR19JUlFfRU5BQkxFX0RBVEEgfAorCQkJCSAgICAg
Q0ZHX0lSUV9FTkFCTEVfV1JEWSwKKwkJCQkgICAgIENGR19JUlFfRU5BQkxFX0RBVEEpOworfQpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvd2lyZWxlc3Mvc2lsYWJzL3dmeC9md2lvLmggYi9kcml2
ZXJzL25ldC93aXJlbGVzcy9zaWxhYnMvd2Z4L2Z3aW8uaApuZXcgZmlsZSBtb2RlIDEwMDY0NApp
bmRleCAwMDAwMDAwMDAwMDAuLmVlZWE2MTIxMGVjYQotLS0gL2Rldi9udWxsCisrKyBiL2RyaXZl
cnMvbmV0L3dpcmVsZXNzL3NpbGFicy93ZngvZndpby5oCkBAIC0wLDAgKzEsMTUgQEAKKy8qIFNQ
RFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9ubHkgKi8KKy8qCisgKiBGaXJtd2FyZSBs
b2FkaW5nLgorICoKKyAqIENvcHlyaWdodCAoYykgMjAxNy0yMDE5LCBTaWxpY29uIExhYm9yYXRv
cmllcywgSW5jLgorICogQ29weXJpZ2h0IChjKSAyMDEwLCBTVC1Fcmljc3NvbgorICovCisjaWZu
ZGVmIFdGWF9GV0lPX0gKKyNkZWZpbmUgV0ZYX0ZXSU9fSAorCitzdHJ1Y3Qgd2Z4X2RldjsKKwor
aW50IHdmeF9pbml0X2RldmljZShzdHJ1Y3Qgd2Z4X2RldiAqd2Rldik7CisKKyNlbmRpZgotLSAK
Mi4zMy4wCgo=
