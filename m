Return-Path: <netdev-owner@vger.kernel.org>
X-Original-To: lists+netdev@lfdr.de
Delivered-To: lists+netdev@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 60F6B75BA0
	for <lists+netdev@lfdr.de>; Fri, 26 Jul 2019 01:48:59 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1727038AbfGYXs5 (ORCPT <rfc822;lists+netdev@lfdr.de>);
        Thu, 25 Jul 2019 19:48:57 -0400
Received: from mail-eopbgr60083.outbound.protection.outlook.com ([40.107.6.83]:38017
        "EHLO EUR04-DB3-obe.outbound.protection.outlook.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S1726385AbfGYXs4 (ORCPT <rfc822;netdev@vger.kernel.org>);
        Thu, 25 Jul 2019 19:48:56 -0400
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=KL1Zx6DmM9zeL55T2P/0PlJ9JXMeM0JsPr4lMfLy0Xb68DQEtbxhP/5L9VXBm78AuhOUkobvPQ25OMk+TvFhiW6TEFpl1srW6OdJp2g0b8ZNLNt5XqYiEMgwpZwRy8g4UHON8KM+Dl4zzzL48co+sJSSfC1GkKwQ7Otun/hRslVBc71XNydM3F7qsATIxfzZHqtsCGX0MYZedsBD7pqV2SFZsHXRO778/QZv6Y/aY1KpeX5r9NZ/BCyIXJ75Wyh2+RB/vbzYPoBAL5po5XFFVqThqRHk6hkklHfmNQUhgyQeokT/fGfnmhe/kmv5EPpf7/sGy3wYlZwRcDkTBGPOLA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=c5jQOaVtNPnBLbVvHWWYt3xXZFJrOp2oXu5wfIQglUY=;
 b=dTnC1taLDNWXXwKtoHvUO20EWmVO/tqi8g2kAIpKIaAw3RnoI9x9JPUKcIwVkWS6/OoQgEQziM72lGH1RXRxaqUHUux3flQvZ/UrHVD/p5zlJ9zEBhzFCapr1HNRLCR0peV0/p0YNtDhxPnUx22U3pO0ihylRC3ZdwudqnNTcTo5eVh/rVAvEKFCXEst7McTjcUzv70CF0BM26GUQZT/Co9MuRhL5ven193ZyuWd6ilLoU0LQF8sLSi7ppKLRom33lz1DXCLmzV7vpNy5YN7oc0IFd3CPKJx+hdzUDPSO2o9WR7s00j2xmhTtN0gOT8EFKWGI8L4NlSSP95Zaade1g==
ARC-Authentication-Results: i=1; mx.microsoft.com 1;spf=pass
 smtp.mailfrom=mellanox.com;dmarc=pass action=none
 header.from=mellanox.com;dkim=pass header.d=mellanox.com;arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=Mellanox.com;
 s=selector2;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=c5jQOaVtNPnBLbVvHWWYt3xXZFJrOp2oXu5wfIQglUY=;
 b=gLTX+Jc6X3FwVhcAOFrHK61Ttr8E30O7NFnrXW3iJRcLIUPHutxzloK25sF2VEH4NcpkqmfuhevTJ759tj0panC+NsVmeUeqhiaiwGtU3KJ8uEacB9zeSLZLCGXg1qMgFxiC2X72UyciajtprSvUozXp/CAVfbRH6Q3D/YRAy2o=
Received: from DB6PR0501MB2759.eurprd05.prod.outlook.com (10.172.227.7) by
 DB6PR0501MB2166.eurprd05.prod.outlook.com (10.168.55.22) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2094.16; Thu, 25 Jul 2019 23:48:44 +0000
Received: from DB6PR0501MB2759.eurprd05.prod.outlook.com
 ([fe80::7148:ecd4:3a7f:f3f]) by DB6PR0501MB2759.eurprd05.prod.outlook.com
 ([fe80::7148:ecd4:3a7f:f3f%11]) with mapi id 15.20.2094.011; Thu, 25 Jul 2019
 23:48:44 +0000
From:   Saeed Mahameed <saeedm@mellanox.com>
To:     "snelson@pensando.io" <snelson@pensando.io>,
        "netdev@vger.kernel.org" <netdev@vger.kernel.org>,
        "davem@davemloft.net" <davem@davemloft.net>
Subject: Re: [PATCH v4 net-next 14/19] ionic: Add Tx and Rx handling
Thread-Topic: [PATCH v4 net-next 14/19] ionic: Add Tx and Rx handling
Thread-Index: AQHVQNYt1Z/iG6dvcUWFTVVCCrudAKbcBUyA
Date:   Thu, 25 Jul 2019 23:48:43 +0000
Message-ID: <c20a9924af9ce298f1997f57b8b51235726583d8.camel@mellanox.com>
References: <20190722214023.9513-1-snelson@pensando.io>
         <20190722214023.9513-15-snelson@pensando.io>
In-Reply-To: <20190722214023.9513-15-snelson@pensando.io>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
user-agent: Evolution 3.32.4 (3.32.4-1.fc30) 
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=saeedm@mellanox.com; 
x-originating-ip: [209.116.155.178]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 9219af2e-02f0-4277-3a62-08d7115aa105
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0;PCL:0;RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);SRVR:DB6PR0501MB2166;
x-ms-traffictypediagnostic: DB6PR0501MB2166:
x-ms-exchange-purlcount: 1
x-microsoft-antispam-prvs: <DB6PR0501MB2166C491324E56C8BE523E0BBEC10@DB6PR0501MB2166.eurprd05.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:8273;
x-forefront-prvs: 0109D382B0
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(4636009)(376002)(396003)(39860400002)(366004)(136003)(346002)(199004)(189003)(229853002)(486006)(14454004)(7736002)(478600001)(2501003)(305945005)(81156014)(53946003)(36756003)(71190400001)(8936002)(118296001)(30864003)(14444005)(8676002)(66066001)(71200400001)(81166006)(5660300002)(256004)(76176011)(6486002)(446003)(102836004)(68736007)(86362001)(3846002)(6116002)(110136005)(58126008)(2201001)(476003)(316002)(53936002)(2616005)(99286004)(64756008)(66946007)(91956017)(26005)(66556008)(6512007)(966005)(66446008)(6436002)(66476007)(6306002)(76116006)(186003)(6506007)(11346002)(25786009)(2906002)(6246003)(559001)(579004)(569006);DIR:OUT;SFP:1101;SCL:1;SRVR:DB6PR0501MB2166;H:DB6PR0501MB2759.eurprd05.prod.outlook.com;FPR:;SPF:None;LANG:en;PTR:InfoNoRecords;A:1;MX:1;
received-spf: None (protection.outlook.com: mellanox.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: 43cNf4kJwDgs6QFxVKjnTQl+2vrPjWL9n4yNWv0exaItkUm3ZQ7Ng0QclfiEt5epL2R27etq3IUMx7zZb4oV68Ja9BBzibK7bmd3ux6jjclIhBIFJka0umU25G3x8+WZfEHDxBe6hx1ALS9rYKh4DycwwGv2ndsL6iFL+VFmFnX8L8IRVC4Jb3BW5Sf1lAzCFsQa9+AZVLTcpBMV8tboHv95oXbUCG6mkm9c1FJclDTpHgdJQlEnD3RWT16XEobsltBJ72QOLSMJQZ7VtpzE1jPjFAW3CA92JDj2R0mmgEkM0FARWw2ArnTBogwiOXIr1OExgi2GUYREv/ogzW58M5tOpwbxEkODQXhOXs+n/A4u2BBZr1ccgTA08xj6z2VfZO42sabfHSyVp8t5rgCDE8gmYEBk0PbnlfYEHizkM3M=
Content-Type: text/plain; charset="utf-8"
Content-ID: <B4A71E5AAE866B4B8973300A582AE813@eurprd05.prod.outlook.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: Mellanox.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 9219af2e-02f0-4277-3a62-08d7115aa105
X-MS-Exchange-CrossTenant-originalarrivaltime: 25 Jul 2019 23:48:44.0398
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: a652971c-7d2e-4d9b-a6a4-d149256f461b
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: saeedm@mellanox.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DB6PR0501MB2166
Sender: netdev-owner@vger.kernel.org
Precedence: bulk
List-ID: <netdev.vger.kernel.org>
X-Mailing-List: netdev@vger.kernel.org

T24gTW9uLCAyMDE5LTA3LTIyIGF0IDE0OjQwIC0wNzAwLCBTaGFubm9uIE5lbHNvbiB3cm90ZToN
Cj4gQWRkIGJvdGggdGhlIFR4IGFuZCBSeCBxdWV1ZSBzZXR1cCBhbmQgaGFuZGxpbmcuICBUaGUg
cmVsYXRlZA0KPiBzdGF0cyBkaXNwbGF5IGNvbWVzIGxhdGVyLiAgSW5zdGVhZCBvZiB1c2luZyB0
aGUgZ2VuZXJpYyBuYXBpDQo+IHJvdXRpbmVzIHVzZWQgYnkgdGhlIHNsb3ctcGF0aCBjb21tYW5k
cywgdGhlIFR4IGFuZCBSeCBwYXRocw0KPiBhcmUgc2ltcGxpZmllZCBhbmQgaW5saW5lZCBpbiBv
bmUgZmlsZSBpbiBvcmRlciB0byBnZXQgYmV0dGVyDQo+IGNvbXBpbGVyIG9wdGltaXphdGlvbnMu
DQo+IA0KPiBTaWduZWQtb2ZmLWJ5OiBTaGFubm9uIE5lbHNvbiA8c25lbHNvbkBwZW5zYW5kby5p
bz4NCj4gLS0tDQo+ICBkcml2ZXJzL25ldC9ldGhlcm5ldC9wZW5zYW5kby9pb25pYy9NYWtlZmls
ZSAgfCAgIDIgKy0NCj4gIC4uLi9uZXQvZXRoZXJuZXQvcGVuc2FuZG8vaW9uaWMvaW9uaWNfbGlm
LmMgICB8IDM4NyArKysrKysrKw0KPiAgLi4uL25ldC9ldGhlcm5ldC9wZW5zYW5kby9pb25pYy9p
b25pY19saWYuaCAgIHwgIDUyICsrDQo+ICAuLi4vbmV0L2V0aGVybmV0L3BlbnNhbmRvL2lvbmlj
L2lvbmljX3R4cnguYyAgfCA4NzkNCj4gKysrKysrKysrKysrKysrKysrDQo+ICAuLi4vbmV0L2V0
aGVybmV0L3BlbnNhbmRvL2lvbmljL2lvbmljX3R4cnguaCAgfCAgMTUgKw0KPiAgNSBmaWxlcyBj
aGFuZ2VkLCAxMzM0IGluc2VydGlvbnMoKyksIDEgZGVsZXRpb24oLSkNCj4gIGNyZWF0ZSBtb2Rl
IDEwMDY0NCBkcml2ZXJzL25ldC9ldGhlcm5ldC9wZW5zYW5kby9pb25pYy9pb25pY190eHJ4LmMN
Cj4gIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL25ldC9ldGhlcm5ldC9wZW5zYW5kby9pb25p
Yy9pb25pY190eHJ4LmgNCj4gDQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9w
ZW5zYW5kby9pb25pYy9NYWtlZmlsZQ0KPiBiL2RyaXZlcnMvbmV0L2V0aGVybmV0L3BlbnNhbmRv
L2lvbmljL01ha2VmaWxlDQo+IGluZGV4IDliMTliZjU3YTQ4OS4uMGUyZGM1M2YwOGQ0IDEwMDY0
NA0KPiAtLS0gYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9wZW5zYW5kby9pb25pYy9NYWtlZmlsZQ0K
PiArKysgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9wZW5zYW5kby9pb25pYy9NYWtlZmlsZQ0KPiBA
QCAtNCw0ICs0LDQgQEANCj4gIG9iai0kKENPTkZJR19JT05JQykgOj0gaW9uaWMubw0KPiAgDQo+
ICBpb25pYy15IDo9IGlvbmljX21haW4ubyBpb25pY19idXNfcGNpLm8gaW9uaWNfZGV2Lm8gaW9u
aWNfZXRodG9vbC5vDQo+IFwNCj4gLQkgICBpb25pY19saWYubyBpb25pY19yeF9maWx0ZXIubyBp
b25pY19kZWJ1Z2ZzLm8NCj4gKwkgICBpb25pY19saWYubyBpb25pY19yeF9maWx0ZXIubyBpb25p
Y190eHJ4Lm8gaW9uaWNfZGVidWdmcy5vDQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC9ldGhl
cm5ldC9wZW5zYW5kby9pb25pYy9pb25pY19saWYuYw0KPiBiL2RyaXZlcnMvbmV0L2V0aGVybmV0
L3BlbnNhbmRvL2lvbmljL2lvbmljX2xpZi5jDQo+IGluZGV4IDJiZDhjZTYxYzRhMC4uNDBkM2Ix
Y2IzNjJhIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9wZW5zYW5kby9pb25p
Yy9pb25pY19saWYuYw0KPiArKysgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9wZW5zYW5kby9pb25p
Yy9pb25pY19saWYuYw0KPiBAQCAtMTAsNiArMTAsNyBAQA0KPiAgI2luY2x1ZGUgImlvbmljLmgi
DQo+ICAjaW5jbHVkZSAiaW9uaWNfYnVzLmgiDQo+ICAjaW5jbHVkZSAiaW9uaWNfbGlmLmgiDQo+
ICsjaW5jbHVkZSAiaW9uaWNfdHhyeC5oIg0KPiAgI2luY2x1ZGUgImlvbmljX2V0aHRvb2wuaCIN
Cj4gICNpbmNsdWRlICJpb25pY19kZWJ1Z2ZzLmgiDQo+ICANCj4gQEAgLTE4LDYgKzE5LDEzIEBA
IHN0YXRpYyBpbnQgaW9uaWNfbGlmX2FkZHJfYWRkKHN0cnVjdCBsaWYgKmxpZiwNCj4gY29uc3Qg
dTggKmFkZHIpOw0KPiAgc3RhdGljIGludCBpb25pY19saWZfYWRkcl9kZWwoc3RydWN0IGxpZiAq
bGlmLCBjb25zdCB1OCAqYWRkcik7DQo+ICBzdGF0aWMgdm9pZCBpb25pY19saW5rX3N0YXR1c19j
aGVjayhzdHJ1Y3QgbGlmICpsaWYpOw0KPiAgDQo+ICtzdGF0aWMgaW50IGlvbmljX2xpZl9zdG9w
KHN0cnVjdCBsaWYgKmxpZik7DQo+ICtzdGF0aWMgaW50IGlvbmljX3R4cnhfYWxsb2Moc3RydWN0
IGxpZiAqbGlmKTsNCj4gK3N0YXRpYyBpbnQgaW9uaWNfdHhyeF9pbml0KHN0cnVjdCBsaWYgKmxp
Zik7DQo+ICtzdGF0aWMgdm9pZCBpb25pY19xY3FfZnJlZShzdHJ1Y3QgbGlmICpsaWYsIHN0cnVj
dCBxY3EgKnFjcSk7DQo+ICtzdGF0aWMgaW50IGlvbmljX2xpZl90eHFzX2luaXQoc3RydWN0IGxp
ZiAqbGlmKTsNCj4gK3N0YXRpYyBpbnQgaW9uaWNfbGlmX3J4cXNfaW5pdChzdHJ1Y3QgbGlmICps
aWYpOw0KPiArc3RhdGljIHZvaWQgaW9uaWNfbGlmX3FjcV9kZWluaXQoc3RydWN0IGxpZiAqbGlm
LCBzdHJ1Y3QgcWNxICpxY3EpOw0KPiAgc3RhdGljIGludCBpb25pY19zZXRfbmljX2ZlYXR1cmVz
KHN0cnVjdCBsaWYgKmxpZiwgbmV0ZGV2X2ZlYXR1cmVzX3QNCj4gZmVhdHVyZXMpOw0KPiAgc3Rh
dGljIGludCBpb25pY19ub3RpZnlxX2NsZWFuKHN0cnVjdCBsaWYgKmxpZiwgaW50IGJ1ZGdldCk7
DQo+ICANCj4gQEAgLTY2LDEyICs3NCw5NiBAQCBzdGF0aWMgdm9pZCBpb25pY19saWZfZGVmZXJy
ZWRfZW5xdWV1ZShzdHJ1Y3QNCj4gaW9uaWNfZGVmZXJyZWQgKmRlZiwNCj4gIAlzY2hlZHVsZV93
b3JrKCZkZWYtPndvcmspOw0KPiAgfQ0KDQpCb3R0b20gdXAgb3IgdG9wIGRvd24gPyB5b3VyIGN1
cnJlbnQgZGVzaWduIGlzIHZlcnkgbWl4ZWQgYW5kIEkgaGFkIHRvDQp0byBzY3JvbGwgZG93biBh
bmQgdXAgdG9vIG9mdGVuIGp1c3QgdG8gdW5kZXJzdGFuZCB3aGF0IGEgZnVuY3Rpb24gaXMNCmRv
aW5nLCBpIHN0cm9uZ2x5IHN1Z2dlc3QgdG8gcGljayBhbiB1c2Ugb25lIGFwcHJvYWNoLg0KDQpb
MV0gDQpodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Ub3AtZG93bl9hbmRfYm90dG9tLXVw
X2Rlc2lnbiNQcm9ncmFtbWluZw0KDQoNCj4gIA0KPiArc3RhdGljIGludCBpb25pY19xY3FfZW5h
YmxlKHN0cnVjdCBxY3EgKnFjcSkNCj4gK3sNCj4gKwlzdHJ1Y3QgcXVldWUgKnEgPSAmcWNxLT5x
Ow0KPiArCXN0cnVjdCBsaWYgKmxpZiA9IHEtPmxpZjsNCj4gKwlzdHJ1Y3QgZGV2aWNlICpkZXYg
PSBsaWYtPmlvbmljLT5kZXY7DQo+ICsJc3RydWN0IGlvbmljX2RldiAqaWRldiA9ICZsaWYtPmlv
bmljLT5pZGV2Ow0KPiArCXN0cnVjdCBpb25pY19hZG1pbl9jdHggY3R4ID0gew0KPiArCQkud29y
ayA9IENPTVBMRVRJT05fSU5JVElBTElaRVJfT05TVEFDSyhjdHgud29yayksDQo+ICsJCS5jbWQu
cV9jb250cm9sID0gew0KPiArCQkJLm9wY29kZSA9IENNRF9PUENPREVfUV9DT05UUk9MLA0KPiAr
CQkJLmxpZl9pbmRleCA9IGNwdV90b19sZTE2KGxpZi0+aW5kZXgpLA0KPiArCQkJLnR5cGUgPSBx
LT50eXBlLA0KPiArCQkJLmluZGV4ID0gY3B1X3RvX2xlMzIocS0+aW5kZXgpLA0KPiArCQkJLm9w
ZXIgPSBJT05JQ19RX0VOQUJMRSwNCj4gKwkJfSwNCj4gKwl9Ow0KPiArDQo+ICsJZGV2X2RiZyhk
ZXYsICJxX2VuYWJsZS5pbmRleCAlZCBxX2VuYWJsZS5xdHlwZSAlZFxuIiwNCj4gKwkJY3R4LmNt
ZC5xX2NvbnRyb2wuaW5kZXgsIGN0eC5jbWQucV9jb250cm9sLnR5cGUpOw0KPiArDQo+ICsJaWYg
KHFjcS0+ZmxhZ3MgJiBRQ1FfRl9JTlRSKSB7DQo+ICsJCWlycV9zZXRfYWZmaW5pdHlfaGludChx
Y3EtPmludHIudmVjdG9yLA0KPiArCQkJCSAgICAgICZxY3EtPmludHIuYWZmaW5pdHlfbWFzayk7
DQo+ICsJCW5hcGlfZW5hYmxlKCZxY3EtPm5hcGkpOw0KPiArCQlpb25pY19pbnRyX2NsZWFuKGlk
ZXYtPmludHJfY3RybCwgcWNxLT5pbnRyLmluZGV4KTsNCj4gKwkJaW9uaWNfaW50cl9tYXNrKGlk
ZXYtPmludHJfY3RybCwgcWNxLT5pbnRyLmluZGV4LA0KPiArCQkJCUlPTklDX0lOVFJfTUFTS19D
TEVBUik7DQo+ICsJfQ0KPiArDQo+ICsJcmV0dXJuIGlvbmljX2FkbWlucV9wb3N0X3dhaXQobGlm
LCAmY3R4KTsNCj4gK30NCj4gKw0KPiArc3RhdGljIGludCBpb25pY19xY3FfZGlzYWJsZShzdHJ1
Y3QgcWNxICpxY3EpDQo+ICt7DQo+ICsJc3RydWN0IHF1ZXVlICpxID0gJnFjcS0+cTsNCj4gKwlz
dHJ1Y3QgbGlmICpsaWYgPSBxLT5saWY7DQo+ICsJc3RydWN0IGRldmljZSAqZGV2ID0gbGlmLT5p
b25pYy0+ZGV2Ow0KPiArCXN0cnVjdCBpb25pY19kZXYgKmlkZXYgPSAmbGlmLT5pb25pYy0+aWRl
djsNCj4gKwlzdHJ1Y3QgaW9uaWNfYWRtaW5fY3R4IGN0eCA9IHsNCj4gKwkJLndvcmsgPSBDT01Q
TEVUSU9OX0lOSVRJQUxJWkVSX09OU1RBQ0soY3R4LndvcmspLA0KPiArCQkuY21kLnFfY29udHJv
bCA9IHsNCj4gKwkJCS5vcGNvZGUgPSBDTURfT1BDT0RFX1FfQ09OVFJPTCwNCj4gKwkJCS5saWZf
aW5kZXggPSBjcHVfdG9fbGUxNihsaWYtPmluZGV4KSwNCj4gKwkJCS50eXBlID0gcS0+dHlwZSwN
Cj4gKwkJCS5pbmRleCA9IGNwdV90b19sZTMyKHEtPmluZGV4KSwNCj4gKwkJCS5vcGVyID0gSU9O
SUNfUV9ESVNBQkxFLA0KPiArCQl9LA0KPiArCX07DQo+ICsNCj4gKwlkZXZfZGJnKGRldiwgInFf
ZGlzYWJsZS5pbmRleCAlZCBxX2Rpc2FibGUucXR5cGUgJWRcbiIsDQo+ICsJCWN0eC5jbWQucV9j
b250cm9sLmluZGV4LCBjdHguY21kLnFfY29udHJvbC50eXBlKTsNCj4gKw0KPiArCWlmIChxY3Et
PmZsYWdzICYgUUNRX0ZfSU5UUikgew0KPiArCQlpb25pY19pbnRyX21hc2soaWRldi0+aW50cl9j
dHJsLCBxY3EtPmludHIuaW5kZXgsDQo+ICsJCQkJSU9OSUNfSU5UUl9NQVNLX1NFVCk7DQo+ICsJ
CXN5bmNocm9uaXplX2lycShxY3EtPmludHIudmVjdG9yKTsNCj4gKwkJaXJxX3NldF9hZmZpbml0
eV9oaW50KHFjcS0+aW50ci52ZWN0b3IsIE5VTEwpOw0KPiArCQluYXBpX2Rpc2FibGUoJnFjcS0+
bmFwaSk7DQo+ICsJfQ0KPiArDQo+ICsJcmV0dXJuIGlvbmljX2FkbWlucV9wb3N0X3dhaXQobGlm
LCAmY3R4KTsNCj4gK30NCj4gKw0KPiAgaW50IGlvbmljX29wZW4oc3RydWN0IG5ldF9kZXZpY2Ug
Km5ldGRldikNCj4gIHsNCj4gIAlzdHJ1Y3QgbGlmICpsaWYgPSBuZXRkZXZfcHJpdihuZXRkZXYp
Ow0KPiArCXVuc2lnbmVkIGludCBpOw0KPiArCWludCBlcnI7DQo+ICANCj4gIAluZXRpZl9jYXJy
aWVyX29mZihuZXRkZXYpOw0KPiAgDQo+ICsJZXJyID0gaW9uaWNfdHhyeF9hbGxvYyhsaWYpOw0K
PiArCWlmIChlcnIpDQo+ICsJCXJldHVybiBlcnI7DQo+ICsNCj4gKwllcnIgPSBpb25pY190eHJ4
X2luaXQobGlmKTsNCj4gKwlpZiAoZXJyKQ0KPiArCQlnb3RvIGVycl9vdXQ7DQo+ICsNCj4gKwlm
b3IgKGkgPSAwOyBpIDwgbGlmLT5ueHFzOyBpKyspIHsNCj4gKwkJZXJyID0gaW9uaWNfcWNxX2Vu
YWJsZShsaWYtPnR4cWNxc1tpXS5xY3EpOw0KPiArCQlpZiAoZXJyKQ0KPiArCQkJZ290byBlcnJf
b3V0Ow0KPiArDQo+ICsJCWlvbmljX3J4X2ZpbGwoJmxpZi0+cnhxY3FzW2ldLnFjcS0+cSk7DQo+
ICsJCWVyciA9IGlvbmljX3FjcV9lbmFibGUobGlmLT5yeHFjcXNbaV0ucWNxKTsNCj4gKwkJaWYg
KGVycikNCj4gKwkJCWdvdG8gZXJyX291dDsNCj4gKwl9DQo+ICsNCj4gIAlzZXRfYml0KExJRl9V
UCwgbGlmLT5zdGF0ZSk7DQo+ICANCj4gIAlpb25pY19saW5rX3N0YXR1c19jaGVjayhsaWYpOw0K
PiBAQCAtNzksMTEgKzE3MSwxNiBAQCBpbnQgaW9uaWNfb3BlbihzdHJ1Y3QgbmV0X2RldmljZSAq
bmV0ZGV2KQ0KPiAgCQluZXRpZl90eF93YWtlX2FsbF9xdWV1ZXMobmV0ZGV2KTsNCj4gIA0KPiAg
CXJldHVybiAwOw0KPiArDQo+ICtlcnJfb3V0Og0KPiArCWlvbmljX2xpZl9zdG9wKGxpZik7DQoN
ClRoaXMgaXMgZGFuZ2Vyb3VzLCBtYXliZSBub3cgaXQgaXMgb2sgdG8gc3RvcCBhIHBhcnRpYWxs
eSBvcGVuIGRyaXZlciwgDQpidXQgZnV0dXJlIGRldmVsb3BtZW50IG1pZ2h0IGJyZWFrIHRoaXMg
YXNzdW1wdGlvbiwgYW5kIHRvIGF2b2lkIHRoaXMgaQ0Kc3Ryb25nbHkgcmVjb21tZW5kIHRvIGhh
dmUgYSBzeW1tZXRyaWNhbCBjbGVhbnVwIGZsb3csIG9yIGhhdmUgYQ0KZG9jdW1lbnRhdGlvbiB0
aGF0IHNheXMgaW9uaWNfbGlmX3N0b3AgbWlnaHQgYmUgY2FsbGVkIHdpdGggcGFydGlhbGx5DQpv
cGVuIHJlc291cmNlcyBhbmQgcHJvcGVyIGNoZWNrcyBtdXN0IGJlIGRvbmUuDQoNCj4gKwlyZXR1
cm4gZXJyOw0KPiAgfQ0KPiAgDQo+ICBzdGF0aWMgaW50IGlvbmljX2xpZl9zdG9wKHN0cnVjdCBs
aWYgKmxpZikNCj4gIHsNCj4gIAlzdHJ1Y3QgbmV0X2RldmljZSAqbmRldiA9IGxpZi0+bmV0ZGV2
Ow0KPiArCXVuc2lnbmVkIGludCBpOw0KPiAgCWludCBlcnIgPSAwOw0KPiAgDQo+ICAJaWYgKCF0
ZXN0X2JpdChMSUZfVVAsIGxpZi0+c3RhdGUpKSB7DQo+IEBAIC0xMDAsNiArMTk3LDIxIEBAIHN0
YXRpYyBpbnQgaW9uaWNfbGlmX3N0b3Aoc3RydWN0IGxpZiAqbGlmKQ0KPiAgCW5ldGlmX3R4X2Rp
c2FibGUobmRldik7DQo+ICAJc3luY2hyb25pemVfcmN1KCk7DQo+ICANCj4gKwlmb3IgKGkgPSAw
OyBpIDwgbGlmLT5ueHFzOyBpKyspIHsNCj4gKwkJKHZvaWQpaW9uaWNfcWNxX2Rpc2FibGUobGlm
LT50eHFjcXNbaV0ucWNxKTsNCj4gKwkJaW9uaWNfdHhfZmx1c2goJmxpZi0+dHhxY3FzW2ldLnFj
cS0+Y3EpOw0KPiArCQlpb25pY19saWZfcWNxX2RlaW5pdChsaWYsIGxpZi0+dHhxY3FzW2ldLnFj
cSk7DQo+ICsJCWlvbmljX3FjcV9mcmVlKGxpZiwgbGlmLT50eHFjcXNbaV0ucWNxKTsNCj4gKwkJ
bGlmLT50eHFjcXNbaV0ucWNxID0gTlVMTDsNCj4gKw0KPiArCQkodm9pZClpb25pY19xY3FfZGlz
YWJsZShsaWYtPnJ4cWNxc1tpXS5xY3EpOw0KPiArCQlpb25pY19yeF9mbHVzaCgmbGlmLT5yeHFj
cXNbaV0ucWNxLT5jcSk7DQo+ICsJCWlvbmljX2xpZl9xY3FfZGVpbml0KGxpZiwgbGlmLT5yeHFj
cXNbaV0ucWNxKTsNCj4gKwkJaW9uaWNfcnhfZW1wdHkoJmxpZi0+cnhxY3FzW2ldLnFjcS0+cSk7
DQo+ICsJCWlvbmljX3FjcV9mcmVlKGxpZiwgbGlmLT5yeHFjcXNbaV0ucWNxKTsNCj4gKwkJbGlm
LT5yeHFjcXNbaV0ucWNxID0gTlVMTDsNCj4gKwl9DQo+ICsNCg0KV2h5IGRvbid0IHlvdSBicmVh
ayB0aGlzIGRvd24gdG8gc3RhZ2VzL2Z1bmN0aW9ucyAoZGlzYmFsZS91bmluaXQvZnJlZSkNCmFz
IHlvdSBkaWQgb24gb3BlbiAoYWxsb2MvaW5pL2VuYWJsZSkgPyAgd2lsbCBiZSBlYXNpZXIgdG8g
cmV2aWV3IGFuZA0KdG8gc3BvdCBpbmNvbnNpc3RlbmNpZXMNCiANCj4gIAlyZXR1cm4gZXJyOw0K
PiAgfQ0KPiAgDQo+IEBAIC02OTQsNiArODA2LDcgQEAgc3RhdGljIGludCBpb25pY192bGFuX3J4
X2tpbGxfdmlkKHN0cnVjdA0KPiBuZXRfZGV2aWNlICpuZXRkZXYsIF9fYmUxNiBwcm90bywNCj4g
IHN0YXRpYyBjb25zdCBzdHJ1Y3QgbmV0X2RldmljZV9vcHMgaW9uaWNfbmV0ZGV2X29wcyA9IHsN
Cj4gIAkubmRvX29wZW4gICAgICAgICAgICAgICA9IGlvbmljX29wZW4sDQo+ICAJLm5kb19zdG9w
ICAgICAgICAgICAgICAgPSBpb25pY19zdG9wLA0KPiArCS5uZG9fc3RhcnRfeG1pdAkJPSBpb25p
Y19zdGFydF94bWl0LA0KPiAgCS5uZG9fZ2V0X3N0YXRzNjQJPSBpb25pY19nZXRfc3RhdHM2NCwN
Cj4gIAkubmRvX3NldF9yeF9tb2RlCT0gaW9uaWNfc2V0X3J4X21vZGUsDQo+ICAJLm5kb19zZXRf
ZmVhdHVyZXMJPSBpb25pY19zZXRfZmVhdHVyZXMsDQo+IEBAIC05MDksMTAgKzEwMjIsODMgQEAg
c3RhdGljIHZvaWQgaW9uaWNfcWNxX2ZyZWUoc3RydWN0IGxpZiAqbGlmLA0KPiBzdHJ1Y3QgcWNx
ICpxY3EpDQo+ICAJZGV2bV9rZnJlZShkZXYsIHFjcSk7DQo+ICB9DQo+ICANCj4gK3N0YXRpYyBp
bnQgaW9uaWNfdHhyeF9hbGxvYyhzdHJ1Y3QgbGlmICpsaWYpDQo+ICt7DQo+ICsJdW5zaWduZWQg
aW50IGZsYWdzOw0KPiArCXVuc2lnbmVkIGludCBpOw0KPiArCWludCBlcnIgPSAwOw0KPiArDQo+
ICsJZmxhZ3MgPSBRQ1FfRl9UWF9TVEFUUyB8IFFDUV9GX1NHOw0KPiArCWZvciAoaSA9IDA7IGkg
PCBsaWYtPm54cXM7IGkrKykgew0KPiArCQllcnIgPSBpb25pY19xY3FfYWxsb2MobGlmLCBJT05J
Q19RVFlQRV9UWFEsIGksICJ0eCIsDQo+IGZsYWdzLA0KPiArCQkJCSAgICAgIGxpZi0+bnR4cV9k
ZXNjcywNCj4gKwkJCQkgICAgICBzaXplb2Yoc3RydWN0IHR4cV9kZXNjKSwNCj4gKwkJCQkgICAg
ICBzaXplb2Yoc3RydWN0IHR4cV9jb21wKSwNCj4gKwkJCQkgICAgICBzaXplb2Yoc3RydWN0IHR4
cV9zZ19kZXNjKSwNCj4gKwkJCQkgICAgICBsaWYtPmtlcm5fcGlkLCAmbGlmLQ0KPiA+dHhxY3Fz
W2ldLnFjcSk7DQo+ICsJCWlmIChlcnIpDQo+ICsJCQlnb3RvIGVycl9vdXRfZnJlZV90eHFjcXM7
DQo+ICsNCj4gKwkJbGlmLT50eHFjcXNbaV0ucWNxLT5zdGF0cyA9IGxpZi0+dHhxY3FzW2ldLnN0
YXRzOw0KPiArCX0NCj4gKw0KPiArCWZsYWdzID0gUUNRX0ZfUlhfU1RBVFMgfCBRQ1FfRl9JTlRS
Ow0KPiArCWZvciAoaSA9IDA7IGkgPCBsaWYtPm54cXM7IGkrKykgew0KPiArCQllcnIgPSBpb25p
Y19xY3FfYWxsb2MobGlmLCBJT05JQ19RVFlQRV9SWFEsIGksICJyeCIsDQo+IGZsYWdzLA0KPiAr
CQkJCSAgICAgIGxpZi0+bnJ4cV9kZXNjcywNCj4gKwkJCQkgICAgICBzaXplb2Yoc3RydWN0IHJ4
cV9kZXNjKSwNCj4gKwkJCQkgICAgICBzaXplb2Yoc3RydWN0IHJ4cV9jb21wKSwNCj4gKwkJCQkg
ICAgICAwLCBsaWYtPmtlcm5fcGlkLCAmbGlmLQ0KPiA+cnhxY3FzW2ldLnFjcSk7DQo+ICsJCWlm
IChlcnIpDQo+ICsJCQlnb3RvIGVycl9vdXRfZnJlZV9yeHFjcXM7DQo+ICsNCj4gKwkJbGlmLT5y
eHFjcXNbaV0ucWNxLT5zdGF0cyA9IGxpZi0+cnhxY3FzW2ldLnN0YXRzOw0KPiArDQo+ICsJCWlv
bmljX2xpbmtfcWNxX2ludGVycnVwdHMobGlmLT5yeHFjcXNbaV0ucWNxLA0KPiArCQkJCQkgIGxp
Zi0+dHhxY3FzW2ldLnFjcSk7DQo+ICsJfQ0KPiArDQo+ICsJcmV0dXJuIDA7DQo+ICsNCj4gK2Vy
cl9vdXRfZnJlZV9yeHFjcXM6DQo+ICsJZm9yIChpID0gMDsgaSA8IGxpZi0+bnhxczsgaSsrKQ0K
PiArCQlpb25pY19xY3FfZnJlZShsaWYsIGxpZi0+cnhxY3FzW2ldLnFjcSk7DQo+ICtlcnJfb3V0
X2ZyZWVfdHhxY3FzOg0KPiArCWZvciAoaSA9IDA7IGkgPCBsaWYtPm54cXM7IGkrKykNCj4gKwkJ
aW9uaWNfcWNxX2ZyZWUobGlmLCBsaWYtPnR4cWNxc1tpXS5xY3EpOw0KPiArDQo+ICsJcmV0dXJu
IGVycjsNCj4gK30NCj4gKw0KPiArc3RhdGljIGludCBpb25pY190eHJ4X2luaXQoc3RydWN0IGxp
ZiAqbGlmKQ0KPiArew0KPiArCWludCBlcnI7DQo+ICsNCj4gKwllcnIgPSBpb25pY19saWZfdHhx
c19pbml0KGxpZik7DQo+ICsJaWYgKGVycikNCj4gKwkJcmV0dXJuIGVycjsNCj4gKw0KPiArCWVy
ciA9IGlvbmljX2xpZl9yeHFzX2luaXQobGlmKTsNCj4gKwlpZiAoZXJyKQ0KPiArCQlnb3RvIGVy
cl9vdXQ7DQo+ICsNCj4gKwlpb25pY19zZXRfcnhfbW9kZShsaWYtPm5ldGRldik7DQo+ICsNCj4g
KwlyZXR1cm4gMDsNCj4gKw0KPiArZXJyX291dDoNCj4gKwlpb25pY19zdG9wKGxpZi0+bmV0ZGV2
KTsNCg0KSSB3b3VsZCBtb3ZlIGVycm9yIGhhbmRsaW5nIHRvIHRoZSBjYWxsZXIsIGtlZXAgdGhl
IGNvZGUgZmxvdyBhbmQgZXJyDQpwYXRoIHN5bW1ldHJpY2FsIHdpdGggZ29vZCBwYXRoLg0KDQo+
ICsNCj4gKwlyZXR1cm4gZXJyOw0KPiArfQ0KPiArDQo+ICBzdGF0aWMgaW50IGlvbmljX3FjcXNf
YWxsb2Moc3RydWN0IGxpZiAqbGlmKQ0KPiAgew0KPiArCXN0cnVjdCBkZXZpY2UgKmRldiA9IGxp
Zi0+aW9uaWMtPmRldjsNCj4gKwl1bnNpZ25lZCBpbnQgcV9saXN0X3NpemU7DQo+ICAJdW5zaWdu
ZWQgaW50IGZsYWdzOw0KPiAgCWludCBlcnI7DQo+ICsJaW50IGk7DQo+ICANCj4gIAlmbGFncyA9
IFFDUV9GX0lOVFI7DQo+ICAJZXJyID0gaW9uaWNfcWNxX2FsbG9jKGxpZiwgSU9OSUNfUVRZUEVf
QURNSU5RLCAwLCAiYWRtaW4iLA0KPiBmbGFncywNCj4gQEAgLTkzNyw4ICsxMTIzLDQ3IEBAIHN0
YXRpYyBpbnQgaW9uaWNfcWNxc19hbGxvYyhzdHJ1Y3QgbGlmICpsaWYpDQo+ICAJCWlvbmljX2xp
bmtfcWNxX2ludGVycnVwdHMobGlmLT5hZG1pbnFjcSwgbGlmLQ0KPiA+bm90aWZ5cWNxKTsNCj4g
IAl9DQo+ICANCj4gKwlxX2xpc3Rfc2l6ZSA9IHNpemVvZigqbGlmLT50eHFjcXMpICogbGlmLT5u
eHFzOw0KPiArCWVyciA9IC1FTk9NRU07DQo+ICsJbGlmLT50eHFjcXMgPSBkZXZtX2t6YWxsb2Mo
ZGV2LCBxX2xpc3Rfc2l6ZSwgR0ZQX0tFUk5FTCk7DQo+ICsJaWYgKCFsaWYtPnR4cWNxcykNCj4g
KwkJZ290byBlcnJfb3V0X2ZyZWVfbm90aWZ5cWNxOw0KPiArCWZvciAoaSA9IDA7IGkgPCBsaWYt
Pm54cXM7IGkrKykgew0KPiArCQlsaWYtPnR4cWNxc1tpXS5zdGF0cyA9IGRldm1fa3phbGxvYyhk
ZXYsIHNpemVvZihzdHJ1Y3QNCj4gcV9zdGF0cyksDQo+ICsJCQkJCQkgICAgR0ZQX0tFUk5FTCk7
DQoNCndoeSBub3QgaW5saW5laW5nIHN0YXRzIGludG8gdHhxY3Egc3RydWN0IGFuZCBhdm9pZCB0
aGlzIGt6YWxsb2MgID8gDQoNCj4gKwkJaWYgKCFsaWYtPnR4cWNxc1tpXS5zdGF0cykNCj4gKwkJ
CWdvdG8gZXJyX291dF9mcmVlX3R4X3N0YXRzOw0KPiArCX0NCj4gKw0KPiArCWxpZi0+cnhxY3Fz
ID0gZGV2bV9remFsbG9jKGRldiwgcV9saXN0X3NpemUsIEdGUF9LRVJORUwpOw0KPiArCWlmICgh
bGlmLT5yeHFjcXMpDQo+ICsJCWdvdG8gZXJyX291dF9mcmVlX3R4X3N0YXRzOw0KPiArCWZvciAo
aSA9IDA7IGkgPCBsaWYtPm54cXM7IGkrKykgew0KPiArCQlsaWYtPnJ4cWNxc1tpXS5zdGF0cyA9
IGRldm1fa3phbGxvYyhkZXYsIHNpemVvZihzdHJ1Y3QNCj4gcV9zdGF0cyksDQo+ICsJCQkJCQkg
ICAgR0ZQX0tFUk5FTCk7DQo+ICsJCWlmICghbGlmLT5yeHFjcXNbaV0uc3RhdHMpDQo+ICsJCQln
b3RvIGVycl9vdXRfZnJlZV9yeF9zdGF0czsNCg0Kc2FtZSANCg0KPiArCX0NCj4gKw0KPiAgCXJl
dHVybiAwOw0KPiAgDQo+ICtlcnJfb3V0X2ZyZWVfcnhfc3RhdHM6DQo+ICsJZm9yIChpID0gMDsg
aSA8IGxpZi0+bnhxczsgaSsrKQ0KPiArCQlpZiAobGlmLT5yeHFjcXNbaV0uc3RhdHMpDQo+ICsJ
CQlkZXZtX2tmcmVlKGRldiwgbGlmLT5yeHFjcXNbaV0uc3RhdHMpOw0KPiArCWRldm1fa2ZyZWUo
ZGV2LCBsaWYtPnJ4cWNxcyk7DQo+ICsJbGlmLT5yeHFjcXMgPSBOVUxMOw0KPiArZXJyX291dF9m
cmVlX3R4X3N0YXRzOg0KPiArCWZvciAoaSA9IDA7IGkgPCBsaWYtPm54cXM7IGkrKykNCj4gKwkJ
aWYgKGxpZi0+dHhxY3FzW2ldLnN0YXRzKQ0KPiArCQkJZGV2bV9rZnJlZShkZXYsIGxpZi0+dHhx
Y3FzW2ldLnN0YXRzKTsNCj4gKwlkZXZtX2tmcmVlKGRldiwgbGlmLT50eHFjcXMpOw0KPiArCWxp
Zi0+dHhxY3FzID0gTlVMTDsNCj4gK2Vycl9vdXRfZnJlZV9ub3RpZnlxY3E6DQo+ICsJaWYgKGxp
Zi0+bm90aWZ5cWNxKSB7DQo+ICsJCWlvbmljX3FjcV9mcmVlKGxpZiwgbGlmLT5ub3RpZnlxY3Ep
Ow0KPiArCQlsaWYtPm5vdGlmeXFjcSA9IE5VTEw7DQo+ICsJfQ0KPiAgZXJyX291dF9mcmVlX2Fk
bWlucWNxOg0KPiAgCWlvbmljX3FjcV9mcmVlKGxpZiwgbGlmLT5hZG1pbnFjcSk7DQo+ICAJbGlm
LT5hZG1pbnFjcSA9IE5VTEw7DQo+IEBAIC05NDgsNiArMTE3Myw5IEBAIHN0YXRpYyBpbnQgaW9u
aWNfcWNxc19hbGxvYyhzdHJ1Y3QgbGlmICpsaWYpDQo+ICANCj4gIHN0YXRpYyB2b2lkIGlvbmlj
X3FjcXNfZnJlZShzdHJ1Y3QgbGlmICpsaWYpDQo+ICB7DQo+ICsJc3RydWN0IGRldmljZSAqZGV2
ID0gbGlmLT5pb25pYy0+ZGV2Ow0KPiArCXVuc2lnbmVkIGludCBpOw0KPiArDQo+ICAJaWYgKGxp
Zi0+bm90aWZ5cWNxKSB7DQo+ICAJCWlvbmljX3FjcV9mcmVlKGxpZiwgbGlmLT5ub3RpZnlxY3Ep
Ow0KPiAgCQlsaWYtPm5vdGlmeXFjcSA9IE5VTEw7DQo+IEBAIC05NTcsNiArMTE4NSwyMCBAQCBz
dGF0aWMgdm9pZCBpb25pY19xY3FzX2ZyZWUoc3RydWN0IGxpZiAqbGlmKQ0KPiAgCQlpb25pY19x
Y3FfZnJlZShsaWYsIGxpZi0+YWRtaW5xY3EpOw0KPiAgCQlsaWYtPmFkbWlucWNxID0gTlVMTDsN
Cj4gIAl9DQo+ICsNCj4gKwlmb3IgKGkgPSAwOyBpIDwgbGlmLT5ueHFzOyBpKyspDQo+ICsJCWlm
IChsaWYtPnJ4cWNxc1tpXS5zdGF0cykNCj4gKwkJCWRldm1fa2ZyZWUoZGV2LCBsaWYtPnJ4cWNx
c1tpXS5zdGF0cyk7DQo+ICsNCj4gKwlkZXZtX2tmcmVlKGRldiwgbGlmLT5yeHFjcXMpOw0KPiAr
CWxpZi0+cnhxY3FzID0gTlVMTDsNCj4gKw0KPiArCWZvciAoaSA9IDA7IGkgPCBsaWYtPm54cXM7
IGkrKykNCj4gKwkJaWYgKGxpZi0+dHhxY3FzW2ldLnN0YXRzKQ0KPiArCQkJZGV2bV9rZnJlZShk
ZXYsIGxpZi0+dHhxY3FzW2ldLnN0YXRzKTsNCj4gKw0KPiArCWRldm1fa2ZyZWUoZGV2LCBsaWYt
PnR4cWNxcyk7DQo+ICsJbGlmLT50eHFjcXMgPSBOVUxMOw0KPiAgfQ0KPiAgDQo+ICBzdGF0aWMg
c3RydWN0IGxpZiAqaW9uaWNfbGlmX2FsbG9jKHN0cnVjdCBpb25pYyAqaW9uaWMsIHVuc2lnbmVk
IGludA0KPiBpbmRleCkNCj4gQEAgLTk5Miw2ICsxMjM0LDggQEAgc3RhdGljIHN0cnVjdCBsaWYg
KmlvbmljX2xpZl9hbGxvYyhzdHJ1Y3QgaW9uaWMNCj4gKmlvbmljLCB1bnNpZ25lZCBpbnQgaW5k
ZXgpDQo+ICANCj4gIAlsaWYtPmlvbmljID0gaW9uaWM7DQo+ICAJbGlmLT5pbmRleCA9IGluZGV4
Ow0KPiArCWxpZi0+bnR4cV9kZXNjcyA9IElPTklDX0RFRl9UWFJYX0RFU0M7DQo+ICsJbGlmLT5u
cnhxX2Rlc2NzID0gSU9OSUNfREVGX1RYUlhfREVTQzsNCj4gIA0KPiAgCXNucHJpbnRmKGxpZi0+
bmFtZSwgc2l6ZW9mKGxpZi0+bmFtZSksICJsaWYldSIsIGluZGV4KTsNCj4gIA0KPiBAQCAtMTQz
Miw2ICsxNjc2LDE0NyBAQCBzdGF0aWMgaW50IGlvbmljX2luaXRfbmljX2ZlYXR1cmVzKHN0cnVj
dCBsaWYNCj4gKmxpZikNCj4gIAlyZXR1cm4gMDsNCj4gIH0NCj4gIA0KPiArc3RhdGljIGludCBp
b25pY19saWZfdHhxX2luaXQoc3RydWN0IGxpZiAqbGlmLCBzdHJ1Y3QgcWNxICpxY3EpDQo+ICt7
DQo+ICsJc3RydWN0IGRldmljZSAqZGV2ID0gbGlmLT5pb25pYy0+ZGV2Ow0KPiArCXN0cnVjdCBx
dWV1ZSAqcSA9ICZxY3EtPnE7DQo+ICsJc3RydWN0IGNxICpjcSA9ICZxY3EtPmNxOw0KPiArCXN0
cnVjdCBpb25pY19hZG1pbl9jdHggY3R4ID0gew0KPiArCQkud29yayA9IENPTVBMRVRJT05fSU5J
VElBTElaRVJfT05TVEFDSyhjdHgud29yayksDQo+ICsJCS5jbWQucV9pbml0ID0gew0KPiArCQkJ
Lm9wY29kZSA9IENNRF9PUENPREVfUV9JTklULA0KPiArCQkJLmxpZl9pbmRleCA9IGNwdV90b19s
ZTE2KGxpZi0+aW5kZXgpLA0KPiArCQkJLnR5cGUgPSBxLT50eXBlLA0KPiArCQkJLmluZGV4ID0g
Y3B1X3RvX2xlMzIocS0+aW5kZXgpLA0KPiArCQkJLmZsYWdzID0gY3B1X3RvX2xlMTYoSU9OSUNf
UUlOSVRfRl9JUlEgfA0KPiArCQkJCQkgICAgIElPTklDX1FJTklUX0ZfU0cpLA0KPiArCQkJLmlu
dHJfaW5kZXggPSBjcHVfdG9fbGUxNihsaWYtPnJ4cWNxc1txLQ0KPiA+aW5kZXhdLnFjcS0+aW50
ci5pbmRleCksDQo+ICsJCQkucGlkID0gY3B1X3RvX2xlMTYocS0+cGlkKSwNCj4gKwkJCS5yaW5n
X3NpemUgPSBpbG9nMihxLT5udW1fZGVzY3MpLA0KPiArCQkJLnJpbmdfYmFzZSA9IGNwdV90b19s
ZTY0KHEtPmJhc2VfcGEpLA0KPiArCQkJLmNxX3JpbmdfYmFzZSA9IGNwdV90b19sZTY0KGNxLT5i
YXNlX3BhKSwNCj4gKwkJCS5zZ19yaW5nX2Jhc2UgPSBjcHVfdG9fbGU2NChxLT5zZ19iYXNlX3Bh
KSwNCj4gKwkJfSwNCj4gKwl9Ow0KPiArCWludCBlcnI7DQo+ICsNCj4gKwlkZXZfZGJnKGRldiwg
InR4cV9pbml0LnBpZCAlZFxuIiwgY3R4LmNtZC5xX2luaXQucGlkKTsNCj4gKwlkZXZfZGJnKGRl
diwgInR4cV9pbml0LmluZGV4ICVkXG4iLCBjdHguY21kLnFfaW5pdC5pbmRleCk7DQo+ICsJZGV2
X2RiZyhkZXYsICJ0eHFfaW5pdC5yaW5nX2Jhc2UgMHglbGx4XG4iLA0KPiBjdHguY21kLnFfaW5p
dC5yaW5nX2Jhc2UpOw0KPiArCWRldl9kYmcoZGV2LCAidHhxX2luaXQucmluZ19zaXplICVkXG4i
LA0KPiBjdHguY21kLnFfaW5pdC5yaW5nX3NpemUpOw0KPiArDQo+ICsJZXJyID0gaW9uaWNfYWRt
aW5xX3Bvc3Rfd2FpdChsaWYsICZjdHgpOw0KPiArCWlmIChlcnIpDQo+ICsJCXJldHVybiBlcnI7
DQo+ICsNCj4gKwlxLT5od190eXBlID0gY3R4LmNvbXAucV9pbml0Lmh3X3R5cGU7DQo+ICsJcS0+
aHdfaW5kZXggPSBsZTMyX3RvX2NwdShjdHguY29tcC5xX2luaXQuaHdfaW5kZXgpOw0KPiArCXEt
PmRidmFsID0gSU9OSUNfREJFTExfUUlEKHEtPmh3X2luZGV4KTsNCj4gKw0KPiArCWRldl9kYmco
ZGV2LCAidHhxLT5od190eXBlICVkXG4iLCBxLT5od190eXBlKTsNCj4gKwlkZXZfZGJnKGRldiwg
InR4cS0+aHdfaW5kZXggJWRcbiIsIHEtPmh3X2luZGV4KTsNCj4gKw0KPiArCXFjcS0+ZmxhZ3Mg
fD0gUUNRX0ZfSU5JVEVEOw0KPiArDQo+ICsJaW9uaWNfZGVidWdmc19hZGRfcWNxKGxpZiwgcWNx
KTsNCj4gKw0KPiArCXJldHVybiAwOw0KPiArfQ0KPiArDQo+ICtzdGF0aWMgaW50IGlvbmljX2xp
Zl90eHFzX2luaXQoc3RydWN0IGxpZiAqbGlmKQ0KPiArew0KPiArCXVuc2lnbmVkIGludCBpOw0K
PiArCWludCBlcnI7DQo+ICsNCj4gKwlmb3IgKGkgPSAwOyBpIDwgbGlmLT5ueHFzOyBpKyspIHsN
Cj4gKwkJZXJyID0gaW9uaWNfbGlmX3R4cV9pbml0KGxpZiwgbGlmLT50eHFjcXNbaV0ucWNxKTsN
Cj4gKwkJaWYgKGVycikNCj4gKwkJCWdvdG8gZXJyX291dDsNCj4gKwl9DQo+ICsNCj4gKwlyZXR1
cm4gMDsNCj4gKw0KPiArZXJyX291dDoNCj4gKwlmb3IgKDsgaSA+IDA7IGktLSkNCj4gKwkJaW9u
aWNfbGlmX3FjcV9kZWluaXQobGlmLCBsaWYtPnR4cWNxc1tpLTFdLnFjcSk7DQo+ICsNCj4gKwly
ZXR1cm4gZXJyOw0KPiArfQ0KPiArDQo+ICtzdGF0aWMgaW50IGlvbmljX2xpZl9yeHFfaW5pdChz
dHJ1Y3QgbGlmICpsaWYsIHN0cnVjdCBxY3EgKnFjcSkNCj4gK3sNCj4gKwlzdHJ1Y3QgZGV2aWNl
ICpkZXYgPSBsaWYtPmlvbmljLT5kZXY7DQo+ICsJc3RydWN0IHF1ZXVlICpxID0gJnFjcS0+cTsN
Cj4gKwlzdHJ1Y3QgY3EgKmNxID0gJnFjcS0+Y3E7DQo+ICsJc3RydWN0IGlvbmljX2FkbWluX2N0
eCBjdHggPSB7DQo+ICsJCS53b3JrID0gQ09NUExFVElPTl9JTklUSUFMSVpFUl9PTlNUQUNLKGN0
eC53b3JrKSwNCj4gKwkJLmNtZC5xX2luaXQgPSB7DQo+ICsJCQkub3Bjb2RlID0gQ01EX09QQ09E
RV9RX0lOSVQsDQo+ICsJCQkubGlmX2luZGV4ID0gY3B1X3RvX2xlMTYobGlmLT5pbmRleCksDQo+
ICsJCQkudHlwZSA9IHEtPnR5cGUsDQo+ICsJCQkuaW5kZXggPSBjcHVfdG9fbGUzMihxLT5pbmRl
eCksDQo+ICsJCQkuZmxhZ3MgPSBjcHVfdG9fbGUxNihJT05JQ19RSU5JVF9GX0lSUSksDQo+ICsJ
CQkuaW50cl9pbmRleCA9IGNwdV90b19sZTE2KGNxLT5ib3VuZF9pbnRyLQ0KPiA+aW5kZXgpLA0K
PiArCQkJLnBpZCA9IGNwdV90b19sZTE2KHEtPnBpZCksDQo+ICsJCQkucmluZ19zaXplID0gaWxv
ZzIocS0+bnVtX2Rlc2NzKSwNCj4gKwkJCS5yaW5nX2Jhc2UgPSBjcHVfdG9fbGU2NChxLT5iYXNl
X3BhKSwNCj4gKwkJCS5jcV9yaW5nX2Jhc2UgPSBjcHVfdG9fbGU2NChjcS0+YmFzZV9wYSksDQo+
ICsJCX0sDQo+ICsJfTsNCj4gKwlpbnQgZXJyOw0KPiArDQo+ICsJZGV2X2RiZyhkZXYsICJyeHFf
aW5pdC5waWQgJWRcbiIsIGN0eC5jbWQucV9pbml0LnBpZCk7DQo+ICsJZGV2X2RiZyhkZXYsICJy
eHFfaW5pdC5pbmRleCAlZFxuIiwgY3R4LmNtZC5xX2luaXQuaW5kZXgpOw0KPiArCWRldl9kYmco
ZGV2LCAicnhxX2luaXQucmluZ19iYXNlIDB4JWxseFxuIiwNCj4gY3R4LmNtZC5xX2luaXQucmlu
Z19iYXNlKTsNCj4gKwlkZXZfZGJnKGRldiwgInJ4cV9pbml0LnJpbmdfc2l6ZSAlZFxuIiwNCj4g
Y3R4LmNtZC5xX2luaXQucmluZ19zaXplKTsNCj4gKw0KPiArCWVyciA9IGlvbmljX2FkbWlucV9w
b3N0X3dhaXQobGlmLCAmY3R4KTsNCj4gKwlpZiAoZXJyKQ0KPiArCQlyZXR1cm4gZXJyOw0KPiAr
DQo+ICsJcS0+aHdfdHlwZSA9IGN0eC5jb21wLnFfaW5pdC5od190eXBlOw0KPiArCXEtPmh3X2lu
ZGV4ID0gbGUzMl90b19jcHUoY3R4LmNvbXAucV9pbml0Lmh3X2luZGV4KTsNCj4gKwlxLT5kYnZh
bCA9IElPTklDX0RCRUxMX1FJRChxLT5od19pbmRleCk7DQo+ICsNCj4gKwlkZXZfZGJnKGRldiwg
InJ4cS0+aHdfdHlwZSAlZFxuIiwgcS0+aHdfdHlwZSk7DQo+ICsJZGV2X2RiZyhkZXYsICJyeHEt
Pmh3X2luZGV4ICVkXG4iLCBxLT5od19pbmRleCk7DQo+ICsNCj4gKwluZXRpZl9uYXBpX2FkZChs
aWYtPm5ldGRldiwgJnFjcS0+bmFwaSwgaW9uaWNfcnhfbmFwaSwNCj4gKwkJICAgICAgIE5BUElf
UE9MTF9XRUlHSFQpOw0KPiArDQo+ICsJZXJyID0gaW9uaWNfcmVxdWVzdF9pcnEobGlmLCBxY3Ep
Ow0KDQpBZ2FpbiwgeW91ciBpbml0L2RlaW5pdCBvYmplY3RzIGNvZGUgcGF0aHMgaXMgdmVyeSBh
c3ltbWV0cmljYWwgDQpJIHdhcyBsb29raW5nIGZvciB3aGVyZSB5b3UgZG8gZnJlZV9pcnEsIGFu
ZCBldmVudHVhbGx5IGZvdW5kIGl0IGluIA0KaW9uaWNfbGlmX3FjcV9kZWluaXQgd2hpY2ggaXMg
c2hhcmVkIGJldHdlZW4gcngvdHggcXVldWVzLCBidXQgaXQgaXMNCnZlcnkgaGFyZCB0byBmb2xs
b3cgd2hvIHNldHMgdGhlIFFDUV9GX0lOVFIgZmxhZyBzbw0KaW9uaWNfbGlmX3FjcV9kZWluaXQg
d291bGQgZnJlZSB0aGUgaXJxLiBzbyBpIGdhdmUgdXAgIQ0KDQpJIHN0cm9uZ2x5IHN1Z2dlc3Qg
Zm9yIHlvdSB0byBtYWtlIHRoZSBjb2RlIHN5bW1ldHJpY2FsIGFzIG11Y2ggYXMNCnBvc3NpYmxl
IGJ5IGZvbGxvd2luZyB0d28gc2ltcGxlIHJ1bGVzOg0KMSkgZWFjaCBmdW5jdGlvbiAiZG9fZm9v
IiBtdXN0IGhhdmUgYSByZXZlcnNlIGZ1bmN0aW9uICJ1bmRvX2ZvbyIuLiANCjIpIGVhY2ggZnVu
Y3Rpb24gImRvX2ZvbyIgc2hvdWxkIGhhbmRsZSBpdHMgb3duIGVycm9yIHBhdGggcm9sbGJhY2sg
YW5kDQpOT1QgYnkgYmxpbmRseSBjYWxsaW5nICJ1bmRvX2ZvbyINCg0KVGhpcyBpcyBhIHZlcnkg
d2VsbCBkZWZpbmVkIGNvZGUgc3RydWN0dXJlIGFuZCB1c2VmdWwgdGVjaG5pcXVlIHRvIGhlbHAN
CnJldmlld2VycyBhbmQgZGV2ZWxvcGVycyBrZWVwIHRyYWNrIG9mIHdoYXQgaXMgaGFwcGVuaW5n
LCBhbmQgbW9zdA0KaW1wb3J0YW50bHkgYSB2ZXJ5IGdvb2QgcHJhY3RpY2UgdGhhdCByZWR1Y2Vz
IHRoZSBudW1iZXIgb2YgY3VycmVudA0KYnVncyBhbmQgZnV0dXJlIGJ1Z3MgYnkgYW4gb3JkZXIg
b2YgbWFnbml0dWRlIQ0KDQpleGFtcGxlOg0KDQpvcGVuKCkNCiBhbGxvY190eHJ4X3F1ZXVlcygp
DQogaW5pdF90eHJ4X3F1ZXVlcygpDQogcmVxdWVzdF9pcnFzKCkNCiBlbmFibGVfdHhyeF9xdWV1
ZXMoKQ0KDQpjbG9zZSgpDQogZGlzYWJsZV90eHJ4X3F1ZXVlcygpDQogZnJlZV9pcnFzKCkNCiBk
ZWluaXRfdHhyeF9xdWV1ZXMoKQ0KIGRlYWxsb2NfdHhyeHFzKCkNCg0KdGhpcyB3aWxsIHJlbW92
ZSB0aGUgbmVlZCBmb3Igc29tZSBmbGFncyBhbmQgdW5uZWNlc3Nhcnkgc3RhdGUgdHJhY2tpbmcN
CmZvciB3aGVuIGEgcmVzb3VyY2VzIGlzIG9wZW4vY2xvc2UvaW5pdGVkLCBpZiBlYWNoIGZ1bmN0
aW9uIGlzDQpzeW1tZXRyaWNhbCBhbmQgaGFuZGxlcyBpdHMgb3duIHJvbGxiYWNrLCBzbyBhdCBh
bnkgcG9pbnQgaW4gdGhlIGNvZGUNCnlvdSB3b3VsZCBrbm93IHdoYXQgdG8gZG8gd2l0aG91dCBh
bnkgZXh0cmEgaWYgc3RhdGVtZW50IGJyYW5jaGVzLg0KDQo+ICsJaWYgKGVycikgew0KPiArCQlu
ZXRpZl9uYXBpX2RlbCgmcWNxLT5uYXBpKTsNCj4gKwkJcmV0dXJuIGVycjsNCj4gKwl9DQo+ICsN
Cj4gKwlxY3EtPmZsYWdzIHw9IFFDUV9GX0lOSVRFRDsNCj4gKw0KPiArCWlvbmljX2RlYnVnZnNf
YWRkX3FjcShsaWYsIHFjcSk7DQo+ICsNCj4gKwlyZXR1cm4gMDsNCj4gK30NCj4gKw0KPiArc3Rh
dGljIGludCBpb25pY19saWZfcnhxc19pbml0KHN0cnVjdCBsaWYgKmxpZikNCj4gK3sNCj4gKwl1
bnNpZ25lZCBpbnQgaTsNCj4gKwlpbnQgZXJyOw0KPiArDQo+ICsJZm9yIChpID0gMDsgaSA8IGxp
Zi0+bnhxczsgaSsrKSB7DQo+ICsJCWVyciA9IGlvbmljX2xpZl9yeHFfaW5pdChsaWYsIGxpZi0+
cnhxY3FzW2ldLnFjcSk7DQo+ICsJCWlmIChlcnIpDQo+ICsJCQlnb3RvIGVycl9vdXQ7DQo+ICsJ
fQ0KPiArDQo+ICsJcmV0dXJuIDA7DQo+ICsNCj4gK2Vycl9vdXQ6DQo+ICsJZm9yICg7IGkgPiAw
OyBpLS0pDQo+ICsJCWlvbmljX2xpZl9xY3FfZGVpbml0KGxpZiwgbGlmLT5yeHFjcXNbaS0xXS5x
Y3EpOw0KPiArDQo+ICsJcmV0dXJuIGVycjsNCj4gK30NCj4gKw0KPiAgc3RhdGljIGludCBpb25p
Y19zdGF0aW9uX3NldChzdHJ1Y3QgbGlmICpsaWYpDQo+ICB7DQo+ICAJc3RydWN0IG5ldF9kZXZp
Y2UgKm5ldGRldiA9IGxpZi0+bmV0ZGV2Ow0KPiBAQCAtMTUzMSw2ICsxOTE2LDggQEAgc3RhdGlj
IGludCBpb25pY19saWZfaW5pdChzdHJ1Y3QgbGlmICpsaWYpDQo+ICAJaWYgKGVycikNCj4gIAkJ
Z290byBlcnJfb3V0X25vdGlmeXFfZGVpbml0Ow0KPiAgDQo+ICsJbGlmLT5yeF9jb3B5YnJlYWsg
PSBJT05JQ19SWF9DT1BZQlJFQUtfREVGQVVMVDsNCj4gKw0KPiAgCXNldF9iaXQoTElGX0lOSVRF
RCwgbGlmLT5zdGF0ZSk7DQo+ICANCj4gIAlpb25pY19saW5rX3N0YXR1c19jaGVjayhsaWYpOw0K
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvcGVuc2FuZG8vaW9uaWMvaW9uaWNf
bGlmLmgNCj4gYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9wZW5zYW5kby9pb25pYy9pb25pY19saWYu
aA0KPiBpbmRleCBkODU4OWEzMDZhYTUuLjg4ZDViZjhmNThhMSAxMDA2NDQNCj4gLS0tIGEvZHJp
dmVycy9uZXQvZXRoZXJuZXQvcGVuc2FuZG8vaW9uaWMvaW9uaWNfbGlmLmgNCj4gKysrIGIvZHJp
dmVycy9uZXQvZXRoZXJuZXQvcGVuc2FuZG8vaW9uaWMvaW9uaWNfbGlmLmgNCj4gQEAgLTE0LDIw
ICsxNCwzOCBAQA0KPiAgI2RlZmluZSBNQVhfTlVNX05BUElfQ05UUgkoTkFQSV9QT0xMX1dFSUdI
VCArIDEpDQo+ICAjZGVmaW5lIEdFVF9TR19DTlRSX0lEWChudW1fc2dfZWxlbXMpCShudW1fc2df
ZWxlbXMpDQo+ICAjZGVmaW5lIE1BWF9OVU1fU0dfQ05UUgkJKElPTklDX1RYX01BWF9TR19FTEVN
UyArIDEpDQo+ICsjZGVmaW5lIElPTklDX1JYX0NPUFlCUkVBS19ERUZBVUxUCQkyNTYNCj4gIA0K
PiAgc3RydWN0IHR4X3N0YXRzIHsNCj4gKwl1NjQgZG1hX21hcF9lcnI7DQo+ICAJdTY0IHBrdHM7
DQo+ICAJdTY0IGJ5dGVzOw0KPiArCXU2NCBjbGVhbjsNCj4gKwl1NjQgbGluZWFyaXplOw0KPiAr
CXU2NCBub19jc3VtOw0KPiArCXU2NCBjc3VtOw0KPiArCXU2NCBjcmMzMl9jc3VtOw0KPiArCXU2
NCB0c287DQo+ICsJdTY0IGZyYWdzOw0KPiArCXU2NCBzZ19jbnRyW01BWF9OVU1fU0dfQ05UUl07
DQo+ICB9Ow0KPiAgDQo+ICBzdHJ1Y3Qgcnhfc3RhdHMgew0KPiArCXU2NCBkbWFfbWFwX2VycjsN
Cj4gKwl1NjQgYWxsb2NfZXJyOw0KPiAgCXU2NCBwa3RzOw0KPiAgCXU2NCBieXRlczsNCj4gKwl1
NjQgY3N1bV9ub25lOw0KPiArCXU2NCBjc3VtX2NvbXBsZXRlOw0KPiArCXU2NCBjc3VtX2Vycm9y
Ow0KPiArCXU2NCBidWZmZXJzX3Bvc3RlZDsNCj4gIH07DQo+ICANCj4gICNkZWZpbmUgUUNRX0Zf
SU5JVEVECQlCSVQoMCkNCj4gICNkZWZpbmUgUUNRX0ZfU0cJCUJJVCgxKQ0KPiAgI2RlZmluZSBR
Q1FfRl9JTlRSCQlCSVQoMikNCj4gKyNkZWZpbmUgUUNRX0ZfVFhfU1RBVFMJCUJJVCgzKQ0KPiAr
I2RlZmluZSBRQ1FfRl9SWF9TVEFUUwkJQklUKDQpDQo+ICAjZGVmaW5lIFFDUV9GX05PVElGWVEJ
CUJJVCg1KQ0KPiAgDQo+ICBzdHJ1Y3QgbmFwaV9zdGF0cyB7DQo+IEBAIC01Niw3ICs3NCwxNCBA
QCBzdHJ1Y3QgcWNxIHsNCj4gIAlzdHJ1Y3QgZGVudHJ5ICpkZW50cnk7DQo+ICB9Ow0KPiAgDQo+
ICtzdHJ1Y3QgcWNxc3Qgew0KPiArCXN0cnVjdCBxY3EgKnFjcTsNCj4gKwlzdHJ1Y3QgcV9zdGF0
cyAqc3RhdHM7DQo+ICt9Ow0KPiArDQo+ICAjZGVmaW5lIHFfdG9fcWNxKHEpCQljb250YWluZXJf
b2YocSwgc3RydWN0IHFjcSwgcSkNCj4gKyNkZWZpbmUgcV90b190eF9zdGF0cyhxKQkoJnFfdG9f
cWNxKHEpLT5zdGF0cy0+dHgpDQo+ICsjZGVmaW5lIHFfdG9fcnhfc3RhdHMocSkJKCZxX3RvX3Fj
cShxKS0+c3RhdHMtPnJ4KQ0KPiAgI2RlZmluZSBuYXBpX3RvX3FjcShuYXBpKQljb250YWluZXJf
b2YobmFwaSwgc3RydWN0IHFjcSwgbmFwaSkNCj4gICNkZWZpbmUgbmFwaV90b19jcShuYXBpKQko
Jm5hcGlfdG9fcWNxKG5hcGkpLT5jcSkNCj4gIA0KPiBAQCAtMTA4LDExICsxMzMsMTQgQEAgc3Ry
dWN0IGxpZiB7DQo+ICAJc3BpbmxvY2tfdCBhZG1pbnFfbG9jazsJCS8qIGxvY2sgZm9yIEFkbWlu
USBvcGVyYXRpb25zDQo+ICovDQo+ICAJc3RydWN0IHFjcSAqYWRtaW5xY3E7DQo+ICAJc3RydWN0
IHFjcSAqbm90aWZ5cWNxOw0KPiArCXN0cnVjdCBxY3FzdCAqdHhxY3FzOw0KPiArCXN0cnVjdCBx
Y3FzdCAqcnhxY3FzOw0KPiAgCXU2NCBsYXN0X2VpZDsNCj4gIAl1bnNpZ25lZCBpbnQgbmVxczsN
Cj4gIAl1bnNpZ25lZCBpbnQgbnhxczsNCj4gIAl1bnNpZ25lZCBpbnQgbnR4cV9kZXNjczsNCj4g
IAl1bnNpZ25lZCBpbnQgbnJ4cV9kZXNjczsNCj4gKwl1MzIgcnhfY29weWJyZWFrOw0KPiAgCXVu
c2lnbmVkIGludCByeF9tb2RlOw0KPiAgCXU2NCBod19mZWF0dXJlczsNCj4gIAlib29sIG1jX292
ZXJmbG93Ow0KPiBAQCAtMTM0LDYgKzE2MiwxMSBAQCBzdHJ1Y3QgbGlmIHsNCj4gIAl1MzIgZmxh
Z3M7DQo+ICB9Ow0KPiAgDQo+ICsjZGVmaW5lIGxpZl90b190eHFjcShsaWYsIGkpCSgobGlmKS0+
dHhxY3FzW2ldLnFjcSkNCj4gKyNkZWZpbmUgbGlmX3RvX3J4cWNxKGxpZiwgaSkJKChsaWYpLT5y
eHFjcXNbaV0ucWNxKQ0KPiArI2RlZmluZSBsaWZfdG9fdHhxKGxpZiwgaSkJKCZsaWZfdG9fdHhx
Y3EoKGxpZiksIGkpLT5xKQ0KPiArI2RlZmluZSBsaWZfdG9fcnhxKGxpZiwgaSkJKCZsaWZfdG9f
dHhxY3EoKGxpZiksIGkpLT5xKQ0KPiArDQo+ICBzdGF0aWMgaW5saW5lIGJvb2wgaW9uaWNfaXNf
cGYoc3RydWN0IGlvbmljICppb25pYykNCj4gIHsNCj4gIAlyZXR1cm4gaW9uaWMtPnBkZXYgJiYN
Cj4gQEAgLTE3Myw2ICsyMDYsMjIgQEAgaW50IGlvbmljX29wZW4oc3RydWN0IG5ldF9kZXZpY2Ug
Km5ldGRldik7DQo+ICBpbnQgaW9uaWNfc3RvcChzdHJ1Y3QgbmV0X2RldmljZSAqbmV0ZGV2KTsN
Cj4gIGludCBpb25pY19yZXNldF9xdWV1ZXMoc3RydWN0IGxpZiAqbGlmKTsNCj4gIA0KPiArc3Rh
dGljIGlubGluZSB2b2lkIGRlYnVnX3N0YXRzX3R4cV9wb3N0KHN0cnVjdCBxY3EgKnFjcSwNCj4g
KwkJCQkJc3RydWN0IHR4cV9kZXNjICpkZXNjLCBib29sDQo+IGRiZWxsKQ0KPiArew0KPiArCXU4
IG51bV9zZ19lbGVtcyA9ICgobGU2NF90b19jcHUoZGVzYy0+Y21kKSA+Pg0KPiBJT05JQ19UWFFf
REVTQ19OU0dFX1NISUZUKQ0KPiArCQkJCQkJJg0KPiBJT05JQ19UWFFfREVTQ19OU0dFX01BU0sp
Ow0KPiArCXU4IHNnX2NudHJfaWR4Ow0KPiArDQo+ICsJcWNxLT5xLmRiZWxsX2NvdW50ICs9IGRi
ZWxsOw0KPiArDQo+ICsJc2dfY250cl9pZHggPSBHRVRfU0dfQ05UUl9JRFgobnVtX3NnX2VsZW1z
KTsNCj4gKwlpZiAoc2dfY250cl9pZHggPiAoTUFYX05VTV9TR19DTlRSIC0gMSkpDQo+ICsJCXNn
X2NudHJfaWR4ID0gTUFYX05VTV9TR19DTlRSIC0gMTsNCj4gKw0KPiArCXFjcS0+c3RhdHMtPnR4
LnNnX2NudHJbc2dfY250cl9pZHhdKys7DQo+ICt9DQo+ICsNCj4gIHN0YXRpYyBpbmxpbmUgdm9p
ZCBkZWJ1Z19zdGF0c19uYXBpX3BvbGwoc3RydWN0IHFjcSAqcWNxLA0KPiAgCQkJCQkgdW5zaWdu
ZWQgaW50IHdvcmtfZG9uZSkNCj4gIHsNCj4gQEAgLTE4OCw3ICsyMzcsMTAgQEAgc3RhdGljIGlu
bGluZSB2b2lkIGRlYnVnX3N0YXRzX25hcGlfcG9sbChzdHJ1Y3QNCj4gcWNxICpxY3EsDQo+ICB9
DQo+ICANCj4gICNkZWZpbmUgREVCVUdfU1RBVFNfQ1FFX0NOVChjcSkJCSgoY3EpLT5jb21wbF9j
b3VudCsrKQ0KPiArI2RlZmluZSBERUJVR19TVEFUU19SWF9CVUZGX0NOVChxY3EpCSgocWNxKS0+
c3RhdHMtDQo+ID5yeC5idWZmZXJzX3Bvc3RlZCsrKQ0KPiAgI2RlZmluZSBERUJVR19TVEFUU19J
TlRSX1JFQVJNKGludHIpCSgoaW50ciktPnJlYXJtX2NvdW50KyspDQo+ICsjZGVmaW5lIERFQlVH
X1NUQVRTX1RYUV9QT1NUKHFjcSwgdHhkZXNjLCBkYmVsbCkgXA0KPiArCWRlYnVnX3N0YXRzX3R4
cV9wb3N0KHFjcSwgdHhkZXNjLCBkYmVsbCkNCj4gICNkZWZpbmUgREVCVUdfU1RBVFNfTkFQSV9Q
T0xMKHFjcSwgd29ya19kb25lKSBcDQo+ICAJZGVidWdfc3RhdHNfbmFwaV9wb2xsKHFjcSwgd29y
a19kb25lKQ0KPiAgDQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9wZW5zYW5k
by9pb25pYy9pb25pY190eHJ4LmMNCj4gYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9wZW5zYW5kby9p
b25pYy9pb25pY190eHJ4LmMNCj4gbmV3IGZpbGUgbW9kZSAxMDA2NDQNCj4gaW5kZXggMDAwMDAw
MDAwMDAwLi43Nzg3ZTdkZDU1MDQNCj4gLS0tIC9kZXYvbnVsbA0KPiArKysgYi9kcml2ZXJzL25l
dC9ldGhlcm5ldC9wZW5zYW5kby9pb25pYy9pb25pY190eHJ4LmMNCj4gQEAgLTAsMCArMSw4Nzkg
QEANCj4gKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wDQo+ICsvKiBDb3B5cmln
aHQoYykgMjAxNyAtIDIwMTkgUGVuc2FuZG8gU3lzdGVtcywgSW5jICovDQo+ICsNCj4gKyNpbmNs
dWRlIDxsaW51eC9pcC5oPg0KPiArI2luY2x1ZGUgPGxpbnV4L2lwdjYuaD4NCj4gKyNpbmNsdWRl
IDxsaW51eC9pZl92bGFuLmg+DQo+ICsjaW5jbHVkZSA8bmV0L2lwNl9jaGVja3N1bS5oPg0KPiAr
DQo+ICsjaW5jbHVkZSAiaW9uaWMuaCINCj4gKyNpbmNsdWRlICJpb25pY19saWYuaCINCj4gKyNp
bmNsdWRlICJpb25pY190eHJ4LmgiDQo+ICsNCj4gK3N0YXRpYyB2b2lkIGlvbmljX3R4X2NsZWFu
KHN0cnVjdCBxdWV1ZSAqcSwgc3RydWN0IGRlc2NfaW5mbw0KPiAqZGVzY19pbmZvLA0KPiArCQkJ
ICAgc3RydWN0IGNxX2luZm8gKmNxX2luZm8sIHZvaWQgKmNiX2FyZyk7DQo+ICtzdGF0aWMgdm9p
ZCBpb25pY19yeF9jbGVhbihzdHJ1Y3QgcXVldWUgKnEsIHN0cnVjdCBkZXNjX2luZm8NCj4gKmRl
c2NfaW5mbywNCj4gKwkJCSAgIHN0cnVjdCBjcV9pbmZvICpjcV9pbmZvLCB2b2lkICpjYl9hcmcp
Ow0KPiArDQo+ICtzdGF0aWMgaW5saW5lIHZvaWQgaW9uaWNfdHhxX3Bvc3Qoc3RydWN0IHF1ZXVl
ICpxLCBib29sIHJpbmdfZGJlbGwsDQo+ICsJCQkJICBkZXNjX2NiIGNiX2Z1bmMsIHZvaWQgKmNi
X2FyZykNCj4gK3sNCj4gKwlERUJVR19TVEFUU19UWFFfUE9TVChxX3RvX3FjcShxKSwgcS0+aGVh
ZC0+ZGVzYywgcmluZ19kYmVsbCk7DQo+ICsNCj4gKwlpb25pY19xX3Bvc3QocSwgcmluZ19kYmVs
bCwgY2JfZnVuYywgY2JfYXJnKTsNCj4gK30NCj4gKw0KPiArc3RhdGljIGlubGluZSB2b2lkIGlv
bmljX3J4cV9wb3N0KHN0cnVjdCBxdWV1ZSAqcSwgYm9vbCByaW5nX2RiZWxsLA0KPiArCQkJCSAg
ZGVzY19jYiBjYl9mdW5jLCB2b2lkICpjYl9hcmcpDQo+ICt7DQo+ICsJaW9uaWNfcV9wb3N0KHEs
IHJpbmdfZGJlbGwsIGNiX2Z1bmMsIGNiX2FyZyk7DQo+ICsNCj4gKwlERUJVR19TVEFUU19SWF9C
VUZGX0NOVChxX3RvX3FjcShxKSk7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyB2b2lkIGlvbmljX3J4
X3JlY3ljbGUoc3RydWN0IHF1ZXVlICpxLCBzdHJ1Y3QgZGVzY19pbmZvDQo+ICpkZXNjX2luZm8s
DQo+ICsJCQkgICAgIHN0cnVjdCBza19idWZmICpza2IpDQo+ICt7DQo+ICsJc3RydWN0IHJ4cV9k
ZXNjICpvbGQgPSBkZXNjX2luZm8tPmRlc2M7DQo+ICsJc3RydWN0IHJ4cV9kZXNjICpuZXcgPSBx
LT5oZWFkLT5kZXNjOw0KPiArDQo+ICsJbmV3LT5hZGRyID0gb2xkLT5hZGRyOw0KPiArCW5ldy0+
bGVuID0gb2xkLT5sZW47DQo+ICsNCj4gKwlpb25pY19yeHFfcG9zdChxLCB0cnVlLCBpb25pY19y
eF9jbGVhbiwgc2tiKTsNCj4gK30NCj4gKw0KPiArc3RhdGljIGJvb2wgaW9uaWNfcnhfY29weWJy
ZWFrKHN0cnVjdCBxdWV1ZSAqcSwgc3RydWN0IGRlc2NfaW5mbw0KPiAqZGVzY19pbmZvLA0KPiAr
CQkJICAgICAgIHN0cnVjdCBjcV9pbmZvICpjcV9pbmZvLCBzdHJ1Y3Qgc2tfYnVmZg0KPiAqKnNr
YikNCj4gK3sNCj4gKwlzdHJ1Y3QgbmV0X2RldmljZSAqbmV0ZGV2ID0gcS0+bGlmLT5uZXRkZXY7
DQo+ICsJc3RydWN0IGRldmljZSAqZGV2ID0gcS0+bGlmLT5pb25pYy0+ZGV2Ow0KPiArCXN0cnVj
dCByeHFfZGVzYyAqZGVzYyA9IGRlc2NfaW5mby0+ZGVzYzsNCj4gKwlzdHJ1Y3QgcnhxX2NvbXAg
KmNvbXAgPSBjcV9pbmZvLT5jcV9kZXNjOw0KPiArCXN0cnVjdCBza19idWZmICpuZXdfc2tiOw0K
PiArCXUxNiBjbGVuLCBkbGVuOw0KPiArDQo+ICsJY2xlbiA9IGxlMTZfdG9fY3B1KGNvbXAtPmxl
bik7DQo+ICsJZGxlbiA9IGxlMTZfdG9fY3B1KGRlc2MtPmxlbik7DQo+ICsJaWYgKGNsZW4gPiBx
LT5saWYtPnJ4X2NvcHlicmVhaykgew0KPiArCQlkbWFfdW5tYXBfc2luZ2xlKGRldiwgKGRtYV9h
ZGRyX3QpbGU2NF90b19jcHUoZGVzYy0NCj4gPmFkZHIpLA0KPiArCQkJCSBkbGVuLCBETUFfRlJP
TV9ERVZJQ0UpOw0KPiArCQlyZXR1cm4gZmFsc2U7DQo+ICsJfQ0KPiArDQo+ICsJbmV3X3NrYiA9
IG5ldGRldl9hbGxvY19za2JfaXBfYWxpZ24obmV0ZGV2LCBjbGVuKTsNCj4gKwlpZiAoIW5ld19z
a2IpIHsNCj4gKwkJZG1hX3VubWFwX3NpbmdsZShkZXYsIChkbWFfYWRkcl90KWxlNjRfdG9fY3B1
KGRlc2MtDQo+ID5hZGRyKSwNCj4gKwkJCQkgZGxlbiwgRE1BX0ZST01fREVWSUNFKTsNCj4gKwkJ
cmV0dXJuIGZhbHNlOw0KPiArCX0NCj4gKw0KPiArCWRtYV9zeW5jX3NpbmdsZV9mb3JfY3B1KGRl
diwgKGRtYV9hZGRyX3QpbGU2NF90b19jcHUoZGVzYy0NCj4gPmFkZHIpLA0KPiArCQkJCWNsZW4s
IERNQV9GUk9NX0RFVklDRSk7DQo+ICsNCj4gKwltZW1jcHkobmV3X3NrYi0+ZGF0YSwgKCpza2Ip
LT5kYXRhLCBjbGVuKTsNCj4gKw0KPiArCWlvbmljX3J4X3JlY3ljbGUocSwgZGVzY19pbmZvLCAq
c2tiKTsNCj4gKwkqc2tiID0gbmV3X3NrYjsNCj4gKw0KPiArCXJldHVybiB0cnVlOw0KPiArfQ0K
PiArDQo+ICtzdGF0aWMgdm9pZCBpb25pY19yeF9jbGVhbihzdHJ1Y3QgcXVldWUgKnEsIHN0cnVj
dCBkZXNjX2luZm8NCj4gKmRlc2NfaW5mbywNCj4gKwkJCSAgIHN0cnVjdCBjcV9pbmZvICpjcV9p
bmZvLCB2b2lkICpjYl9hcmcpDQo+ICt7DQo+ICsJc3RydWN0IHJ4cV9jb21wICpjb21wID0gY3Ff
aW5mby0+Y3FfZGVzYzsNCj4gKwlzdHJ1Y3Qgc2tfYnVmZiAqc2tiID0gY2JfYXJnOw0KPiArCXN0
cnVjdCBxY3EgKnFjcSA9IHFfdG9fcWNxKHEpOw0KPiArCXN0cnVjdCBuZXRfZGV2aWNlICpuZXRk
ZXY7DQo+ICsJc3RydWN0IHJ4X3N0YXRzICpzdGF0czsNCj4gKw0KPiArCXN0YXRzID0gcV90b19y
eF9zdGF0cyhxKTsNCj4gKwluZXRkZXYgPSBxLT5saWYtPm5ldGRldjsNCj4gKw0KPiArCWlmIChj
b21wLT5zdGF0dXMpIHsNCj4gKwkJaW9uaWNfcnhfcmVjeWNsZShxLCBkZXNjX2luZm8sIHNrYik7
DQo+ICsJCXJldHVybjsNCj4gKwl9DQo+ICsNCj4gKwlpZiAodW5saWtlbHkodGVzdF9iaXQoTElG
X1FVRVVFX1JFU0VULCBxLT5saWYtPnN0YXRlKSkpIHsNCj4gKwkJLyogbm8gcGFja2V0IHByb2Nl
c3Npbmcgd2hpbGUgcmVzZXR0aW5nICovDQo+ICsJCWlvbmljX3J4X3JlY3ljbGUocSwgZGVzY19p
bmZvLCBza2IpOw0KPiArCQlyZXR1cm47DQo+ICsJfQ0KPiArDQo+ICsJc3RhdHMtPnBrdHMrKzsN
Cj4gKwlzdGF0cy0+Ynl0ZXMgKz0gbGUxNl90b19jcHUoY29tcC0+bGVuKTsNCj4gKw0KPiArCWlv
bmljX3J4X2NvcHlicmVhayhxLCBkZXNjX2luZm8sIGNxX2luZm8sICZza2IpOw0KPiArDQo+ICsJ
c2tiX3B1dChza2IsIGxlMTZfdG9fY3B1KGNvbXAtPmxlbikpOw0KPiArCXNrYi0+cHJvdG9jb2wg
PSBldGhfdHlwZV90cmFucyhza2IsIG5ldGRldik7DQo+ICsNCj4gKwlza2JfcmVjb3JkX3J4X3F1
ZXVlKHNrYiwgcS0+aW5kZXgpOw0KPiArDQo+ICsJaWYgKG5ldGRldi0+ZmVhdHVyZXMgJiBORVRJ
Rl9GX1JYSEFTSCkgew0KPiArCQlzd2l0Y2ggKGNvbXAtPnBrdF90eXBlX2NvbG9yICYNCj4gSU9O
SUNfUlhRX0NPTVBfUEtUX1RZUEVfTUFTSykgew0KPiArCQljYXNlIFBLVF9UWVBFX0lQVjQ6DQo+
ICsJCWNhc2UgUEtUX1RZUEVfSVBWNjoNCj4gKwkJCXNrYl9zZXRfaGFzaChza2IsIGxlMzJfdG9f
Y3B1KGNvbXAtPnJzc19oYXNoKSwNCj4gKwkJCQkgICAgIFBLVF9IQVNIX1RZUEVfTDMpOw0KPiAr
CQkJYnJlYWs7DQo+ICsJCWNhc2UgUEtUX1RZUEVfSVBWNF9UQ1A6DQo+ICsJCWNhc2UgUEtUX1RZ
UEVfSVBWNl9UQ1A6DQo+ICsJCWNhc2UgUEtUX1RZUEVfSVBWNF9VRFA6DQo+ICsJCWNhc2UgUEtU
X1RZUEVfSVBWNl9VRFA6DQo+ICsJCQlza2Jfc2V0X2hhc2goc2tiLCBsZTMyX3RvX2NwdShjb21w
LT5yc3NfaGFzaCksDQo+ICsJCQkJICAgICBQS1RfSEFTSF9UWVBFX0w0KTsNCj4gKwkJCWJyZWFr
Ow0KPiArCQl9DQo+ICsJfQ0KPiArDQo+ICsJaWYgKG5ldGRldi0+ZmVhdHVyZXMgJiBORVRJRl9G
X1JYQ1NVTSkgew0KPiArCQlpZiAoY29tcC0+Y3N1bV9mbGFncyAmIElPTklDX1JYUV9DT01QX0NT
VU1fRl9DQUxDKSB7DQo+ICsJCQlza2ItPmlwX3N1bW1lZCA9IENIRUNLU1VNX0NPTVBMRVRFOw0K
PiArCQkJc2tiLT5jc3VtID0gKF9fd3N1bSlsZTE2X3RvX2NwdShjb21wLT5jc3VtKTsNCj4gKwkJ
CXN0YXRzLT5jc3VtX2NvbXBsZXRlKys7DQo+ICsJCX0NCj4gKwl9IGVsc2Ugew0KPiArCQlzdGF0
cy0+Y3N1bV9ub25lKys7DQo+ICsJfQ0KPiArDQo+ICsJaWYgKChjb21wLT5jc3VtX2ZsYWdzICYg
SU9OSUNfUlhRX0NPTVBfQ1NVTV9GX1RDUF9CQUQpIHx8DQo+ICsJICAgIChjb21wLT5jc3VtX2Zs
YWdzICYgSU9OSUNfUlhRX0NPTVBfQ1NVTV9GX1VEUF9CQUQpIHx8DQo+ICsJICAgIChjb21wLT5j
c3VtX2ZsYWdzICYgSU9OSUNfUlhRX0NPTVBfQ1NVTV9GX0lQX0JBRCkpDQo+ICsJCXN0YXRzLT5j
c3VtX2Vycm9yKys7DQo+ICsNCj4gKwlpZiAobmV0ZGV2LT5mZWF0dXJlcyAmIE5FVElGX0ZfSFdf
VkxBTl9DVEFHX1JYKSB7DQo+ICsJCWlmIChjb21wLT5jc3VtX2ZsYWdzICYgSU9OSUNfUlhRX0NP
TVBfQ1NVTV9GX1ZMQU4pDQo+ICsJCQlfX3ZsYW5faHdhY2NlbF9wdXRfdGFnKHNrYiwgaHRvbnMo
RVRIX1BfODAyMVEpLA0KPiArCQkJCQkgICAgICAgbGUxNl90b19jcHUoY29tcC0NCj4gPnZsYW5f
dGNpKSk7DQo+ICsJfQ0KPiArDQo+ICsJbmFwaV9ncm9fcmVjZWl2ZSgmcWNxLT5uYXBpLCBza2Ip
Ow0KPiArfQ0KPiArDQo+ICtzdGF0aWMgYm9vbCBpb25pY19yeF9zZXJ2aWNlKHN0cnVjdCBjcSAq
Y3EsIHN0cnVjdCBjcV9pbmZvICpjcV9pbmZvKQ0KPiArew0KPiArCXN0cnVjdCByeHFfY29tcCAq
Y29tcCA9IGNxX2luZm8tPmNxX2Rlc2M7DQo+ICsJc3RydWN0IHF1ZXVlICpxID0gY3EtPmJvdW5k
X3E7DQo+ICsJc3RydWN0IGRlc2NfaW5mbyAqZGVzY19pbmZvOw0KPiArDQo+ICsJaWYgKCFjb2xv
cl9tYXRjaChjb21wLT5wa3RfdHlwZV9jb2xvciwgY3EtPmRvbmVfY29sb3IpKQ0KPiArCQlyZXR1
cm4gZmFsc2U7DQo+ICsNCj4gKwkvKiBjaGVjayBmb3IgZW1wdHkgcXVldWUgKi8NCj4gKwlpZiAo
cS0+dGFpbC0+aW5kZXggPT0gcS0+aGVhZC0+aW5kZXgpDQo+ICsJCXJldHVybiBmYWxzZTsNCj4g
Kw0KPiArCWRlc2NfaW5mbyA9IHEtPnRhaWw7DQo+ICsJaWYgKGRlc2NfaW5mby0+aW5kZXggIT0g
bGUxNl90b19jcHUoY29tcC0+Y29tcF9pbmRleCkpDQo+ICsJCXJldHVybiBmYWxzZTsNCj4gKw0K
PiArCXEtPnRhaWwgPSBkZXNjX2luZm8tPm5leHQ7DQo+ICsNCj4gKwkvKiBjbGVhbiB0aGUgcmVs
YXRlZCBxIGVudHJ5LCBvbmx5IG9uZSBwZXIgcWMgY29tcGxldGlvbiAqLw0KPiArCWlvbmljX3J4
X2NsZWFuKHEsIGRlc2NfaW5mbywgY3FfaW5mbywgZGVzY19pbmZvLT5jYl9hcmcpOw0KPiArDQo+
ICsJZGVzY19pbmZvLT5jYiA9IE5VTEw7DQo+ICsJZGVzY19pbmZvLT5jYl9hcmcgPSBOVUxMOw0K
PiArDQo+ICsJcmV0dXJuIHRydWU7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyB1MzIgaW9uaWNfcnhf
d2Fsa19jcShzdHJ1Y3QgY3EgKnJ4Y3EsIHUzMiBsaW1pdCkNCj4gK3sNCj4gKwl1MzIgd29ya19k
b25lID0gMDsNCj4gKw0KPiArCXdoaWxlIChpb25pY19yeF9zZXJ2aWNlKHJ4Y3EsIHJ4Y3EtPnRh
aWwpKSB7DQo+ICsJCWlmIChyeGNxLT50YWlsLT5sYXN0KQ0KPiArCQkJcnhjcS0+ZG9uZV9jb2xv
ciA9ICFyeGNxLT5kb25lX2NvbG9yOw0KPiArCQlyeGNxLT50YWlsID0gcnhjcS0+dGFpbC0+bmV4
dDsNCj4gKwkJREVCVUdfU1RBVFNfQ1FFX0NOVChyeGNxKTsNCj4gKw0KPiArCQlpZiAoKyt3b3Jr
X2RvbmUgPj0gbGltaXQpDQo+ICsJCQlicmVhazsNCj4gKwl9DQo+ICsNCj4gKwlyZXR1cm4gd29y
a19kb25lOw0KPiArfQ0KPiArDQo+ICt2b2lkIGlvbmljX3J4X2ZsdXNoKHN0cnVjdCBjcSAqY3Ep
DQo+ICt7DQo+ICsJc3RydWN0IGlvbmljX2RldiAqaWRldiA9ICZjcS0+bGlmLT5pb25pYy0+aWRl
djsNCj4gKwl1MzIgd29ya19kb25lOw0KPiArDQo+ICsJd29ya19kb25lID0gaW9uaWNfcnhfd2Fs
a19jcShjcSwgY3EtPm51bV9kZXNjcyk7DQo+ICsNCj4gKwlpZiAod29ya19kb25lKQ0KPiArCQlp
b25pY19pbnRyX2NyZWRpdHMoaWRldi0+aW50cl9jdHJsLCBjcS0+Ym91bmRfaW50ci0NCj4gPmlu
ZGV4LA0KPiArCQkJCSAgIHdvcmtfZG9uZSwNCj4gSU9OSUNfSU5UUl9DUkVEX1JFU0VUX0NPQUxF
U0NFKTsNCj4gK30NCg0KbWl4aW5nIGJldHdlZW4gcnggYW5kIHR4IHVucmVsYXRlZCBmbG93cywg
dmVyeSBoYXJkIHRvIHJldmlldy4NCiANCj4gKw0KPiArdm9pZCBpb25pY190eF9mbHVzaChzdHJ1
Y3QgY3EgKmNxKQ0KPiArew0KPiArCXN0cnVjdCBpb25pY19kZXYgKmlkZXYgPSAmY3EtPmxpZi0+
aW9uaWMtPmlkZXY7DQo+ICsJc3RydWN0IHR4cV9jb21wICpjb21wID0gY3EtPnRhaWwtPmNxX2Rl
c2M7DQo+ICsJc3RydWN0IHF1ZXVlICpxID0gY3EtPmJvdW5kX3E7DQo+ICsJc3RydWN0IGRlc2Nf
aW5mbyAqZGVzY19pbmZvOw0KPiArCXVuc2lnbmVkIGludCB3b3JrX2RvbmUgPSAwOw0KPiArDQo+
ICsJLyogd2FsayB0aGUgY29tcGxldGVkIGNxIGVudHJpZXMgKi8NCj4gKwl3aGlsZSAod29ya19k
b25lIDwgY3EtPm51bV9kZXNjcyAmJg0KPiArCSAgICAgICBjb2xvcl9tYXRjaChjb21wLT5jb2xv
ciwgY3EtPmRvbmVfY29sb3IpKSB7DQo+ICsNCj4gKwkJLyogY2xlYW4gdGhlIHJlbGF0ZWQgcSBl
bnRyaWVzLCB0aGVyZSBjb3VsZCBiZQ0KPiArCQkgKiBzZXZlcmFsIHEgZW50cmllcyBjb21wbGV0
ZWQgZm9yIGVhY2ggY3EgY29tcGxldGlvbg0KPiArCQkgKi8NCj4gKwkJZG8gew0KPiArCQkJZGVz
Y19pbmZvID0gcS0+dGFpbDsNCj4gKwkJCXEtPnRhaWwgPSBkZXNjX2luZm8tPm5leHQ7DQo+ICsJ
CQlpb25pY190eF9jbGVhbihxLCBkZXNjX2luZm8sIGNxLT50YWlsLA0KPiArCQkJCSAgICAgICBk
ZXNjX2luZm8tPmNiX2FyZyk7DQo+ICsJCQlkZXNjX2luZm8tPmNiID0gTlVMTDsNCj4gKwkJCWRl
c2NfaW5mby0+Y2JfYXJnID0gTlVMTDsNCj4gKwkJfSB3aGlsZSAoZGVzY19pbmZvLT5pbmRleCAh
PSBsZTE2X3RvX2NwdShjb21wLQ0KPiA+Y29tcF9pbmRleCkpOw0KPiArDQo+ICsJCWlmIChjcS0+
dGFpbC0+bGFzdCkNCj4gKwkJCWNxLT5kb25lX2NvbG9yID0gIWNxLT5kb25lX2NvbG9yOw0KPiAr
DQo+ICsJCWNxLT50YWlsID0gY3EtPnRhaWwtPm5leHQ7DQo+ICsJCWNvbXAgPSBjcS0+dGFpbC0+
Y3FfZGVzYzsNCj4gKwkJREVCVUdfU1RBVFNfQ1FFX0NOVChjcSk7DQo+ICsNCj4gKwkJd29ya19k
b25lKys7DQo+ICsJfQ0KPiArDQo+ICsJaWYgKHdvcmtfZG9uZSkNCj4gKwkJaW9uaWNfaW50cl9j
cmVkaXRzKGlkZXYtPmludHJfY3RybCwgY3EtPmJvdW5kX2ludHItDQo+ID5pbmRleCwNCj4gKwkJ
CQkgICB3b3JrX2RvbmUsIDApOw0KPiArfQ0KPiArDQo+ICtzdGF0aWMgc3RydWN0IHNrX2J1ZmYg
KmlvbmljX3J4X3NrYl9hbGxvYyhzdHJ1Y3QgcXVldWUgKnEsIHVuc2lnbmVkDQo+IGludCBsZW4s
DQo+ICsJCQkJCSAgZG1hX2FkZHJfdCAqZG1hX2FkZHIpDQo+ICt7DQo+ICsJc3RydWN0IGxpZiAq
bGlmID0gcS0+bGlmOw0KPiArCXN0cnVjdCBuZXRfZGV2aWNlICpuZXRkZXYgPSBsaWYtPm5ldGRl
djsNCj4gKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSBsaWYtPmlvbmljLT5kZXY7DQo+ICsJc3RydWN0
IHJ4X3N0YXRzICpzdGF0czsNCj4gKwlzdHJ1Y3Qgc2tfYnVmZiAqc2tiOw0KPiArDQo+ICsJc3Rh
dHMgPSBxX3RvX3J4X3N0YXRzKHEpOw0KPiArCXNrYiA9IG5ldGRldl9hbGxvY19za2JfaXBfYWxp
Z24obmV0ZGV2LCBsZW4pOw0KPiArCWlmICghc2tiKSB7DQo+ICsJCW5ldF93YXJuX3JhdGVsaW1p
dGVkKCIlczogU0tCIGFsbG9jIGZhaWxlZCBvbiAlcyFcbiIsDQo+ICsJCQkJICAgICBuZXRkZXYt
Pm5hbWUsIHEtPm5hbWUpOw0KPiArCQlzdGF0cy0+YWxsb2NfZXJyKys7DQo+ICsJCXJldHVybiBO
VUxMOw0KPiArCX0NCj4gKw0KPiArCSpkbWFfYWRkciA9IGRtYV9tYXBfc2luZ2xlKGRldiwgc2ti
LT5kYXRhLCBsZW4sDQo+IERNQV9GUk9NX0RFVklDRSk7DQo+ICsJaWYgKGRtYV9tYXBwaW5nX2Vy
cm9yKGRldiwgKmRtYV9hZGRyKSkgew0KPiArCQlkZXZfa2ZyZWVfc2tiKHNrYik7DQo+ICsJCW5l
dF93YXJuX3JhdGVsaW1pdGVkKCIlczogRE1BIHNpbmdsZSBtYXAgZmFpbGVkIG9uDQo+ICVzIVxu
IiwNCj4gKwkJCQkgICAgIG5ldGRldi0+bmFtZSwgcS0+bmFtZSk7DQo+ICsJCXN0YXRzLT5kbWFf
bWFwX2VycisrOw0KPiArCQlyZXR1cm4gTlVMTDsNCj4gKwl9DQo+ICsNCj4gKwlyZXR1cm4gc2ti
Ow0KPiArfQ0KPiArDQo+ICtzdGF0aWMgdm9pZCBpb25pY19yeF9za2JfZnJlZShzdHJ1Y3QgcXVl
dWUgKnEsIHN0cnVjdCBza19idWZmICpza2IsDQo+ICsJCQkgICAgICB1bnNpZ25lZCBpbnQgbGVu
LCBkbWFfYWRkcl90IGRtYV9hZGRyKQ0KPiArew0KPiArCXN0cnVjdCBkZXZpY2UgKmRldiA9IHEt
PmxpZi0+aW9uaWMtPmRldjsNCj4gKw0KPiArCWRtYV91bm1hcF9zaW5nbGUoZGV2LCBkbWFfYWRk
ciwgbGVuLCBETUFfRlJPTV9ERVZJQ0UpOw0KPiArCWRldl9rZnJlZV9za2Ioc2tiKTsNCj4gK30N
Cj4gKw0KPiArI2RlZmluZSBSWF9SSU5HX0RPT1JCRUxMX1NUUklERQkJKCgxIDw8IDIpIC0gMSkN
Cj4gKw0KPiArdm9pZCBpb25pY19yeF9maWxsKHN0cnVjdCBxdWV1ZSAqcSkNCj4gK3sNCj4gKwlz
dHJ1Y3QgbmV0X2RldmljZSAqbmV0ZGV2ID0gcS0+bGlmLT5uZXRkZXY7DQo+ICsJc3RydWN0IHJ4
cV9kZXNjICpkZXNjOw0KPiArCXN0cnVjdCBza19idWZmICpza2I7DQo+ICsJZG1hX2FkZHJfdCBk
bWFfYWRkcjsNCj4gKwlib29sIHJpbmdfZG9vcmJlbGw7DQo+ICsJdW5zaWduZWQgaW50IGxlbjsN
Cj4gKwl1bnNpZ25lZCBpbnQgaTsNCj4gKw0KPiArCWxlbiA9IG5ldGRldi0+bXR1ICsgRVRIX0hM
RU47DQo+ICsNCj4gKwlmb3IgKGkgPSBpb25pY19xX3NwYWNlX2F2YWlsKHEpOyBpOyBpLS0pIHsN
Cj4gKwkJc2tiID0gaW9uaWNfcnhfc2tiX2FsbG9jKHEsIGxlbiwgJmRtYV9hZGRyKTsNCj4gKwkJ
aWYgKCFza2IpDQo+ICsJCQlyZXR1cm47DQo+ICsNCj4gKwkJZGVzYyA9IHEtPmhlYWQtPmRlc2M7
DQo+ICsJCWRlc2MtPmFkZHIgPSBjcHVfdG9fbGU2NChkbWFfYWRkcik7DQo+ICsJCWRlc2MtPmxl
biA9IGNwdV90b19sZTE2KGxlbik7DQo+ICsJCWRlc2MtPm9wY29kZSA9IFJYUV9ERVNDX09QQ09E
RV9TSU1QTEU7DQo+ICsNCj4gKwkJcmluZ19kb29yYmVsbCA9ICgocS0+aGVhZC0+aW5kZXggKyAx
KSAmDQo+ICsJCQkJUlhfUklOR19ET09SQkVMTF9TVFJJREUpID09IDA7DQo+ICsNCj4gKwkJaW9u
aWNfcnhxX3Bvc3QocSwgcmluZ19kb29yYmVsbCwgaW9uaWNfcnhfY2xlYW4sIHNrYik7DQo+ICsJ
fQ0KPiArfQ0KPiArDQo+ICtzdGF0aWMgdm9pZCBpb25pY19yeF9maWxsX2NiKHZvaWQgKmFyZykN
Cj4gK3sNCj4gKwlpb25pY19yeF9maWxsKGFyZyk7DQo+ICt9DQo+ICsNCj4gK3ZvaWQgaW9uaWNf
cnhfZW1wdHkoc3RydWN0IHF1ZXVlICpxKQ0KPiArew0KPiArCXN0cnVjdCBkZXNjX2luZm8gKmN1
ciA9IHEtPnRhaWw7DQo+ICsJc3RydWN0IHJ4cV9kZXNjICpkZXNjOw0KPiArDQo+ICsJd2hpbGUg
KGN1ciAhPSBxLT5oZWFkKSB7DQo+ICsJCWRlc2MgPSBjdXItPmRlc2M7DQo+ICsNCj4gKwkJaW9u
aWNfcnhfc2tiX2ZyZWUocSwgY3VyLT5jYl9hcmcsIGxlMTZfdG9fY3B1KGRlc2MtDQo+ID5sZW4p
LA0KPiArCQkJCSAgbGU2NF90b19jcHUoZGVzYy0+YWRkcikpOw0KPiArCQljdXItPmNiX2FyZyA9
IE5VTEw7DQo+ICsNCj4gKwkJY3VyID0gY3VyLT5uZXh0Ow0KPiArCX0NCj4gK30NCj4gKw0KPiAr
aW50IGlvbmljX3J4X25hcGkoc3RydWN0IG5hcGlfc3RydWN0ICpuYXBpLCBpbnQgYnVkZ2V0KQ0K
PiArew0KPiArCXN0cnVjdCBxY3EgKnFjcSA9IG5hcGlfdG9fcWNxKG5hcGkpOw0KPiArCXN0cnVj
dCBjcSAqcnhjcSA9IG5hcGlfdG9fY3EobmFwaSk7DQo+ICsJdW5zaWduZWQgaW50IHFpID0gcnhj
cS0+Ym91bmRfcS0+aW5kZXg7DQo+ICsJc3RydWN0IGxpZiAqbGlmID0gcnhjcS0+Ym91bmRfcS0+
bGlmOw0KPiArCXN0cnVjdCBpb25pY19kZXYgKmlkZXYgPSAmbGlmLT5pb25pYy0+aWRldjsNCj4g
KwlzdHJ1Y3QgY3EgKnR4Y3EgPSAmbGlmLT50eHFjcXNbcWldLnFjcS0+Y3E7DQo+ICsJdTMyIHdv
cmtfZG9uZSA9IDA7DQo+ICsJdTMyIGZsYWdzID0gMDsNCj4gKw0KPiArCWlvbmljX3R4X2ZsdXNo
KHR4Y3EpOw0KPiArDQo+ICsJd29ya19kb25lID0gaW9uaWNfcnhfd2Fsa19jcShyeGNxLCBidWRn
ZXQpOw0KPiArDQo+ICsJaWYgKHdvcmtfZG9uZSkNCj4gKwkJaW9uaWNfcnhfZmlsbF9jYihyeGNx
LT5ib3VuZF9xKTsNCj4gKw0KPiArCWlmICh3b3JrX2RvbmUgPCBidWRnZXQgJiYgbmFwaV9jb21w
bGV0ZV9kb25lKG5hcGksIHdvcmtfZG9uZSkpDQo+IHsNCj4gKwkJZmxhZ3MgfD0gSU9OSUNfSU5U
Ul9DUkVEX1VOTUFTSzsNCj4gKwkJREVCVUdfU1RBVFNfSU5UUl9SRUFSTShyeGNxLT5ib3VuZF9p
bnRyKTsNCj4gKwl9DQo+ICsNCj4gKwlpZiAod29ya19kb25lIHx8IGZsYWdzKSB7DQo+ICsJCWZs
YWdzIHw9IElPTklDX0lOVFJfQ1JFRF9SRVNFVF9DT0FMRVNDRTsNCj4gKwkJaW9uaWNfaW50cl9j
cmVkaXRzKGlkZXYtPmludHJfY3RybCwgcnhjcS0+Ym91bmRfaW50ci0NCj4gPmluZGV4LA0KPiAr
CQkJCSAgIHdvcmtfZG9uZSwgZmxhZ3MpOw0KPiArCX0NCj4gKw0KPiArCURFQlVHX1NUQVRTX05B
UElfUE9MTChxY3EsIHdvcmtfZG9uZSk7DQo+ICsNCj4gKwlyZXR1cm4gd29ya19kb25lOw0KPiAr
fQ0KPiArDQo+ICtzdGF0aWMgZG1hX2FkZHJfdCBpb25pY190eF9tYXBfc2luZ2xlKHN0cnVjdCBx
dWV1ZSAqcSwgdm9pZCAqZGF0YSwNCj4gc2l6ZV90IGxlbikNCj4gK3sNCj4gKwlzdHJ1Y3QgdHhf
c3RhdHMgKnN0YXRzID0gcV90b190eF9zdGF0cyhxKTsNCj4gKwlzdHJ1Y3QgZGV2aWNlICpkZXYg
PSBxLT5saWYtPmlvbmljLT5kZXY7DQo+ICsJZG1hX2FkZHJfdCBkbWFfYWRkcjsNCj4gKw0KPiAr
CWRtYV9hZGRyID0gZG1hX21hcF9zaW5nbGUoZGV2LCBkYXRhLCBsZW4sIERNQV9UT19ERVZJQ0Up
Ow0KPiArCWlmIChkbWFfbWFwcGluZ19lcnJvcihkZXYsIGRtYV9hZGRyKSkgew0KPiArCQluZXRf
d2Fybl9yYXRlbGltaXRlZCgiJXM6IERNQSBzaW5nbGUgbWFwIGZhaWxlZCBvbg0KPiAlcyFcbiIs
DQo+ICsJCQkJICAgICBxLT5saWYtPm5ldGRldi0+bmFtZSwgcS0+bmFtZSk7DQo+ICsJCXN0YXRz
LT5kbWFfbWFwX2VycisrOw0KPiArCQlyZXR1cm4gMDsNCj4gKwl9DQo+ICsJcmV0dXJuIGRtYV9h
ZGRyOw0KPiArfQ0KPiArDQo+ICtzdGF0aWMgZG1hX2FkZHJfdCBpb25pY190eF9tYXBfZnJhZyhz
dHJ1Y3QgcXVldWUgKnEsIGNvbnN0DQo+IHNrYl9mcmFnX3QgKmZyYWcsDQo+ICsJCQkJICAgIHNp
emVfdCBvZmZzZXQsIHNpemVfdCBsZW4pDQo+ICt7DQo+ICsJc3RydWN0IHR4X3N0YXRzICpzdGF0
cyA9IHFfdG9fdHhfc3RhdHMocSk7DQo+ICsJc3RydWN0IGRldmljZSAqZGV2ID0gcS0+bGlmLT5p
b25pYy0+ZGV2Ow0KPiArCWRtYV9hZGRyX3QgZG1hX2FkZHI7DQo+ICsNCj4gKwlkbWFfYWRkciA9
IHNrYl9mcmFnX2RtYV9tYXAoZGV2LCBmcmFnLCBvZmZzZXQsIGxlbiwNCj4gRE1BX1RPX0RFVklD
RSk7DQo+ICsJaWYgKGRtYV9tYXBwaW5nX2Vycm9yKGRldiwgZG1hX2FkZHIpKSB7DQo+ICsJCW5l
dF93YXJuX3JhdGVsaW1pdGVkKCIlczogRE1BIGZyYWcgbWFwIGZhaWxlZCBvbg0KPiAlcyFcbiIs
DQo+ICsJCQkJICAgICBxLT5saWYtPm5ldGRldi0+bmFtZSwgcS0+bmFtZSk7DQo+ICsJCXN0YXRz
LT5kbWFfbWFwX2VycisrOw0KPiArCQlyZXR1cm4gMDsNCj4gKwl9DQo+ICsJcmV0dXJuIGRtYV9h
ZGRyOw0KPiArfQ0KPiArDQo+ICtzdGF0aWMgdm9pZCBpb25pY190eF9jbGVhbihzdHJ1Y3QgcXVl
dWUgKnEsIHN0cnVjdCBkZXNjX2luZm8NCj4gKmRlc2NfaW5mbywNCj4gKwkJCSAgIHN0cnVjdCBj
cV9pbmZvICpjcV9pbmZvLCB2b2lkICpjYl9hcmcpDQo+ICt7DQo+ICsJc3RydWN0IHR4cV9zZ19k
ZXNjICpzZ19kZXNjID0gZGVzY19pbmZvLT5zZ19kZXNjOw0KPiArCXN0cnVjdCB0eHFfc2dfZWxl
bSAqZWxlbSA9IHNnX2Rlc2MtPmVsZW1zOw0KPiArCXN0cnVjdCB0eF9zdGF0cyAqc3RhdHMgPSBx
X3RvX3R4X3N0YXRzKHEpOw0KPiArCXN0cnVjdCB0eHFfZGVzYyAqZGVzYyA9IGRlc2NfaW5mby0+
ZGVzYzsNCj4gKwlzdHJ1Y3QgZGV2aWNlICpkZXYgPSBxLT5saWYtPmlvbmljLT5kZXY7DQo+ICsJ
c3RydWN0IHNrX2J1ZmYgKnNrYiA9IGNiX2FyZzsNCj4gKwl1OCBvcGNvZGUsIGZsYWdzLCBuc2dl
Ow0KPiArCXUxNiBxdWV1ZV9pbmRleDsNCj4gKwl1bnNpZ25lZCBpbnQgaTsNCj4gKwl1NjQgYWRk
cjsNCj4gKw0KPiArCWRlY29kZV90eHFfZGVzY19jbWQobGU2NF90b19jcHUoZGVzYy0+Y21kKSwN
Cj4gKwkJCSAgICAmb3Bjb2RlLCAmZmxhZ3MsICZuc2dlLCAmYWRkcik7DQo+ICsNCj4gKwlkbWFf
dW5tYXBfcGFnZShkZXYsIChkbWFfYWRkcl90KWFkZHIsDQo+ICsJCSAgICAgICBsZTE2X3RvX2Nw
dShkZXNjLT5sZW4pLCBETUFfVE9fREVWSUNFKTsNCj4gKwlmb3IgKGkgPSAwOyBpIDwgbnNnZTsg
aSsrLCBlbGVtKyspDQo+ICsJCWRtYV91bm1hcF9wYWdlKGRldiwgKGRtYV9hZGRyX3QpbGU2NF90
b19jcHUoZWxlbS0NCj4gPmFkZHIpLA0KPiArCQkJICAgICAgIGxlMTZfdG9fY3B1KGVsZW0tPmxl
biksIERNQV9UT19ERVZJQ0UpOw0KPiArDQo+ICsJaWYgKHNrYikgew0Kd2hlbiBza2IgaXMgbnVs
bCBhbmQgcXVldWUgaXMgc3RvcHBlZCB3aGF0IGRvIHlvdSBkbyA/IA0KYWxzbyB5b3Ugc2hvdWxk
IGRvIHRoaXMgYXQgdGhlIGVuZCBvZiBuYXBpIGN5Y2xlLi4gYW5kIG5vdCBwZXIgcGFja2V0LiAN
Cg0KPiArCQlxdWV1ZV9pbmRleCA9IHNrYl9nZXRfcXVldWVfbWFwcGluZyhza2IpOw0KPiArCQlp
ZiAodW5saWtlbHkoX19uZXRpZl9zdWJxdWV1ZV9zdG9wcGVkKHEtPmxpZi0+bmV0ZGV2LA0KPiAr
CQkJCQkJICAgICAgcXVldWVfaW5kZXgpKSkgew0KPiArCQkJbmV0aWZfd2FrZV9zdWJxdWV1ZShx
LT5saWYtPm5ldGRldiwNCj4gcXVldWVfaW5kZXgpOw0KPiArCQkJcS0+d2FrZSsrOw0KPiArCQl9
DQo+ICsJCWRldl9rZnJlZV9za2JfYW55KHNrYik7DQo+ICsJCXN0YXRzLT5jbGVhbisrOw0KPiAr
CX0NCj4gK30NCj4gKw0KPiArc3RhdGljIHZvaWQgaW9uaWNfdHhfdGNwX2lubmVyX3BzZXVkb19j
c3VtKHN0cnVjdCBza19idWZmICpza2IpDQo+ICt7DQo+ICsJc2tiX2Nvd19oZWFkKHNrYiwgMCk7
DQo+ICsNCj4gKwlpZiAoc2tiLT5wcm90b2NvbCA9PSBjcHVfdG9fYmUxNihFVEhfUF9JUCkpIHsN
Cj4gKwkJaW5uZXJfaXBfaGRyKHNrYiktPmNoZWNrID0gMDsNCj4gKwkJaW5uZXJfdGNwX2hkcihz
a2IpLT5jaGVjayA9DQo+ICsJCQl+Y3N1bV90Y3B1ZHBfbWFnaWMoaW5uZXJfaXBfaGRyKHNrYikt
PnNhZGRyLA0KPiArCQkJCQkgICBpbm5lcl9pcF9oZHIoc2tiKS0+ZGFkZHIsDQo+ICsJCQkJCSAg
IDAsIElQUFJPVE9fVENQLCAwKTsNCj4gKwl9IGVsc2UgaWYgKHNrYi0+cHJvdG9jb2wgPT0gY3B1
X3RvX2JlMTYoRVRIX1BfSVBWNikpIHsNCj4gKwkJaW5uZXJfdGNwX2hkcihza2IpLT5jaGVjayA9
DQo+ICsJCQl+Y3N1bV9pcHY2X21hZ2ljKCZpbm5lcl9pcHY2X2hkcihza2IpLT5zYWRkciwNCj4g
KwkJCQkJICZpbm5lcl9pcHY2X2hkcihza2IpLT5kYWRkciwNCj4gKwkJCQkJIDAsIElQUFJPVE9f
VENQLCAwKTsNCj4gKwl9DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyB2b2lkIGlvbmljX3R4X3RjcF9w
c2V1ZG9fY3N1bShzdHJ1Y3Qgc2tfYnVmZiAqc2tiKQ0KPiArew0KPiArCXNrYl9jb3dfaGVhZChz
a2IsIDApOw0KPiArDQo+ICsJaWYgKHNrYi0+cHJvdG9jb2wgPT0gY3B1X3RvX2JlMTYoRVRIX1Bf
SVApKSB7DQo+ICsJCWlwX2hkcihza2IpLT5jaGVjayA9IDA7DQo+ICsJCXRjcF9oZHIoc2tiKS0+
Y2hlY2sgPQ0KPiArCQkJfmNzdW1fdGNwdWRwX21hZ2ljKGlwX2hkcihza2IpLT5zYWRkciwNCj4g
KwkJCQkJICAgaXBfaGRyKHNrYiktPmRhZGRyLA0KPiArCQkJCQkgICAwLCBJUFBST1RPX1RDUCwg
MCk7DQo+ICsJfSBlbHNlIGlmIChza2ItPnByb3RvY29sID09IGNwdV90b19iZTE2KEVUSF9QX0lQ
VjYpKSB7DQo+ICsJCXRjcF9oZHIoc2tiKS0+Y2hlY2sgPQ0KPiArCQkJfmNzdW1faXB2Nl9tYWdp
YygmaXB2Nl9oZHIoc2tiKS0+c2FkZHIsDQo+ICsJCQkJCSAmaXB2Nl9oZHIoc2tiKS0+ZGFkZHIs
DQo+ICsJCQkJCSAwLCBJUFBST1RPX1RDUCwgMCk7DQo+ICsJfQ0KPiArfQ0KPiArDQo+ICtzdGF0
aWMgdm9pZCBpb25pY190eF90c29fcG9zdChzdHJ1Y3QgcXVldWUgKnEsIHN0cnVjdCB0eHFfZGVz
Yw0KPiAqZGVzYywNCj4gKwkJCSAgICAgIHN0cnVjdCBza19idWZmICpza2IsDQo+ICsJCQkgICAg
ICBkbWFfYWRkcl90IGFkZHIsIHU4IG5zZ2UsIHUxNiBsZW4sDQo+ICsJCQkgICAgICB1bnNpZ25l
ZCBpbnQgaGRybGVuLCB1bnNpZ25lZCBpbnQgbXNzLA0KPiArCQkJICAgICAgYm9vbCBvdXRlcl9j
c3VtLA0KPiArCQkJICAgICAgdTE2IHZsYW5fdGNpLCBib29sIGhhc192bGFuLA0KPiArCQkJICAg
ICAgYm9vbCBzdGFydCwgYm9vbCBkb25lKQ0KPiArew0KPiArCXU4IGZsYWdzID0gMDsNCj4gKwl1
NjQgY21kOw0KPiArDQo+ICsJZmxhZ3MgfD0gaGFzX3ZsYW4gPyBJT05JQ19UWFFfREVTQ19GTEFH
X1ZMQU4gOiAwOw0KPiArCWZsYWdzIHw9IG91dGVyX2NzdW0gPyBJT05JQ19UWFFfREVTQ19GTEFH
X0VOQ0FQIDogMDsNCj4gKwlmbGFncyB8PSBzdGFydCA/IElPTklDX1RYUV9ERVNDX0ZMQUdfVFNP
X1NPVCA6IDA7DQo+ICsJZmxhZ3MgfD0gZG9uZSA/IElPTklDX1RYUV9ERVNDX0ZMQUdfVFNPX0VP
VCA6IDA7DQo+ICsNCj4gKwljbWQgPSBlbmNvZGVfdHhxX2Rlc2NfY21kKElPTklDX1RYUV9ERVND
X09QQ09ERV9UU08sIGZsYWdzLA0KPiBuc2dlLCBhZGRyKTsNCj4gKwlkZXNjLT5jbWQgPSBjcHVf
dG9fbGU2NChjbWQpOw0KPiArCWRlc2MtPmxlbiA9IGNwdV90b19sZTE2KGxlbik7DQo+ICsJZGVz
Yy0+dmxhbl90Y2kgPSBjcHVfdG9fbGUxNih2bGFuX3RjaSk7DQo+ICsJZGVzYy0+aGRyX2xlbiA9
IGNwdV90b19sZTE2KGhkcmxlbik7DQo+ICsJZGVzYy0+bXNzID0gY3B1X3RvX2xlMTYobXNzKTsN
Cj4gKw0KPiArCWlmIChkb25lKSB7DQo+ICsJCXNrYl90eF90aW1lc3RhbXAoc2tiKTsNCj4gKwkJ
aW9uaWNfdHhxX3Bvc3QocSwgIW5ldGRldl94bWl0X21vcmUoKSwgaW9uaWNfdHhfY2xlYW4sDQo+
IHNrYik7DQo+ICsJfSBlbHNlIHsNCj4gKwkJaW9uaWNfdHhxX3Bvc3QocSwgZmFsc2UsIGlvbmlj
X3R4X2NsZWFuLCBOVUxMKTsNCj4gKwl9DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyBzdHJ1Y3QgdHhx
X2Rlc2MgKmlvbmljX3R4X3Rzb19uZXh0KHN0cnVjdCBxdWV1ZSAqcSwNCj4gKwkJCQkJICBzdHJ1
Y3QgdHhxX3NnX2VsZW0gKiplbGVtKQ0KPiArew0KPiArCXN0cnVjdCB0eHFfc2dfZGVzYyAqc2df
ZGVzYyA9IHEtPmhlYWQtPnNnX2Rlc2M7DQo+ICsJc3RydWN0IHR4cV9kZXNjICpkZXNjID0gcS0+
aGVhZC0+ZGVzYzsNCj4gKw0KPiArCSplbGVtID0gc2dfZGVzYy0+ZWxlbXM7DQo+ICsJcmV0dXJu
IGRlc2M7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyBpbnQgaW9uaWNfdHhfdHNvKHN0cnVjdCBxdWV1
ZSAqcSwgc3RydWN0IHNrX2J1ZmYgKnNrYikNCj4gK3sNCj4gKwlzdHJ1Y3QgdHhfc3RhdHMgKnN0
YXRzID0gcV90b190eF9zdGF0cyhxKTsNCj4gKwlzdHJ1Y3QgZGVzY19pbmZvICphYm9ydCA9IHEt
PmhlYWQ7DQo+ICsJc3RydWN0IGRlc2NfaW5mbyAqcmV3aW5kID0gYWJvcnQ7DQo+ICsJdW5zaWdu
ZWQgaW50IGZyYWdfbGVmdCA9IDA7DQo+ICsJc3RydWN0IHR4cV9zZ19lbGVtICplbGVtOw0KPiAr
CXVuc2lnbmVkIGludCBvZmZzZXQgPSAwOw0KPiArCXVuc2lnbmVkIGludCBsZW5fbGVmdDsNCj4g
KwlzdHJ1Y3QgdHhxX2Rlc2MgKmRlc2M7DQo+ICsJZG1hX2FkZHJfdCBkZXNjX2FkZHI7DQo+ICsJ
dW5zaWduZWQgaW50IGhkcmxlbjsNCj4gKwl1bnNpZ25lZCBpbnQgbmZyYWdzOw0KPiArCXVuc2ln
bmVkIGludCBzZWdsZW47DQo+ICsJdTY0IHRvdGFsX2J5dGVzID0gMDsNCj4gKwl1NjQgdG90YWxf
cGt0cyA9IDA7DQo+ICsJdW5zaWduZWQgaW50IGxlZnQ7DQo+ICsJdW5zaWduZWQgaW50IGxlbjsN
Cj4gKwl1bnNpZ25lZCBpbnQgbXNzOw0KPiArCXNrYl9mcmFnX3QgKmZyYWc7DQo+ICsJYm9vbCBz
dGFydCwgZG9uZTsNCj4gKwlib29sIG91dGVyX2NzdW07DQo+ICsJYm9vbCBoYXNfdmxhbjsNCj4g
Kwl1MTYgZGVzY19sZW47DQo+ICsJdTggZGVzY19uc2dlOw0KPiArCXUxNiB2bGFuX3RjaTsNCj4g
Kwlib29sIGVuY2FwOw0KPiArDQo+ICsJbXNzID0gc2tiX3NoaW5mbyhza2IpLT5nc29fc2l6ZTsN
Cj4gKwluZnJhZ3MgPSBza2Jfc2hpbmZvKHNrYiktPm5yX2ZyYWdzOw0KPiArCWxlbl9sZWZ0ID0g
c2tiLT5sZW4gLSBza2JfaGVhZGxlbihza2IpOw0KPiArCW91dGVyX2NzdW0gPSAoc2tiX3NoaW5m
byhza2IpLT5nc29fdHlwZSAmIFNLQl9HU09fR1JFX0NTVU0pIHx8DQo+ICsJCSAgICAgKHNrYl9z
aGluZm8oc2tiKS0+Z3NvX3R5cGUgJg0KPiBTS0JfR1NPX1VEUF9UVU5ORUxfQ1NVTSk7DQo+ICsJ
aGFzX3ZsYW4gPSAhIXNrYl92bGFuX3RhZ19wcmVzZW50KHNrYik7DQo+ICsJdmxhbl90Y2kgPSBz
a2Jfdmxhbl90YWdfZ2V0KHNrYik7DQo+ICsJZW5jYXAgPSBza2ItPmVuY2Fwc3VsYXRpb247DQo+
ICsNCj4gKwkvKiBQcmVsb2FkIGlubmVyLW1vc3QgVENQIGNzdW0gZmllbGQgd2l0aCBJUCBwc2V1
ZG8gaGRyDQo+ICsJICogY2FsY3VsYXRlZCB3aXRoIElQIGxlbmd0aCBzZXQgdG8gemVyby4gIEhX
IHdpbGwgbGF0ZXINCj4gKwkgKiBhZGQgaW4gbGVuZ3RoIHRvIGVhY2ggVENQIHNlZ21lbnQgcmVz
dWx0aW5nIGZyb20gdGhlIFRTTy4NCj4gKwkgKi8NCj4gKw0KPiArCWlmIChlbmNhcCkNCj4gKwkJ
aW9uaWNfdHhfdGNwX2lubmVyX3BzZXVkb19jc3VtKHNrYik7DQo+ICsJZWxzZQ0KPiArCQlpb25p
Y190eF90Y3BfcHNldWRvX2NzdW0oc2tiKTsNCj4gKw0KPiArCWlmIChlbmNhcCkNCj4gKwkJaGRy
bGVuID0gc2tiX2lubmVyX3RyYW5zcG9ydF9oZWFkZXIoc2tiKSAtIHNrYi0+ZGF0YSArDQo+ICsJ
CQkgaW5uZXJfdGNwX2hkcmxlbihza2IpOw0KPiArCWVsc2UNCj4gKwkJaGRybGVuID0gc2tiX3Ry
YW5zcG9ydF9vZmZzZXQoc2tiKSArIHRjcF9oZHJsZW4oc2tiKTsNCj4gKw0KPiArCXNlZ2xlbiA9
IGhkcmxlbiArIG1zczsNCj4gKwlsZWZ0ID0gc2tiX2hlYWRsZW4oc2tiKTsNCj4gKw0KPiArCWRl
c2MgPSBpb25pY190eF90c29fbmV4dChxLCAmZWxlbSk7DQo+ICsJc3RhcnQgPSB0cnVlOw0KPiAr
DQo+ICsJLyogQ2hvcCBza2ItPmRhdGEgdXAgaW50byBkZXNjIHNlZ21lbnRzICovDQo+ICsNCj4g
Kwl3aGlsZSAobGVmdCA+IDApIHsNCj4gKwkJbGVuID0gbWluKHNlZ2xlbiwgbGVmdCk7DQo+ICsJ
CWZyYWdfbGVmdCA9IHNlZ2xlbiAtIGxlbjsNCj4gKwkJZGVzY19hZGRyID0gaW9uaWNfdHhfbWFw
X3NpbmdsZShxLCBza2ItPmRhdGEgKyBvZmZzZXQsDQo+IGxlbik7DQo+ICsJCWlmICghZGVzY19h
ZGRyKQ0KPiArCQkJZ290byBlcnJfb3V0X2Fib3J0Ow0KPiArCQlkZXNjX2xlbiA9IGxlbjsNCj4g
KwkJZGVzY19uc2dlID0gMDsNCj4gKwkJbGVmdCAtPSBsZW47DQo+ICsJCW9mZnNldCArPSBsZW47
DQo+ICsJCWlmIChuZnJhZ3MgPiAwICYmIGZyYWdfbGVmdCA+IDApDQo+ICsJCQljb250aW51ZTsN
Cj4gKwkJZG9uZSA9IChuZnJhZ3MgPT0gMCAmJiBsZWZ0ID09IDApOw0KPiArCQlpb25pY190eF90
c29fcG9zdChxLCBkZXNjLCBza2IsDQo+ICsJCQkJICBkZXNjX2FkZHIsIGRlc2NfbnNnZSwgZGVz
Y19sZW4sDQo+ICsJCQkJICBoZHJsZW4sIG1zcywNCj4gKwkJCQkgIG91dGVyX2NzdW0sDQo+ICsJ
CQkJICB2bGFuX3RjaSwgaGFzX3ZsYW4sDQo+ICsJCQkJICBzdGFydCwgZG9uZSk7DQo+ICsJCXRv
dGFsX3BrdHMrKzsNCj4gKwkJdG90YWxfYnl0ZXMgKz0gc3RhcnQgPyBsZW4gOiBsZW4gKyBoZHJs
ZW47DQo+ICsJCWRlc2MgPSBpb25pY190eF90c29fbmV4dChxLCAmZWxlbSk7DQo+ICsJCXN0YXJ0
ID0gZmFsc2U7DQo+ICsJCXNlZ2xlbiA9IG1zczsNCj4gKwl9DQo+ICsNCj4gKwkvKiBDaG9wIHNr
YiBmcmFncyBpbnRvIGRlc2Mgc2VnbWVudHMgKi8NCj4gKw0KPiArCWZvciAoZnJhZyA9IHNrYl9z
aGluZm8oc2tiKS0+ZnJhZ3M7IGxlbl9sZWZ0OyBmcmFnKyspIHsNCj4gKwkJb2Zmc2V0ID0gMDsN
Cj4gKwkJbGVmdCA9IHNrYl9mcmFnX3NpemUoZnJhZyk7DQo+ICsJCWxlbl9sZWZ0IC09IGxlZnQ7
DQo+ICsJCW5mcmFncy0tOw0KPiArCQlzdGF0cy0+ZnJhZ3MrKzsNCj4gKw0KPiArCQl3aGlsZSAo
bGVmdCA+IDApIHsNCj4gKwkJCWlmIChmcmFnX2xlZnQgPiAwKSB7DQo+ICsJCQkJbGVuID0gbWlu
KGZyYWdfbGVmdCwgbGVmdCk7DQo+ICsJCQkJZnJhZ19sZWZ0IC09IGxlbjsNCj4gKwkJCQllbGVt
LT5hZGRyID0NCj4gKwkJCQkgICAgY3B1X3RvX2xlNjQoaW9uaWNfdHhfbWFwX2ZyYWcocSwNCj4g
ZnJhZywNCj4gKwkJCQkJCQkJICBvZmZzZQ0KPiB0LCBsZW4pKTsNCj4gKwkJCQlpZiAoIWVsZW0t
PmFkZHIpDQo+ICsJCQkJCWdvdG8gZXJyX291dF9hYm9ydDsNCj4gKwkJCQllbGVtLT5sZW4gPSBj
cHVfdG9fbGUxNihsZW4pOw0KPiArCQkJCWVsZW0rKzsNCj4gKwkJCQlkZXNjX25zZ2UrKzsNCj4g
KwkJCQlsZWZ0IC09IGxlbjsNCj4gKwkJCQlvZmZzZXQgKz0gbGVuOw0KPiArCQkJCWlmIChuZnJh
Z3MgPiAwICYmIGZyYWdfbGVmdCA+IDApDQo+ICsJCQkJCWNvbnRpbnVlOw0KPiArCQkJCWRvbmUg
PSAobmZyYWdzID09IDAgJiYgbGVmdCA9PSAwKTsNCj4gKwkJCQlpb25pY190eF90c29fcG9zdChx
LCBkZXNjLCBza2IsDQo+IGRlc2NfYWRkciwNCj4gKwkJCQkJCSAgZGVzY19uc2dlLCBkZXNjX2xl
biwNCj4gKwkJCQkJCSAgaGRybGVuLCBtc3MsDQo+IG91dGVyX2NzdW0sDQo+ICsJCQkJCQkgIHZs
YW5fdGNpLCBoYXNfdmxhbiwNCj4gKwkJCQkJCSAgc3RhcnQsIGRvbmUpOw0KPiArCQkJCXRvdGFs
X3BrdHMrKzsNCj4gKwkJCQl0b3RhbF9ieXRlcyArPSBzdGFydCA/IGxlbiA6IGxlbiArDQo+IGhk
cmxlbjsNCj4gKwkJCQlkZXNjID0gaW9uaWNfdHhfdHNvX25leHQocSwgJmVsZW0pOw0KPiArCQkJ
CXN0YXJ0ID0gZmFsc2U7DQo+ICsJCQl9IGVsc2Ugew0KPiArCQkJCWxlbiA9IG1pbihtc3MsIGxl
ZnQpOw0KPiArCQkJCWZyYWdfbGVmdCA9IG1zcyAtIGxlbjsNCj4gKwkJCQlkZXNjX2FkZHIgPSBp
b25pY190eF9tYXBfZnJhZyhxLCBmcmFnLA0KPiArCQkJCQkJCSAgICAgIG9mZnNldCwNCj4gbGVu
KTsNCj4gKwkJCQlpZiAoIWRlc2NfYWRkcikNCj4gKwkJCQkJZ290byBlcnJfb3V0X2Fib3J0Ow0K
PiArCQkJCWRlc2NfbGVuID0gbGVuOw0KPiArCQkJCWRlc2NfbnNnZSA9IDA7DQo+ICsJCQkJbGVm
dCAtPSBsZW47DQo+ICsJCQkJb2Zmc2V0ICs9IGxlbjsNCj4gKwkJCQlpZiAobmZyYWdzID4gMCAm
JiBmcmFnX2xlZnQgPiAwKQ0KPiArCQkJCQljb250aW51ZTsNCj4gKwkJCQlkb25lID0gKG5mcmFn
cyA9PSAwICYmIGxlZnQgPT0gMCk7DQo+ICsJCQkJaW9uaWNfdHhfdHNvX3Bvc3QocSwgZGVzYywg
c2tiLA0KPiBkZXNjX2FkZHIsDQo+ICsJCQkJCQkgIGRlc2NfbnNnZSwgZGVzY19sZW4sDQo+ICsJ
CQkJCQkgIGhkcmxlbiwgbXNzLA0KPiBvdXRlcl9jc3VtLA0KPiArCQkJCQkJICB2bGFuX3RjaSwg
aGFzX3ZsYW4sDQo+ICsJCQkJCQkgIHN0YXJ0LCBkb25lKTsNCj4gKwkJCQl0b3RhbF9wa3RzKys7
DQo+ICsJCQkJdG90YWxfYnl0ZXMgKz0gc3RhcnQgPyBsZW4gOiBsZW4gKw0KPiBoZHJsZW47DQo+
ICsJCQkJZGVzYyA9IGlvbmljX3R4X3Rzb19uZXh0KHEsICZlbGVtKTsNCj4gKwkJCQlzdGFydCA9
IGZhbHNlOw0KPiArCQkJfQ0KPiArCQl9DQo+ICsJfQ0KPiArDQo+ICsJc3RhdHMtPnBrdHMgKz0g
dG90YWxfcGt0czsNCj4gKwlzdGF0cy0+Ynl0ZXMgKz0gdG90YWxfYnl0ZXM7DQo+ICsJc3RhdHMt
PnRzbysrOw0KPiArDQo+ICsJcmV0dXJuIDA7DQo+ICsNCj4gK2Vycl9vdXRfYWJvcnQ6DQo+ICsJ
d2hpbGUgKHJld2luZC0+ZGVzYyAhPSBxLT5oZWFkLT5kZXNjKSB7DQo+ICsJCWlvbmljX3R4X2Ns
ZWFuKHEsIHJld2luZCwgTlVMTCwgTlVMTCk7DQo+ICsJCXJld2luZCA9IHJld2luZC0+bmV4dDsN
Cj4gKwl9DQo+ICsJcS0+aGVhZCA9IGFib3J0Ow0KPiArDQo+ICsJcmV0dXJuIC1FTk9NRU07DQo+
ICt9DQo+ICsNCj4gK3N0YXRpYyBpbnQgaW9uaWNfdHhfY2FsY19jc3VtKHN0cnVjdCBxdWV1ZSAq
cSwgc3RydWN0IHNrX2J1ZmYgKnNrYikNCj4gK3sNCj4gKwlzdHJ1Y3QgdHhfc3RhdHMgKnN0YXRz
ID0gcV90b190eF9zdGF0cyhxKTsNCj4gKwlzdHJ1Y3QgdHhxX2Rlc2MgKmRlc2MgPSBxLT5oZWFk
LT5kZXNjOw0KPiArCWRtYV9hZGRyX3QgYWRkcjsNCj4gKwlib29sIGhhc192bGFuOw0KPiArCXU4
IGZsYWdzID0gMDsNCj4gKwlib29sIGVuY2FwOw0KPiArCXU2NCBjbWQ7DQo+ICsNCj4gKwloYXNf
dmxhbiA9ICEhc2tiX3ZsYW5fdGFnX3ByZXNlbnQoc2tiKTsNCj4gKwllbmNhcCA9IHNrYi0+ZW5j
YXBzdWxhdGlvbjsNCj4gKw0KPiArCWFkZHIgPSBpb25pY190eF9tYXBfc2luZ2xlKHEsIHNrYi0+
ZGF0YSwgc2tiX2hlYWRsZW4oc2tiKSk7DQo+ICsJaWYgKCFhZGRyKQ0KPiArCQlyZXR1cm4gLUVO
T01FTTsNCj4gKw0KPiArCWZsYWdzIHw9IGhhc192bGFuID8gSU9OSUNfVFhRX0RFU0NfRkxBR19W
TEFOIDogMDsNCj4gKwlmbGFncyB8PSBlbmNhcCA/IElPTklDX1RYUV9ERVNDX0ZMQUdfRU5DQVAg
OiAwOw0KPiArDQo+ICsJY21kID0gZW5jb2RlX3R4cV9kZXNjX2NtZChJT05JQ19UWFFfREVTQ19P
UENPREVfQ1NVTV9QQVJUSUFMLA0KPiArCQkJCSAgZmxhZ3MsIHNrYl9zaGluZm8oc2tiKS0+bnJf
ZnJhZ3MsDQo+IGFkZHIpOw0KPiArCWRlc2MtPmNtZCA9IGNwdV90b19sZTY0KGNtZCk7DQo+ICsJ
ZGVzYy0+bGVuID0gY3B1X3RvX2xlMTYoc2tiX2hlYWRsZW4oc2tiKSk7DQo+ICsJZGVzYy0+dmxh
bl90Y2kgPSBjcHVfdG9fbGUxNihza2Jfdmxhbl90YWdfZ2V0KHNrYikpOw0KPiArCWRlc2MtPmNz
dW1fc3RhcnQgPSBjcHVfdG9fbGUxNihza2JfY2hlY2tzdW1fc3RhcnRfb2Zmc2V0KHNrYikpOw0K
PiArCWRlc2MtPmNzdW1fb2Zmc2V0ID0gY3B1X3RvX2xlMTYoc2tiLT5jc3VtX29mZnNldCk7DQo+
ICsNCj4gKwlpZiAoc2tiLT5jc3VtX25vdF9pbmV0KQ0KPiArCQlzdGF0cy0+Y3JjMzJfY3N1bSsr
Ow0KPiArCWVsc2UNCj4gKwkJc3RhdHMtPmNzdW0rKzsNCj4gKw0KPiArCXJldHVybiAwOw0KPiAr
fQ0KPiArDQo+ICtzdGF0aWMgaW50IGlvbmljX3R4X2NhbGNfbm9fY3N1bShzdHJ1Y3QgcXVldWUg
KnEsIHN0cnVjdCBza19idWZmDQo+ICpza2IpDQo+ICt7DQo+ICsJc3RydWN0IHR4X3N0YXRzICpz
dGF0cyA9IHFfdG9fdHhfc3RhdHMocSk7DQo+ICsJc3RydWN0IHR4cV9kZXNjICpkZXNjID0gcS0+
aGVhZC0+ZGVzYzsNCj4gKwlkbWFfYWRkcl90IGFkZHI7DQo+ICsJYm9vbCBoYXNfdmxhbjsNCj4g
Kwl1OCBmbGFncyA9IDA7DQo+ICsJYm9vbCBlbmNhcDsNCj4gKwl1NjQgY21kOw0KPiArDQo+ICsJ
aGFzX3ZsYW4gPSAhIXNrYl92bGFuX3RhZ19wcmVzZW50KHNrYik7DQo+ICsJZW5jYXAgPSBza2It
PmVuY2Fwc3VsYXRpb247DQo+ICsNCj4gKwlhZGRyID0gaW9uaWNfdHhfbWFwX3NpbmdsZShxLCBz
a2ItPmRhdGEsIHNrYl9oZWFkbGVuKHNrYikpOw0KPiArCWlmICghYWRkcikNCj4gKwkJcmV0dXJu
IC1FTk9NRU07DQo+ICsNCj4gKwlmbGFncyB8PSBoYXNfdmxhbiA/IElPTklDX1RYUV9ERVNDX0ZM
QUdfVkxBTiA6IDA7DQo+ICsJZmxhZ3MgfD0gZW5jYXAgPyBJT05JQ19UWFFfREVTQ19GTEFHX0VO
Q0FQIDogMDsNCj4gKw0KPiArCWNtZCA9IGVuY29kZV90eHFfZGVzY19jbWQoSU9OSUNfVFhRX0RF
U0NfT1BDT0RFX0NTVU1fTk9ORSwNCj4gKwkJCQkgIGZsYWdzLCBza2Jfc2hpbmZvKHNrYiktPm5y
X2ZyYWdzLA0KPiBhZGRyKTsNCj4gKwlkZXNjLT5jbWQgPSBjcHVfdG9fbGU2NChjbWQpOw0KPiAr
CWRlc2MtPmxlbiA9IGNwdV90b19sZTE2KHNrYl9oZWFkbGVuKHNrYikpOw0KPiArCWRlc2MtPnZs
YW5fdGNpID0gY3B1X3RvX2xlMTYoc2tiX3ZsYW5fdGFnX2dldChza2IpKTsNCj4gKw0KPiArCXN0
YXRzLT5ub19jc3VtKys7DQo+ICsNCj4gKwlyZXR1cm4gMDsNCj4gK30NCj4gKw0KPiArc3RhdGlj
IGludCBpb25pY190eF9za2JfZnJhZ3Moc3RydWN0IHF1ZXVlICpxLCBzdHJ1Y3Qgc2tfYnVmZiAq
c2tiKQ0KPiArew0KPiArCXVuc2lnbmVkIGludCBsZW5fbGVmdCA9IHNrYi0+bGVuIC0gc2tiX2hl
YWRsZW4oc2tiKTsNCj4gKwlzdHJ1Y3QgdHhxX3NnX2Rlc2MgKnNnX2Rlc2MgPSBxLT5oZWFkLT5z
Z19kZXNjOw0KPiArCXN0cnVjdCB0eHFfc2dfZWxlbSAqZWxlbSA9IHNnX2Rlc2MtPmVsZW1zOw0K
PiArCXN0cnVjdCB0eF9zdGF0cyAqc3RhdHMgPSBxX3RvX3R4X3N0YXRzKHEpOw0KPiArCWRtYV9h
ZGRyX3QgZG1hX2FkZHI7DQo+ICsJc2tiX2ZyYWdfdCAqZnJhZzsNCj4gKwl1MTYgbGVuOw0KPiAr
DQo+ICsJZm9yIChmcmFnID0gc2tiX3NoaW5mbyhza2IpLT5mcmFnczsgbGVuX2xlZnQ7IGZyYWcr
KywgZWxlbSsrKSB7DQo+ICsJCWxlbiA9IHNrYl9mcmFnX3NpemUoZnJhZyk7DQo+ICsJCWVsZW0t
PmxlbiA9IGNwdV90b19sZTE2KGxlbik7DQo+ICsJCWRtYV9hZGRyID0gaW9uaWNfdHhfbWFwX2Zy
YWcocSwgZnJhZywgMCwgbGVuKTsNCj4gKwkJaWYgKCFkbWFfYWRkcikNCj4gKwkJCXJldHVybiAt
RU5PTUVNOw0KPiArCQllbGVtLT5hZGRyID0gY3B1X3RvX2xlNjQoZG1hX2FkZHIpOw0KPiArCQls
ZW5fbGVmdCAtPSBsZW47DQo+ICsJCXN0YXRzLT5mcmFncysrOw0KPiArCX0NCj4gKw0KPiArCXJl
dHVybiAwOw0KPiArfQ0KPiArDQo+ICtzdGF0aWMgaW50IGlvbmljX3R4KHN0cnVjdCBxdWV1ZSAq
cSwgc3RydWN0IHNrX2J1ZmYgKnNrYikNCj4gK3sNCj4gKwlzdHJ1Y3QgdHhfc3RhdHMgKnN0YXRz
ID0gcV90b190eF9zdGF0cyhxKTsNCj4gKwlpbnQgZXJyOw0KPiArDQo+ICsJaWYgKHNrYi0+aXBf
c3VtbWVkID09IENIRUNLU1VNX1BBUlRJQUwpDQo+ICsJCWVyciA9IGlvbmljX3R4X2NhbGNfY3N1
bShxLCBza2IpOw0KPiArCWVsc2UNCj4gKwkJZXJyID0gaW9uaWNfdHhfY2FsY19ub19jc3VtKHEs
IHNrYik7DQo+ICsJaWYgKGVycikNCj4gKwkJcmV0dXJuIGVycjsNCj4gKw0KPiArCWVyciA9IGlv
bmljX3R4X3NrYl9mcmFncyhxLCBza2IpOw0KPiArCWlmIChlcnIpDQo+ICsJCXJldHVybiBlcnI7
DQo+ICsNCj4gKwlza2JfdHhfdGltZXN0YW1wKHNrYik7DQo+ICsJc3RhdHMtPnBrdHMrKzsNCj4g
KwlzdGF0cy0+Ynl0ZXMgKz0gc2tiLT5sZW47DQo+ICsNCj4gKwlpb25pY190eHFfcG9zdChxLCAh
bmV0ZGV2X3htaXRfbW9yZSgpLCBpb25pY190eF9jbGVhbiwgc2tiKTsNCj4gKw0KPiArCXJldHVy
biAwOw0KPiArfQ0KPiArDQo+ICtzdGF0aWMgaW50IGlvbmljX3R4X2Rlc2NzX25lZWRlZChzdHJ1
Y3QgcXVldWUgKnEsIHN0cnVjdCBza19idWZmDQo+ICpza2IpDQo+ICt7DQo+ICsJc3RydWN0IHR4
X3N0YXRzICpzdGF0cyA9IHFfdG9fdHhfc3RhdHMocSk7DQo+ICsJaW50IGVycjsNCj4gKw0KPiAr
CS8qIElmIFRTTywgbmVlZCByb3VuZHVwKHNrYi0+bGVuL21zcykgZGVzY3MgKi8NCj4gKwlpZiAo
c2tiX2lzX2dzbyhza2IpKQ0KPiArCQlyZXR1cm4gKHNrYi0+bGVuIC8gc2tiX3NoaW5mbyhza2Ip
LT5nc29fc2l6ZSkgKyAxOw0KPiArDQo+ICsJLyogSWYgbm9uLVRTTywganVzdCBuZWVkIDEgZGVz
YyBhbmQgbnJfZnJhZ3Mgc2cgZWxlbXMgKi8NCj4gKwlpZiAoc2tiX3NoaW5mbyhza2IpLT5ucl9m
cmFncyA8PSBJT05JQ19UWF9NQVhfU0dfRUxFTVMpDQo+ICsJCXJldHVybiAxOw0KPiArDQo+ICsJ
LyogVG9vIG1hbnkgZnJhZ3MsIHNvIGxpbmVhcml6ZSAqLw0KPiArCWVyciA9IHNrYl9saW5lYXJp
emUoc2tiKTsNCj4gKwlpZiAoZXJyKQ0KPiArCQlyZXR1cm4gZXJyOw0KPiArDQo+ICsJc3RhdHMt
PmxpbmVhcml6ZSsrOw0KPiArDQo+ICsJLyogTmVlZCAxIGRlc2MgYW5kIHplcm8gc2cgZWxlbXMg
Ki8NCj4gKwlyZXR1cm4gMTsNCj4gK30NCj4gKw0KPiArbmV0ZGV2X3R4X3QgaW9uaWNfc3RhcnRf
eG1pdChzdHJ1Y3Qgc2tfYnVmZiAqc2tiLCBzdHJ1Y3QgbmV0X2RldmljZQ0KPiAqbmV0ZGV2KQ0K
PiArew0KPiArCXUxNiBxdWV1ZV9pbmRleCA9IHNrYl9nZXRfcXVldWVfbWFwcGluZyhza2IpOw0K
PiArCXN0cnVjdCBsaWYgKmxpZiA9IG5ldGRldl9wcml2KG5ldGRldik7DQo+ICsJc3RydWN0IHF1
ZXVlICpxOw0KPiArCWludCBuZGVzY3M7DQo+ICsJaW50IGVycjsNCj4gKw0KPiArCWlmICh1bmxp
a2VseSghdGVzdF9iaXQoTElGX1VQLCBsaWYtPnN0YXRlKSkpIHsNCj4gKwkJZGV2X2tmcmVlX3Nr
Yihza2IpOw0KPiArCQlyZXR1cm4gTkVUREVWX1RYX09LOw0KPiArCX0NCj4gKw0KPiArCWlmIChs
aWtlbHkobGlmX3RvX3R4cWNxKGxpZiwgcXVldWVfaW5kZXgpKSkNCj4gKwkJcSA9IGxpZl90b190
eHEobGlmLCBxdWV1ZV9pbmRleCk7DQo+ICsJZWxzZQ0KPiArCQlxID0gbGlmX3RvX3R4cShsaWYs
IDApOw0KPiArDQo+ICsJbmRlc2NzID0gaW9uaWNfdHhfZGVzY3NfbmVlZGVkKHEsIHNrYik7DQo+
ICsJaWYgKG5kZXNjcyA8IDApDQo+ICsJCWdvdG8gZXJyX291dF9kcm9wOw0KPiArDQo+ICsJaWYg
KCFpb25pY19xX2hhc19zcGFjZShxLCBuZGVzY3MpKSB7DQo+ICsJCW5ldGlmX3N0b3Bfc3VicXVl
dWUobmV0ZGV2LCBxdWV1ZV9pbmRleCk7DQo+ICsJCXEtPnN0b3ArKzsNCj4gKw0KPiArCQkvKiBN
aWdodCByYWNlIHdpdGggaW9uaWNfdHhfY2xlYW4sIGNoZWNrIGFnYWluICovDQo+ICsJCXNtcF9y
bWIoKTsNCj4gKwkJaWYgKGlvbmljX3FfaGFzX3NwYWNlKHEsIG5kZXNjcykpIHsNCj4gKwkJCW5l
dGlmX3dha2Vfc3VicXVldWUobmV0ZGV2LCBxdWV1ZV9pbmRleCk7DQo+ICsJCQlxLT53YWtlKys7
DQo+ICsJCX0gZWxzZSB7DQo+ICsJCQlyZXR1cm4gTkVUREVWX1RYX0JVU1k7DQo+ICsJCX0NCj4g
Kwl9DQo+ICsNCg0KWW91IGFyZSBtaXNzaW5nIG5ldGRldl90eF9zZW50X3F1ZXVlKCkgaGVyZQ0K
YW5kIGNvcnJlc3BvbmRpbmcgbmV0ZGV2X3R4X2NvbXBsZXRlZF9xdWV1ZSgpIG9uIGNvbXBsZXRp
b24uDQoNCj4gKwlpZiAoc2tiX2lzX2dzbyhza2IpKQ0KPiArCQllcnIgPSBpb25pY190eF90c28o
cSwgc2tiKTsNCj4gKwllbHNlDQo+ICsJCWVyciA9IGlvbmljX3R4KHEsIHNrYik7DQo+ICsNCj4g
KwlpZiAoZXJyKQ0KPiArCQlnb3RvIGVycl9vdXRfZHJvcDsNCj4gKw0KPiArCXJldHVybiBORVRE
RVZfVFhfT0s7DQo+ICsNCj4gK2Vycl9vdXRfZHJvcDoNCj4gKwluZXRpZl9zdG9wX3N1YnF1ZXVl
KG5ldGRldiwgcXVldWVfaW5kZXgpOw0KPiArCXEtPnN0b3ArKzsNCj4gKwlxLT5kcm9wKys7DQo+
ICsJZGV2X2tmcmVlX3NrYihza2IpOw0KPiArCXJldHVybiBORVRERVZfVFhfT0s7DQo+ICt9DQo+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9wZW5zYW5kby9pb25pYy9pb25pY190
eHJ4LmgNCj4gYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9wZW5zYW5kby9pb25pYy9pb25pY190eHJ4
LmgNCj4gbmV3IGZpbGUgbW9kZSAxMDA2NDQNCj4gaW5kZXggMDAwMDAwMDAwMDAwLi4yMzkxYTBl
ZWM2NWENCj4gLS0tIC9kZXYvbnVsbA0KPiArKysgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9wZW5z
YW5kby9pb25pYy9pb25pY190eHJ4LmgNCj4gQEAgLTAsMCArMSwxNSBAQA0KPiArLyogU1BEWC1M
aWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAgKi8NCj4gKy8qIENvcHlyaWdodChjKSAyMDE3IC0g
MjAxOSBQZW5zYW5kbyBTeXN0ZW1zLCBJbmMgKi8NCj4gKw0KPiArI2lmbmRlZiBfSU9OSUNfVFhS
WF9IXw0KPiArI2RlZmluZSBfSU9OSUNfVFhSWF9IXw0KPiArDQo+ICt2b2lkIGlvbmljX3J4X2Zs
dXNoKHN0cnVjdCBjcSAqY3EpOw0KPiArdm9pZCBpb25pY190eF9mbHVzaChzdHJ1Y3QgY3EgKmNx
KTsNCj4gKw0KPiArdm9pZCBpb25pY19yeF9maWxsKHN0cnVjdCBxdWV1ZSAqcSk7DQo+ICt2b2lk
IGlvbmljX3J4X2VtcHR5KHN0cnVjdCBxdWV1ZSAqcSk7DQo+ICtpbnQgaW9uaWNfcnhfbmFwaShz
dHJ1Y3QgbmFwaV9zdHJ1Y3QgKm5hcGksIGludCBidWRnZXQpOw0KPiArbmV0ZGV2X3R4X3QgaW9u
aWNfc3RhcnRfeG1pdChzdHJ1Y3Qgc2tfYnVmZiAqc2tiLCBzdHJ1Y3QgbmV0X2RldmljZQ0KPiAq
bmV0ZGV2KTsNCj4gKw0KPiArI2VuZGlmIC8qIF9JT05JQ19UWFJYX0hfICovDQo=
