Return-Path: <netdev-owner@vger.kernel.org>
X-Original-To: lists+netdev@lfdr.de
Delivered-To: lists+netdev@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id A5D93367E0
	for <lists+netdev@lfdr.de>; Thu,  6 Jun 2019 01:24:47 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726695AbfFEXYp (ORCPT <rfc822;lists+netdev@lfdr.de>);
        Wed, 5 Jun 2019 19:24:45 -0400
Received: from mail-eopbgr30054.outbound.protection.outlook.com ([40.107.3.54]:39078
        "EHLO EUR03-AM5-obe.outbound.protection.outlook.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S1726502AbfFEXYp (ORCPT <rfc822;netdev@vger.kernel.org>);
        Wed, 5 Jun 2019 19:24:45 -0400
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=Mellanox.com;
 s=selector2;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=gWjJj3C22QFXBKnqieUzKPblgyxSoZhad3pwJ9kRKjA=;
 b=G0/aX0yriRy19low9KFVNTwFVDAergj1Io54PEWgJUqjr4lQEMOG1fGQLtvOY3veArcGfBH86zK+SwmnmJ4r31voSrHKRz/PzaHK+IzDSWG5kB/U8aaCe2YqMWpYtWacK1ZtZu8GG5F5bttkJw63G4vlBiGNJSfKf4rFOgpAlY0=
Received: from DB8PR05MB5898.eurprd05.prod.outlook.com (20.179.9.32) by
 DB8PR05MB6105.eurprd05.prod.outlook.com (20.179.10.223) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1943.22; Wed, 5 Jun 2019 23:24:36 +0000
Received: from DB8PR05MB5898.eurprd05.prod.outlook.com
 ([fe80::4008:6417:32d4:6031]) by DB8PR05MB5898.eurprd05.prod.outlook.com
 ([fe80::4008:6417:32d4:6031%5]) with mapi id 15.20.1965.011; Wed, 5 Jun 2019
 23:24:36 +0000
From:   Saeed Mahameed <saeedm@mellanox.com>
To:     "David S. Miller" <davem@davemloft.net>,
        Jason Gunthorpe <jgg@mellanox.com>,
        Doug Ledford <dledford@redhat.com>
CC:     Michael Chan <michael.chan@broadcom.com>,
        Andy Gospodarek <andy@greyhouse.net>,
        Tal Gilboa <talgi@mellanox.com>,
        "linux-rdma@vger.kernel.org" <linux-rdma@vger.kernel.org>,
        "netdev@vger.kernel.org" <netdev@vger.kernel.org>,
        Saeed Mahameed <saeedm@mellanox.com>
Subject: [for-next 2/9] linux/dim: Remove "net" prefix from internal DIM
 members
Thread-Topic: [for-next 2/9] linux/dim: Remove "net" prefix from internal DIM
 members
Thread-Index: AQHVG/XWbIAQMOJfPUyMivOzBTLxDg==
Date:   Wed, 5 Jun 2019 23:24:36 +0000
Message-ID: <20190605232348.6452-3-saeedm@mellanox.com>
References: <20190605232348.6452-1-saeedm@mellanox.com>
In-Reply-To: <20190605232348.6452-1-saeedm@mellanox.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-mailer: git-send-email 2.21.0
x-originating-ip: [209.116.155.178]
x-clientproxiedby: BYAPR02CA0045.namprd02.prod.outlook.com
 (2603:10b6:a03:54::22) To DB8PR05MB5898.eurprd05.prod.outlook.com
 (2603:10a6:10:a4::32)
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=saeedm@mellanox.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 66bf034f-4d85-4442-fde2-08d6ea0cf92c
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0;PCL:0;RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);SRVR:DB8PR05MB6105;
x-ms-traffictypediagnostic: DB8PR05MB6105:
x-microsoft-antispam-prvs: <DB8PR05MB61054F0CFB748DD14689CB1FBE160@DB8PR05MB6105.eurprd05.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:185;
x-forefront-prvs: 00594E8DBA
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(396003)(346002)(39850400004)(136003)(366004)(376002)(199004)(189003)(4326008)(316002)(5660300002)(2906002)(66946007)(53936002)(186003)(8936002)(66476007)(8676002)(81166006)(66446008)(1076003)(478600001)(86362001)(50226002)(81156014)(66556008)(14454004)(107886003)(6116002)(73956011)(7736002)(305945005)(446003)(11346002)(64756008)(3846002)(71190400001)(99286004)(26005)(25786009)(110136005)(71200400001)(486006)(2616005)(68736007)(6512007)(66066001)(6436002)(76176011)(6486002)(54906003)(36756003)(6506007)(386003)(102836004)(256004)(476003)(52116002);DIR:OUT;SFP:1101;SCL:1;SRVR:DB8PR05MB6105;H:DB8PR05MB5898.eurprd05.prod.outlook.com;FPR:;SPF:None;LANG:en;PTR:InfoNoRecords;A:1;MX:1;
received-spf: None (protection.outlook.com: mellanox.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: nzyk4m0XAl/58u9tqPOVgEvdX0bog/2R58m/HH0toKD9dhKuT+U4BlwnnwlthvUhxw+4KBlXFkTr+zd2whB3nSLFnyub5w4WBPt2JUFlGq9iCFY281+Zx2QLGT+xOPdgk+rLo44GCQrdO8qMZsJdHL2hrVCrbLUqqpEdVdzMfcoMn1kxdh8ho4lOo7R07+5vY4ejQGQKocvbtxHduBJCjPPKC1YE18zgBg7ubSMWsh5blK4bBbOCvZeOOYeF8MjbXxQRkR+m821b3VLdWSbjZliOMch7YnJIE8VAFQIBsy+De+LhJfN4TEDvja09Rv8N8Mle1KeJidGTyFnR8yJqt/ELR+m3RSJCH22VnqW2dhSuh5SFFjTaC5ca509sdnAVImnBT8Agj4TGdsEsjZfzOfcEtBkx8JTsEM44PyeE5x4=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: Mellanox.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 66bf034f-4d85-4442-fde2-08d6ea0cf92c
X-MS-Exchange-CrossTenant-originalarrivaltime: 05 Jun 2019 23:24:36.5333
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: a652971c-7d2e-4d9b-a6a4-d149256f461b
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: saeedm@mellanox.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DB8PR05MB6105
Sender: netdev-owner@vger.kernel.org
Precedence: bulk
List-ID: <netdev.vger.kernel.org>
X-Mailing-List: netdev@vger.kernel.org

RnJvbTogVGFsIEdpbGJvYSA8dGFsZ2lAbWVsbGFub3guY29tPg0KDQpPbmx5IHJlbmFtaW5nIGZ1
bmN0aW9ucyBhbmQgc3RydWN0cyB3aGljaCBhcmVuJ3QgdXNlZCBieSBhbiBleHRlcm5hbCBjb2Rl
Lg0KDQpTaWduZWQtb2ZmLWJ5OiBUYWwgR2lsYm9hIDx0YWxnaUBtZWxsYW5veC5jb20+DQpTaWdu
ZWQtb2ZmLWJ5OiBTYWVlZCBNYWhhbWVlZCA8c2FlZWRtQG1lbGxhbm94LmNvbT4NCi0tLQ0KIGlu
Y2x1ZGUvbGludXgvZGltLmggICAgIHwgODYgKysrKysrKysrKysrKysrKysrKystLS0tLS0tLS0t
LS0tLS0tLS0tLQ0KIGluY2x1ZGUvbGludXgvbmV0X2RpbS5oIHwgODcgKysrKysrKysrKysrKysr
KysrKystLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAyIGZpbGVzIGNoYW5nZWQsIDg2IGluc2VydGlv
bnMoKyksIDg3IGRlbGV0aW9ucygtKQ0KDQpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51eC9kaW0u
aCBiL2luY2x1ZGUvbGludXgvZGltLmgNCmluZGV4IDY3ZDdjYTQwZjNkZC4uNmVlOTkxNjgxZDYy
IDEwMDY0NA0KLS0tIGEvaW5jbHVkZS9saW51eC9kaW0uaA0KKysrIGIvaW5jbHVkZS9saW51eC9k
aW0uaA0KQEAgLTYsNyArNiw3IEBADQogDQogI2luY2x1ZGUgPGxpbnV4L21vZHVsZS5oPg0KIA0K
LSNkZWZpbmUgTkVUX0RJTV9ORVZFTlRTIDY0DQorI2RlZmluZSBESU1fTkVWRU5UUyA2NA0KIA0K
IC8qIG1vcmUgdGhhbiAxMCUgZGlmZmVyZW5jZSAqLw0KICNkZWZpbmUgSVNfU0lHTklGSUNBTlRf
RElGRih2YWwsIHJlZikgXA0KQEAgLTI3LDcgKzI3LDcgQEAgc3RydWN0IG5ldF9kaW1fc2FtcGxl
IHsNCiAJdTE2IGV2ZW50X2N0cjsNCiB9Ow0KIA0KLXN0cnVjdCBuZXRfZGltX3N0YXRzIHsNCitz
dHJ1Y3QgZGltX3N0YXRzIHsNCiAJaW50IHBwbXM7IC8qIHBhY2tldHMgcGVyIG1zZWMgKi8NCiAJ
aW50IGJwbXM7IC8qIGJ5dGVzIHBlciBtc2VjICovDQogCWludCBlcG1zOyAvKiBldmVudHMgcGVy
IG1zZWMgKi8NCkBAIC0zNSw3ICszNSw3IEBAIHN0cnVjdCBuZXRfZGltX3N0YXRzIHsNCiANCiBz
dHJ1Y3QgbmV0X2RpbSB7IC8qIER5bmFtaWMgSW50ZXJydXB0IE1vZGVyYXRpb24gKi8NCiAJdTgg
c3RhdGU7DQotCXN0cnVjdCBuZXRfZGltX3N0YXRzIHByZXZfc3RhdHM7DQorCXN0cnVjdCBkaW1f
c3RhdHMgcHJldl9zdGF0czsNCiAJc3RydWN0IG5ldF9kaW1fc2FtcGxlIHN0YXJ0X3NhbXBsZTsN
CiAJc3RydWN0IHdvcmtfc3RydWN0IHdvcms7DQogCXU4IHByb2ZpbGVfaXg7DQpAQCAtNTksNjcg
KzU5LDY3IEBAIGVudW0gew0KIH07DQogDQogZW51bSB7DQotCU5FVF9ESU1fUEFSS0lOR19PTl9U
T1AsDQotCU5FVF9ESU1fUEFSS0lOR19USVJFRCwNCi0JTkVUX0RJTV9HT0lOR19SSUdIVCwNCi0J
TkVUX0RJTV9HT0lOR19MRUZULA0KKwlESU1fUEFSS0lOR19PTl9UT1AsDQorCURJTV9QQVJLSU5H
X1RJUkVELA0KKwlESU1fR09JTkdfUklHSFQsDQorCURJTV9HT0lOR19MRUZULA0KIH07DQogDQog
ZW51bSB7DQotCU5FVF9ESU1fU1RBVFNfV09SU0UsDQotCU5FVF9ESU1fU1RBVFNfU0FNRSwNCi0J
TkVUX0RJTV9TVEFUU19CRVRURVIsDQorCURJTV9TVEFUU19XT1JTRSwNCisJRElNX1NUQVRTX1NB
TUUsDQorCURJTV9TVEFUU19CRVRURVIsDQogfTsNCiANCiBlbnVtIHsNCi0JTkVUX0RJTV9TVEVQ
UEVELA0KLQlORVRfRElNX1RPT19USVJFRCwNCi0JTkVUX0RJTV9PTl9FREdFLA0KKwlESU1fU1RF
UFBFRCwNCisJRElNX1RPT19USVJFRCwNCisJRElNX09OX0VER0UsDQogfTsNCiANCi1zdGF0aWMg
aW5saW5lIGJvb2wgbmV0X2RpbV9vbl90b3Aoc3RydWN0IG5ldF9kaW0gKm5ldF9kaW0pDQorc3Rh
dGljIGlubGluZSBib29sIGRpbV9vbl90b3Aoc3RydWN0IG5ldF9kaW0gKmRpbSkNCiB7DQotCXN3
aXRjaCAobmV0X2RpbS0+dHVuZV9zdGF0ZSkgew0KLQljYXNlIE5FVF9ESU1fUEFSS0lOR19PTl9U
T1A6DQotCWNhc2UgTkVUX0RJTV9QQVJLSU5HX1RJUkVEOg0KKwlzd2l0Y2ggKGRpbS0+dHVuZV9z
dGF0ZSkgew0KKwljYXNlIERJTV9QQVJLSU5HX09OX1RPUDoNCisJY2FzZSBESU1fUEFSS0lOR19U
SVJFRDoNCiAJCXJldHVybiB0cnVlOw0KLQljYXNlIE5FVF9ESU1fR09JTkdfUklHSFQ6DQotCQly
ZXR1cm4gKG5ldF9kaW0tPnN0ZXBzX2xlZnQgPiAxKSAmJiAobmV0X2RpbS0+c3RlcHNfcmlnaHQg
PT0gMSk7DQotCWRlZmF1bHQ6IC8qIE5FVF9ESU1fR09JTkdfTEVGVCAqLw0KLQkJcmV0dXJuIChu
ZXRfZGltLT5zdGVwc19yaWdodCA+IDEpICYmIChuZXRfZGltLT5zdGVwc19sZWZ0ID09IDEpOw0K
KwljYXNlIERJTV9HT0lOR19SSUdIVDoNCisJCXJldHVybiAoZGltLT5zdGVwc19sZWZ0ID4gMSkg
JiYgKGRpbS0+c3RlcHNfcmlnaHQgPT0gMSk7DQorCWRlZmF1bHQ6IC8qIERJTV9HT0lOR19MRUZU
ICovDQorCQlyZXR1cm4gKGRpbS0+c3RlcHNfcmlnaHQgPiAxKSAmJiAoZGltLT5zdGVwc19sZWZ0
ID09IDEpOw0KIAl9DQogfQ0KIA0KLXN0YXRpYyBpbmxpbmUgdm9pZCBuZXRfZGltX3R1cm4oc3Ry
dWN0IG5ldF9kaW0gKm5ldF9kaW0pDQorc3RhdGljIGlubGluZSB2b2lkIGRpbV90dXJuKHN0cnVj
dCBuZXRfZGltICpkaW0pDQogew0KLQlzd2l0Y2ggKG5ldF9kaW0tPnR1bmVfc3RhdGUpIHsNCi0J
Y2FzZSBORVRfRElNX1BBUktJTkdfT05fVE9QOg0KLQljYXNlIE5FVF9ESU1fUEFSS0lOR19USVJF
RDoNCisJc3dpdGNoIChkaW0tPnR1bmVfc3RhdGUpIHsNCisJY2FzZSBESU1fUEFSS0lOR19PTl9U
T1A6DQorCWNhc2UgRElNX1BBUktJTkdfVElSRUQ6DQogCQlicmVhazsNCi0JY2FzZSBORVRfRElN
X0dPSU5HX1JJR0hUOg0KLQkJbmV0X2RpbS0+dHVuZV9zdGF0ZSA9IE5FVF9ESU1fR09JTkdfTEVG
VDsNCi0JCW5ldF9kaW0tPnN0ZXBzX2xlZnQgPSAwOw0KKwljYXNlIERJTV9HT0lOR19SSUdIVDoN
CisJCWRpbS0+dHVuZV9zdGF0ZSA9IERJTV9HT0lOR19MRUZUOw0KKwkJZGltLT5zdGVwc19sZWZ0
ID0gMDsNCiAJCWJyZWFrOw0KLQljYXNlIE5FVF9ESU1fR09JTkdfTEVGVDoNCi0JCW5ldF9kaW0t
PnR1bmVfc3RhdGUgPSBORVRfRElNX0dPSU5HX1JJR0hUOw0KLQkJbmV0X2RpbS0+c3RlcHNfcmln
aHQgPSAwOw0KKwljYXNlIERJTV9HT0lOR19MRUZUOg0KKwkJZGltLT50dW5lX3N0YXRlID0gRElN
X0dPSU5HX1JJR0hUOw0KKwkJZGltLT5zdGVwc19yaWdodCA9IDA7DQogCQlicmVhazsNCiAJfQ0K
IH0NCiANCi1zdGF0aWMgaW5saW5lIHZvaWQgbmV0X2RpbV9wYXJrX29uX3RvcChzdHJ1Y3QgbmV0
X2RpbSAqbmV0X2RpbSkNCitzdGF0aWMgaW5saW5lIHZvaWQgZGltX3Bhcmtfb25fdG9wKHN0cnVj
dCBuZXRfZGltICpkaW0pDQogew0KLQluZXRfZGltLT5zdGVwc19yaWdodCAgPSAwOw0KLQluZXRf
ZGltLT5zdGVwc19sZWZ0ICAgPSAwOw0KLQluZXRfZGltLT50aXJlZCAgICAgICAgPSAwOw0KLQlu
ZXRfZGltLT50dW5lX3N0YXRlICAgPSBORVRfRElNX1BBUktJTkdfT05fVE9QOw0KKwlkaW0tPnN0
ZXBzX3JpZ2h0ICA9IDA7DQorCWRpbS0+c3RlcHNfbGVmdCAgID0gMDsNCisJZGltLT50aXJlZCAg
ICAgICAgPSAwOw0KKwlkaW0tPnR1bmVfc3RhdGUgICA9IERJTV9QQVJLSU5HX09OX1RPUDsNCiB9
DQogDQotc3RhdGljIGlubGluZSB2b2lkIG5ldF9kaW1fcGFya190aXJlZChzdHJ1Y3QgbmV0X2Rp
bSAqbmV0X2RpbSkNCitzdGF0aWMgaW5saW5lIHZvaWQgZGltX3BhcmtfdGlyZWQoc3RydWN0IG5l
dF9kaW0gKmRpbSkNCiB7DQotCW5ldF9kaW0tPnN0ZXBzX3JpZ2h0ICA9IDA7DQotCW5ldF9kaW0t
PnN0ZXBzX2xlZnQgICA9IDA7DQotCW5ldF9kaW0tPnR1bmVfc3RhdGUgICA9IE5FVF9ESU1fUEFS
S0lOR19USVJFRDsNCisJZGltLT5zdGVwc19yaWdodCAgPSAwOw0KKwlkaW0tPnN0ZXBzX2xlZnQg
ICA9IDA7DQorCWRpbS0+dHVuZV9zdGF0ZSAgID0gRElNX1BBUktJTkdfVElSRUQ7DQogfQ0KIA0K
IHN0YXRpYyBpbmxpbmUgdm9pZA0KQEAgLTEzMiw4ICsxMzIsOCBAQCBuZXRfZGltX3NhbXBsZSh1
MTYgZXZlbnRfY3RyLCB1NjQgcGFja2V0cywgdTY0IGJ5dGVzLCBzdHJ1Y3QgbmV0X2RpbV9zYW1w
bGUgKnMpDQogfQ0KIA0KIHN0YXRpYyBpbmxpbmUgdm9pZA0KLW5ldF9kaW1fY2FsY19zdGF0cyhz
dHJ1Y3QgbmV0X2RpbV9zYW1wbGUgKnN0YXJ0LCBzdHJ1Y3QgbmV0X2RpbV9zYW1wbGUgKmVuZCwN
Ci0JCSAgIHN0cnVjdCBuZXRfZGltX3N0YXRzICpjdXJyX3N0YXRzKQ0KK2RpbV9jYWxjX3N0YXRz
KHN0cnVjdCBuZXRfZGltX3NhbXBsZSAqc3RhcnQsIHN0cnVjdCBuZXRfZGltX3NhbXBsZSAqZW5k
LA0KKwkgICAgICAgc3RydWN0IGRpbV9zdGF0cyAqY3Vycl9zdGF0cykNCiB7DQogCS8qIHUzMiBo
b2xkcyB1cCB0byA3MSBtaW51dGVzLCBzaG91bGQgYmUgZW5vdWdoICovDQogCXUzMiBkZWx0YV91
cyA9IGt0aW1lX3VzX2RlbHRhKGVuZC0+dGltZSwgc3RhcnQtPnRpbWUpOw0KQEAgLTE0Niw3ICsx
NDYsNyBAQCBuZXRfZGltX2NhbGNfc3RhdHMoc3RydWN0IG5ldF9kaW1fc2FtcGxlICpzdGFydCwg
c3RydWN0IG5ldF9kaW1fc2FtcGxlICplbmQsDQogDQogCWN1cnJfc3RhdHMtPnBwbXMgPSBESVZf
Uk9VTkRfVVAobnBrdHMgKiBVU0VDX1BFUl9NU0VDLCBkZWx0YV91cyk7DQogCWN1cnJfc3RhdHMt
PmJwbXMgPSBESVZfUk9VTkRfVVAobmJ5dGVzICogVVNFQ19QRVJfTVNFQywgZGVsdGFfdXMpOw0K
LQljdXJyX3N0YXRzLT5lcG1zID0gRElWX1JPVU5EX1VQKE5FVF9ESU1fTkVWRU5UUyAqIFVTRUNf
UEVSX01TRUMsDQorCWN1cnJfc3RhdHMtPmVwbXMgPSBESVZfUk9VTkRfVVAoRElNX05FVkVOVFMg
KiBVU0VDX1BFUl9NU0VDLA0KIAkJCQkJZGVsdGFfdXMpOw0KIH0NCiANCmRpZmYgLS1naXQgYS9p
bmNsdWRlL2xpbnV4L25ldF9kaW0uaCBiL2luY2x1ZGUvbGludXgvbmV0X2RpbS5oDQppbmRleCAz
NzNjZGE3NGIxNjcuLmY4OWZhNGZkZmI0NiAxMDA2NDQNCi0tLSBhL2luY2x1ZGUvbGludXgvbmV0
X2RpbS5oDQorKysgYi9pbmNsdWRlL2xpbnV4L25ldF9kaW0uaA0KQEAgLTEyOCw2NyArMTI4LDY3
IEBAIG5ldF9kaW1fZ2V0X2RlZl90eF9tb2RlcmF0aW9uKHU4IGNxX3BlcmlvZF9tb2RlKQ0KIHN0
YXRpYyBpbmxpbmUgaW50IG5ldF9kaW1fc3RlcChzdHJ1Y3QgbmV0X2RpbSAqZGltKQ0KIHsNCiAJ
aWYgKGRpbS0+dGlyZWQgPT0gKE5FVF9ESU1fUEFSQU1TX05VTV9QUk9GSUxFUyAqIDIpKQ0KLQkJ
cmV0dXJuIE5FVF9ESU1fVE9PX1RJUkVEOw0KKwkJcmV0dXJuIERJTV9UT09fVElSRUQ7DQogDQog
CXN3aXRjaCAoZGltLT50dW5lX3N0YXRlKSB7DQotCWNhc2UgTkVUX0RJTV9QQVJLSU5HX09OX1RP
UDoNCi0JY2FzZSBORVRfRElNX1BBUktJTkdfVElSRUQ6DQorCWNhc2UgRElNX1BBUktJTkdfT05f
VE9QOg0KKwljYXNlIERJTV9QQVJLSU5HX1RJUkVEOg0KIAkJYnJlYWs7DQotCWNhc2UgTkVUX0RJ
TV9HT0lOR19SSUdIVDoNCisJY2FzZSBESU1fR09JTkdfUklHSFQ6DQogCQlpZiAoZGltLT5wcm9m
aWxlX2l4ID09IChORVRfRElNX1BBUkFNU19OVU1fUFJPRklMRVMgLSAxKSkNCi0JCQlyZXR1cm4g
TkVUX0RJTV9PTl9FREdFOw0KKwkJCXJldHVybiBESU1fT05fRURHRTsNCiAJCWRpbS0+cHJvZmls
ZV9peCsrOw0KIAkJZGltLT5zdGVwc19yaWdodCsrOw0KIAkJYnJlYWs7DQotCWNhc2UgTkVUX0RJ
TV9HT0lOR19MRUZUOg0KKwljYXNlIERJTV9HT0lOR19MRUZUOg0KIAkJaWYgKGRpbS0+cHJvZmls
ZV9peCA9PSAwKQ0KLQkJCXJldHVybiBORVRfRElNX09OX0VER0U7DQorCQkJcmV0dXJuIERJTV9P
Tl9FREdFOw0KIAkJZGltLT5wcm9maWxlX2l4LS07DQogCQlkaW0tPnN0ZXBzX2xlZnQrKzsNCiAJ
CWJyZWFrOw0KIAl9DQogDQogCWRpbS0+dGlyZWQrKzsNCi0JcmV0dXJuIE5FVF9ESU1fU1RFUFBF
RDsNCisJcmV0dXJuIERJTV9TVEVQUEVEOw0KIH0NCiANCiBzdGF0aWMgaW5saW5lIHZvaWQgbmV0
X2RpbV9leGl0X3Bhcmtpbmcoc3RydWN0IG5ldF9kaW0gKmRpbSkNCiB7DQotCWRpbS0+dHVuZV9z
dGF0ZSA9IGRpbS0+cHJvZmlsZV9peCA/IE5FVF9ESU1fR09JTkdfTEVGVCA6DQotCQkJCQkgIE5F
VF9ESU1fR09JTkdfUklHSFQ7DQorCWRpbS0+dHVuZV9zdGF0ZSA9IGRpbS0+cHJvZmlsZV9peCA/
IERJTV9HT0lOR19MRUZUIDoNCisJCQkJCSAgRElNX0dPSU5HX1JJR0hUOw0KIAluZXRfZGltX3N0
ZXAoZGltKTsNCiB9DQogDQotc3RhdGljIGlubGluZSBpbnQgbmV0X2RpbV9zdGF0c19jb21wYXJl
KHN0cnVjdCBuZXRfZGltX3N0YXRzICpjdXJyLA0KLQkJCQkJc3RydWN0IG5ldF9kaW1fc3RhdHMg
KnByZXYpDQorc3RhdGljIGlubGluZSBpbnQgbmV0X2RpbV9zdGF0c19jb21wYXJlKHN0cnVjdCBk
aW1fc3RhdHMgKmN1cnIsDQorCQkJCQlzdHJ1Y3QgZGltX3N0YXRzICpwcmV2KQ0KIHsNCiAJaWYg
KCFwcmV2LT5icG1zKQ0KLQkJcmV0dXJuIGN1cnItPmJwbXMgPyBORVRfRElNX1NUQVRTX0JFVFRF
UiA6DQotCQkJCSAgICBORVRfRElNX1NUQVRTX1NBTUU7DQorCQlyZXR1cm4gY3Vyci0+YnBtcyA/
IERJTV9TVEFUU19CRVRURVIgOg0KKwkJCQkgICAgRElNX1NUQVRTX1NBTUU7DQogDQogCWlmIChJ
U19TSUdOSUZJQ0FOVF9ESUZGKGN1cnItPmJwbXMsIHByZXYtPmJwbXMpKQ0KLQkJcmV0dXJuIChj
dXJyLT5icG1zID4gcHJldi0+YnBtcykgPyBORVRfRElNX1NUQVRTX0JFVFRFUiA6DQotCQkJCQkJ
ICAgTkVUX0RJTV9TVEFUU19XT1JTRTsNCisJCXJldHVybiAoY3Vyci0+YnBtcyA+IHByZXYtPmJw
bXMpID8gRElNX1NUQVRTX0JFVFRFUiA6DQorCQkJCQkJICAgRElNX1NUQVRTX1dPUlNFOw0KIA0K
IAlpZiAoIXByZXYtPnBwbXMpDQotCQlyZXR1cm4gY3Vyci0+cHBtcyA/IE5FVF9ESU1fU1RBVFNf
QkVUVEVSIDoNCi0JCQkJICAgIE5FVF9ESU1fU1RBVFNfU0FNRTsNCisJCXJldHVybiBjdXJyLT5w
cG1zID8gRElNX1NUQVRTX0JFVFRFUiA6DQorCQkJCSAgICBESU1fU1RBVFNfU0FNRTsNCiANCiAJ
aWYgKElTX1NJR05JRklDQU5UX0RJRkYoY3Vyci0+cHBtcywgcHJldi0+cHBtcykpDQotCQlyZXR1
cm4gKGN1cnItPnBwbXMgPiBwcmV2LT5wcG1zKSA/IE5FVF9ESU1fU1RBVFNfQkVUVEVSIDoNCi0J
CQkJCQkgICBORVRfRElNX1NUQVRTX1dPUlNFOw0KKwkJcmV0dXJuIChjdXJyLT5wcG1zID4gcHJl
di0+cHBtcykgPyBESU1fU1RBVFNfQkVUVEVSIDoNCisJCQkJCQkgICBESU1fU1RBVFNfV09SU0U7
DQogDQogCWlmICghcHJldi0+ZXBtcykNCi0JCXJldHVybiBORVRfRElNX1NUQVRTX1NBTUU7DQor
CQlyZXR1cm4gRElNX1NUQVRTX1NBTUU7DQogDQogCWlmIChJU19TSUdOSUZJQ0FOVF9ESUZGKGN1
cnItPmVwbXMsIHByZXYtPmVwbXMpKQ0KLQkJcmV0dXJuIChjdXJyLT5lcG1zIDwgcHJldi0+ZXBt
cykgPyBORVRfRElNX1NUQVRTX0JFVFRFUiA6DQotCQkJCQkJICAgTkVUX0RJTV9TVEFUU19XT1JT
RTsNCisJCXJldHVybiAoY3Vyci0+ZXBtcyA8IHByZXYtPmVwbXMpID8gRElNX1NUQVRTX0JFVFRF
UiA6DQorCQkJCQkJICAgRElNX1NUQVRTX1dPUlNFOw0KIA0KLQlyZXR1cm4gTkVUX0RJTV9TVEFU
U19TQU1FOw0KKwlyZXR1cm4gRElNX1NUQVRTX1NBTUU7DQogfQ0KIA0KLXN0YXRpYyBpbmxpbmUg
Ym9vbCBuZXRfZGltX2RlY2lzaW9uKHN0cnVjdCBuZXRfZGltX3N0YXRzICpjdXJyX3N0YXRzLA0K
K3N0YXRpYyBpbmxpbmUgYm9vbCBuZXRfZGltX2RlY2lzaW9uKHN0cnVjdCBkaW1fc3RhdHMgKmN1
cnJfc3RhdHMsDQogCQkJCSAgICBzdHJ1Y3QgbmV0X2RpbSAqZGltKQ0KIHsNCiAJaW50IHByZXZf
c3RhdGUgPSBkaW0tPnR1bmVfc3RhdGU7DQpAQCAtMTk3LDQ0ICsxOTcsNDQgQEAgc3RhdGljIGlu
bGluZSBib29sIG5ldF9kaW1fZGVjaXNpb24oc3RydWN0IG5ldF9kaW1fc3RhdHMgKmN1cnJfc3Rh
dHMsDQogCWludCBzdGVwX3JlczsNCiANCiAJc3dpdGNoIChkaW0tPnR1bmVfc3RhdGUpIHsNCi0J
Y2FzZSBORVRfRElNX1BBUktJTkdfT05fVE9QOg0KKwljYXNlIERJTV9QQVJLSU5HX09OX1RPUDoN
CiAJCXN0YXRzX3JlcyA9IG5ldF9kaW1fc3RhdHNfY29tcGFyZShjdXJyX3N0YXRzLCAmZGltLT5w
cmV2X3N0YXRzKTsNCi0JCWlmIChzdGF0c19yZXMgIT0gTkVUX0RJTV9TVEFUU19TQU1FKQ0KKwkJ
aWYgKHN0YXRzX3JlcyAhPSBESU1fU1RBVFNfU0FNRSkNCiAJCQluZXRfZGltX2V4aXRfcGFya2lu
ZyhkaW0pOw0KIAkJYnJlYWs7DQogDQotCWNhc2UgTkVUX0RJTV9QQVJLSU5HX1RJUkVEOg0KKwlj
YXNlIERJTV9QQVJLSU5HX1RJUkVEOg0KIAkJZGltLT50aXJlZC0tOw0KIAkJaWYgKCFkaW0tPnRp
cmVkKQ0KIAkJCW5ldF9kaW1fZXhpdF9wYXJraW5nKGRpbSk7DQogCQlicmVhazsNCiANCi0JY2Fz
ZSBORVRfRElNX0dPSU5HX1JJR0hUOg0KLQljYXNlIE5FVF9ESU1fR09JTkdfTEVGVDoNCisJY2Fz
ZSBESU1fR09JTkdfUklHSFQ6DQorCWNhc2UgRElNX0dPSU5HX0xFRlQ6DQogCQlzdGF0c19yZXMg
PSBuZXRfZGltX3N0YXRzX2NvbXBhcmUoY3Vycl9zdGF0cywgJmRpbS0+cHJldl9zdGF0cyk7DQot
CQlpZiAoc3RhdHNfcmVzICE9IE5FVF9ESU1fU1RBVFNfQkVUVEVSKQ0KLQkJCW5ldF9kaW1fdHVy
bihkaW0pOw0KKwkJaWYgKHN0YXRzX3JlcyAhPSBESU1fU1RBVFNfQkVUVEVSKQ0KKwkJCWRpbV90
dXJuKGRpbSk7DQogDQotCQlpZiAobmV0X2RpbV9vbl90b3AoZGltKSkgew0KLQkJCW5ldF9kaW1f
cGFya19vbl90b3AoZGltKTsNCisJCWlmIChkaW1fb25fdG9wKGRpbSkpIHsNCisJCQlkaW1fcGFy
a19vbl90b3AoZGltKTsNCiAJCQlicmVhazsNCiAJCX0NCiANCiAJCXN0ZXBfcmVzID0gbmV0X2Rp
bV9zdGVwKGRpbSk7DQogCQlzd2l0Y2ggKHN0ZXBfcmVzKSB7DQotCQljYXNlIE5FVF9ESU1fT05f
RURHRToNCi0JCQluZXRfZGltX3Bhcmtfb25fdG9wKGRpbSk7DQorCQljYXNlIERJTV9PTl9FREdF
Og0KKwkJCWRpbV9wYXJrX29uX3RvcChkaW0pOw0KIAkJCWJyZWFrOw0KLQkJY2FzZSBORVRfRElN
X1RPT19USVJFRDoNCi0JCQluZXRfZGltX3BhcmtfdGlyZWQoZGltKTsNCisJCWNhc2UgRElNX1RP
T19USVJFRDoNCisJCQlkaW1fcGFya190aXJlZChkaW0pOw0KIAkJCWJyZWFrOw0KIAkJfQ0KIA0K
IAkJYnJlYWs7DQogCX0NCiANCi0JaWYgKChwcmV2X3N0YXRlICAgICAgIT0gTkVUX0RJTV9QQVJL
SU5HX09OX1RPUCkgfHwNCi0JICAgIChkaW0tPnR1bmVfc3RhdGUgIT0gTkVUX0RJTV9QQVJLSU5H
X09OX1RPUCkpDQorCWlmIChwcmV2X3N0YXRlICE9IERJTV9QQVJLSU5HX09OX1RPUCB8fA0KKwkg
ICAgZGltLT50dW5lX3N0YXRlICE9IERJTV9QQVJLSU5HX09OX1RPUCkNCiAJCWRpbS0+cHJldl9z
dGF0cyA9ICpjdXJyX3N0YXRzOw0KIA0KIAlyZXR1cm4gZGltLT5wcm9maWxlX2l4ICE9IHByZXZf
aXg7DQpAQCAtMjQzLDcgKzI0Myw3IEBAIHN0YXRpYyBpbmxpbmUgYm9vbCBuZXRfZGltX2RlY2lz
aW9uKHN0cnVjdCBuZXRfZGltX3N0YXRzICpjdXJyX3N0YXRzLA0KIHN0YXRpYyBpbmxpbmUgdm9p
ZCBuZXRfZGltKHN0cnVjdCBuZXRfZGltICpkaW0sDQogCQkJICAgc3RydWN0IG5ldF9kaW1fc2Ft
cGxlIGVuZF9zYW1wbGUpDQogew0KLQlzdHJ1Y3QgbmV0X2RpbV9zdGF0cyBjdXJyX3N0YXRzOw0K
KwlzdHJ1Y3QgZGltX3N0YXRzIGN1cnJfc3RhdHM7DQogCXUxNiBuZXZlbnRzOw0KIA0KIAlzd2l0
Y2ggKGRpbS0+c3RhdGUpIHsNCkBAIC0yNTEsMTAgKzI1MSw5IEBAIHN0YXRpYyBpbmxpbmUgdm9p
ZCBuZXRfZGltKHN0cnVjdCBuZXRfZGltICpkaW0sDQogCQluZXZlbnRzID0gQklUX0dBUChCSVRT
X1BFUl9UWVBFKHUxNiksDQogCQkJCSAgZW5kX3NhbXBsZS5ldmVudF9jdHIsDQogCQkJCSAgZGlt
LT5zdGFydF9zYW1wbGUuZXZlbnRfY3RyKTsNCi0JCWlmIChuZXZlbnRzIDwgTkVUX0RJTV9ORVZF
TlRTKQ0KKwkJaWYgKG5ldmVudHMgPCBESU1fTkVWRU5UUykNCiAJCQlicmVhazsNCi0JCW5ldF9k
aW1fY2FsY19zdGF0cygmZGltLT5zdGFydF9zYW1wbGUsICZlbmRfc2FtcGxlLA0KLQkJCQkgICAm
Y3Vycl9zdGF0cyk7DQorCQlkaW1fY2FsY19zdGF0cygmZGltLT5zdGFydF9zYW1wbGUsICZlbmRf
c2FtcGxlLCAmY3Vycl9zdGF0cyk7DQogCQlpZiAobmV0X2RpbV9kZWNpc2lvbigmY3Vycl9zdGF0
cywgZGltKSkgew0KIAkJCWRpbS0+c3RhdGUgPSBORVRfRElNX0FQUExZX05FV19QUk9GSUxFOw0K
IAkJCXNjaGVkdWxlX3dvcmsoJmRpbS0+d29yayk7DQotLSANCjIuMjEuMA0KDQo=
