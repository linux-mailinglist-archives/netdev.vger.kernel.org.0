Return-Path: <netdev-owner@vger.kernel.org>
X-Original-To: lists+netdev@lfdr.de
Delivered-To: lists+netdev@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id CE95044D713
	for <lists+netdev@lfdr.de>; Thu, 11 Nov 2021 14:18:00 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S232883AbhKKNUq (ORCPT <rfc822;lists+netdev@lfdr.de>);
        Thu, 11 Nov 2021 08:20:46 -0500
Received: from mail-eopbgr40139.outbound.protection.outlook.com ([40.107.4.139]:18562
        "EHLO EUR03-DB5-obe.outbound.protection.outlook.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S231380AbhKKNUp (ORCPT <rfc822;netdev@vger.kernel.org>);
        Thu, 11 Nov 2021 08:20:45 -0500
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=m7lpaKb1Kh9fzxu8N6pJO16DKKIaCKIyn1/oNl3uUwnrTYohxn1T9d5M1Ad/s2vCQpz5+u7GBZlrvSJaMTCaxKgye07ZsJeRbeyr/IJtyZb4g6kSP7aOYKYUWHc7baWmz0FFYuGdww+yvZ/zwdaGLmN7+nnWhOf2qaULvgUSTkG+HSl8vuDTStPpi+pKMGyXmm7nzEs3wseDBKkPHKNXlZwI8MxpkNpcsFd3WacqKYi+Y7silqXOIRAtMMqa48YdBjlrU/RODiu9zWLMX5kSUlyyBhTR9wTII/i0paCl6AoEXuHeq/gKaPf07BvfEOYOIpj0ueHMpEdaRjth0oyYWA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=FSIOyCFEtmgolKHyd/zd92aWW8PH6wEJ+cRgIEZCOio=;
 b=oUNj0YxoKRGE+tmQ/32jAXITsnzTtOdqe5Pdbdt0D7U8L27eOM0tHZ433HEyY5IsAwJM5fcajCVYm/9+cITRghI1tru9yNJ8S8c0NxQ1vRlguCryoAnUVLN6ddOCNyP97hnm/Yo+ceVtyVxAZFl1aRImDpun/8AaUjgOx1uW7tdNLVhY8Swz2bCAFvR6T8IrzZI3bODIYGGQalowZ1m3GkmeB98E8cCNKY9q84zQNLWviJfcccenR8lSnQHzc6rB22iSbzhhdm5zmlRfhgQxy13boRiF2FMYt0673rv0Obn3MQk/IDP+88PU39k3fwkvlXOFDWDVRgiZV7wS2o1DHg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=bang-olufsen.dk; dmarc=pass action=none
 header.from=bang-olufsen.dk; dkim=pass header.d=bang-olufsen.dk; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=bang-olufsen.dk;
 s=selector1;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=FSIOyCFEtmgolKHyd/zd92aWW8PH6wEJ+cRgIEZCOio=;
 b=UnY3dT+w4RtIFZBLDGeG06dqD7xErAP/iZ+WModlw9kqMN65v+N72XkU1rwgSsacrn3HS7TDVEHkjndZrbxOqPK0emU9+DKNYVir2yh/44ORcYE/ZsSO2U3AYTaXO/xKjmufscg7xEFaCDhAtHacnWhaxSPRl1hVY1zwNDvnLgs=
Received: from AM6PR03MB3943.eurprd03.prod.outlook.com (2603:10a6:20b:26::24)
 by AM6PR03MB3592.eurprd03.prod.outlook.com (2603:10a6:209:34::19) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.4669.18; Thu, 11 Nov
 2021 13:17:49 +0000
Received: from AM6PR03MB3943.eurprd03.prod.outlook.com
 ([fe80::5970:5e76:6869:ecc]) by AM6PR03MB3943.eurprd03.prod.outlook.com
 ([fe80::5970:5e76:6869:ecc%6]) with mapi id 15.20.4669.016; Thu, 11 Nov 2021
 13:17:49 +0000
From:   =?utf-8?B?QWx2aW4gxaBpcHJhZ2E=?= <ALSI@bang-olufsen.dk>
To:     Vladimir Oltean <vladimir.oltean@nxp.com>,
        "netdev@vger.kernel.org" <netdev@vger.kernel.org>
CC:     Florian Fainelli <f.fainelli@gmail.com>,
        Andrew Lunn <andrew@lunn.ch>,
        Vivien Didelot <vivien.didelot@gmail.com>,
        Tobias Waldekranz <tobias@waldekranz.com>,
        DENG Qingfang <dqfext@gmail.com>
Subject: Re: [RFC PATCH net-next 5/6] net: dsa: keep the bridge_dev and
 bridge_num as part of the same structure
Thread-Topic: [RFC PATCH net-next 5/6] net: dsa: keep the bridge_dev and
 bridge_num as part of the same structure
Thread-Index: AQHXyoZM912JQAFbd0WpMwcuPRpseKv+Z/+A
Date:   Thu, 11 Nov 2021 13:17:49 +0000
Message-ID: <e3932465-22dc-c93d-aeea-3e193b62bfca@bang-olufsen.dk>
References: <20211026162625.1385035-1-vladimir.oltean@nxp.com>
 <20211026162625.1385035-6-vladimir.oltean@nxp.com>
In-Reply-To: <20211026162625.1385035-6-vladimir.oltean@nxp.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
user-agent: Mozilla/5.0 (X11; Linux x86_64; rv:91.0) Gecko/20100101
 Thunderbird/91.3.0
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=bang-olufsen.dk;
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 8e3b6771-4dd0-4aca-c11e-08d9a515a919
x-ms-traffictypediagnostic: AM6PR03MB3592:
x-microsoft-antispam-prvs: <AM6PR03MB3592472342234E6D35924FFE83949@AM6PR03MB3592.eurprd03.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:268;
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: 1iaQYfQXqiMm8tei1tFmvSpCo8Qno08HaGNDVWanx6YrGHEKqLX64ccwnuP00GWKePN0gA41HP63xdG2qi/6Guge0DdrjJolWpWP7GMw5h8yKoyrT21pCAIdWP6QyqGSL4buGXzmUwQMAm7IPy9bXWtY7vXqRAkd9u8HCKfnKob5wQGgYvWjgyyg2M1YxTQvmYpSmTRbj/NVL6CRCi0Qg8g3bohLC2eIPD/6jkBa3bdXgPTNEkIff5cnzQGrvG1bNC8sor2/2OdexQi+gios6qzsz/oOZxxWQjjhs9r5mtvRFHfQWt9gd1shcnnZTiRGj68eVVHKjo628FJOvt7qghTLz0dtzanvIJNQLQVjo5VBh/htDY+INsNIH+S6T8JwQ6/cx7wtUNowuIgEgul6U2LoqPIIeUN5zvoUOry7+rZaeBfdxtAAx7pmZIkhXCj4vlDay4c9N1GtRcj5xMeRfs3RRMmffqp53f8RrOmFKl6jTcFr7v6vPQTM2M38ikUsjXHJOV44bJK4ODQjxspBOq9vV1m/mTzGtiK1Kj6Nlm7+fFsFOWB7+HSKl5E7/IlrgxN2ymuDqdmHFHu90V9+yymwkVeTGrAqdYR+cIARGO0hFV74aQ/71jETs3EtMeTCWdLRFgj7uUA2djn/JqA8NrrpZvMb1GenDMllpwovC4FMvmtxELhmHTQEcFrjhhHEdeZ3Q/9jd9wC0LuSyUCH9ErF+VXI3ELu2LAX8e2dEPWejb9yGBv4K1YfurV2bFXtLSqUVVotmK6tEJQzQL+iwA==
x-forefront-antispam-report: CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:AM6PR03MB3943.eurprd03.prod.outlook.com;PTR:;CAT:NONE;SFS:(4636009)(366004)(83380400001)(36756003)(31696002)(4326008)(6506007)(53546011)(66574015)(5660300002)(6512007)(8676002)(30864003)(2616005)(91956017)(2906002)(76116006)(186003)(6486002)(8936002)(66446008)(66946007)(66476007)(8976002)(85202003)(86362001)(31686004)(508600001)(110136005)(26005)(66556008)(64756008)(38070700005)(85182001)(54906003)(122000001)(71200400001)(38100700002)(316002)(45980500001)(43740500002)(559001)(579004);DIR:OUT;SFP:1102;
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?YSsrOFNLb3V5ckZNSXp6d3ZqbmYyNU9LS2lHY25ROFRKRWJoeGFFMXlTWW9U?=
 =?utf-8?B?dS9xUndTZDI3YWhGY0kxUVhoczJJRVpkVmNxZDFzNDBDY1FmRkErYVhVOUo2?=
 =?utf-8?B?RGpPKzhLa0hKN1A5aXRzLzhDZUxDWWNlNXUzVVh6aElCMDJpb3JUaDNHclRC?=
 =?utf-8?B?azBRUFkzWm12OVA0VE5ETjAxYkV3ZW42UERCVVpKVlBROG13YjYwTUNYOGVL?=
 =?utf-8?B?UDhrdlhKUU1UY3lRbTM5Q2djcFZ3cFpYVkZ2YXlyV1RXRmFFYUswKzI3MGZ0?=
 =?utf-8?B?QUxqVlVLdXBiWVZnc0d0bUtkTFdUV3d6cTlxOWV0QWo1dkxzNDFZVThFUDh3?=
 =?utf-8?B?UUprNmF4MzVyOUJyVHVxS1pyK0VNUko3a0d3Zk5jREJmYVFiWlBmWjV0c0tw?=
 =?utf-8?B?ZFlaajFWYW51QmdvajZXajIyTHAxa0ZVWW9mOU4wM2RzRnRyUUo0bzU1QURG?=
 =?utf-8?B?QWY4V3hBM3VmR245UlNzWlFYWS9Wa3NtaGR6aklnTDJPaEZEbWpUMTU4TEZz?=
 =?utf-8?B?YVNFRjA5RkZPdDA1VVAwaWxNR0hyUW81MllFWjZXdmN6V3RZb2hOUlJjd2dW?=
 =?utf-8?B?WC9RVHpJQk1hZ2hqY09oZlB5MG5NNE1VcEZ5bTJWQTFUUFFsZWhkdVNBcjNR?=
 =?utf-8?B?Wld1eGx5NGVGU1dsNTltN0hjVmM1UGtoUURrcTZadnVvc3lHaW1aWmh6Rmcv?=
 =?utf-8?B?MjJXRWFHUUs4NlZnUzRlUlVZZDVrT2k4NU51VXlXTFpEYWZYUjV3dUw5Y3Qw?=
 =?utf-8?B?ZDkzai9DYnVIMW1aUHJKbHZPejIra3BHK3loMUhYOHZSM1JnUFl6MCs3bkwz?=
 =?utf-8?B?YnJHaXBRYUlIQTNtUWpjV1lMSGJLSUJBLy9PMWJ4NmxFdkFHME8zOU5JUlIw?=
 =?utf-8?B?V3Y2QmhjL1JZTjIyQk9kbEl1Z2JvWTkwVUMrUnpLdzZZZEIwTFQzRTA0Yisz?=
 =?utf-8?B?OURYUFlyRHU5UkJUNXI4aHQxNTZtcWVqcGJhbWEwZ20wR0VBUy9RZnR1TW44?=
 =?utf-8?B?SGZlVHh1UFM0bVBOYjI4NURrNkF6UmZaM3paRWt6WWJVaTh4dnJBdjYrMVhh?=
 =?utf-8?B?eTJRMVpZM0p1bGQ1blhSNC8yTWhhT2FwNENoczBjUUxVVTJOYmRGekFXV201?=
 =?utf-8?B?ZmQwY25KYUQyWWd1dyt4L1kvM3hJYmE1bVV4eDN2R2lscXFCZDBYNDAxNHlK?=
 =?utf-8?B?UmtuOEdFeE9uSkZwVEN2TXZLWU8rakVkU0lnR3BPZXJIRG1YRFRCZU13V0JF?=
 =?utf-8?B?cVRleXFYVEtvZkVFMjFvMGp0ek04UUJOZDhRUkZYRFBqUXU5WlBxNVU1bkdN?=
 =?utf-8?B?WkFxMTB3YzhsWUxpQjhVOFhDc2tRazV4ZU5YM2tLLzV2aU1XWlhORTJweXpj?=
 =?utf-8?B?SkxncjdqUktuUkVSQ2hXRmdqVE8yQTB1RXZ4VFRvNUJVSXFsWGg3c1F4MkR4?=
 =?utf-8?B?Ky9PWTNhd3FiK1VaMlB2VDRQRjN2SnE4Q1puSUZ4S0JGVDRlTkNlRTd5czEv?=
 =?utf-8?B?SXFUdDF1cjRlVDhyR2hRYlRrNVJHT290NEZQR3doOGwya0d4UysvQkFkN1k3?=
 =?utf-8?B?Y0dUYm8rcjZPSVJwT09hVXF5THhFc28ycjhzTVprbjNScVlLQXMwZyt5YUxl?=
 =?utf-8?B?NVRXT2NteXlSWGQ2U1BRUHB4UE8wRWJVUEk0ZHBzNmFLajJNUDJSdkVDSmpY?=
 =?utf-8?B?YlBzYS9QQ0VEaWNQZ1o0OVNxU1czUXBuUWljNnB5Z0lua2FpM2hsakxqT1Fk?=
 =?utf-8?B?Q200L29TTlVvMkVuMEEya3JyRWoyQ0pSV1FkYXJQOXR0R2ZtZXdpUjJsL3hJ?=
 =?utf-8?B?V25mVk41UGxhZ0U0N21mZFBGenFMWHRSUTJKdUczVWlaUzYwbDJUdGpPZkVI?=
 =?utf-8?B?R3pUcVhnQjRUWGdSdDhJcXEyQ25GWnptMkRpaVhnZXV5M0lkZnovbE1jU3Rw?=
 =?utf-8?B?NjdKUlN3UjBKZDhveTFvMUZuUDNhQ0dTNHBrSWd2TkVRUlAvMTJVb1NNcWp4?=
 =?utf-8?B?WmZSL0JxbnZ1Z3FsTkRhalkvbUlpUTNaaExBenMrellBRWRObFdBT2Jidkk3?=
 =?utf-8?B?eG1GR1hTS2ViUVdhT2JNbXFzL2RTb3BoSEllM245aVhncU95OFZqejlrbDMw?=
 =?utf-8?B?MWpJTUlDQ1REaHZ5TkVaZ3I0b0hsdnU3ZGRZejYvUmJMamFkWnNIMGNucTJJ?=
 =?utf-8?Q?xHiHLzJAQ9xyLAFi1RCv3mU=3D?=
Content-Type: text/plain; charset="utf-8"
Content-ID: <A517183ECAB5E24BAAE0254D1BCECD43@eurprd03.prod.outlook.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: bang-olufsen.dk
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: AM6PR03MB3943.eurprd03.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 8e3b6771-4dd0-4aca-c11e-08d9a515a919
X-MS-Exchange-CrossTenant-originalarrivaltime: 11 Nov 2021 13:17:49.8500
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 210d08b8-83f7-470a-bc96-381193ca14a1
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: DIr9DOeO/HoIKd9LjCsQu3ysnWIATzJfbxXAErS55p/95ohBCQ3LL0TN14P2i9cGqewOGhfDTtUbNTzuKmZGug==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: AM6PR03MB3592
Precedence: bulk
List-ID: <netdev.vger.kernel.org>
X-Mailing-List: netdev@vger.kernel.org

T24gMTAvMjYvMjEgMTg6MjYsIFZsYWRpbWlyIE9sdGVhbiB3cm90ZToNCj4gVGhlIG1haW4gZGVz
aXJlIGJlaGluZCB0aGlzIGlzIHRvIHByb3ZpZGUgY29oZXJlbnQgYnJpZGdlIGluZm9ybWF0aW9u
IHRvDQo+IHRoZSBmYXN0IHBhdGggd2l0aG91dCBsb2NraW5nLg0KPiANCj4gRm9yIGV4YW1wbGUs
IHJpZ2h0IG5vdyB3ZSBzZXQgZHAtPmJyaWRnZV9kZXYgYW5kIGRwLT5icmlkZ2VfbnVtIGZyb20N
Cj4gc2VwYXJhdGUgY29kZSBwYXRocywgaXQgaXMgdGhlb3JldGljYWxseSBwb3NzaWJsZSBmb3Ig
YSBwYWNrZXQNCj4gdHJhbnNtaXNzaW9uIHRvIHJlYWQgdGhlc2UgdHdvIHBvcnQgcHJvcGVydGll
cyBjb25zZWN1dGl2ZWx5IGFuZCBmaW5kIGENCj4gYnJpZGdlIG51bWJlciB3aGljaCBkb2VzIG5v
dCBjb3JyZXNwb25kIHdpdGggdGhlIGJyaWRnZSBkZXZpY2UuDQo+IA0KPiBBbm90aGVyIGRlc2ly
ZSBpcyB0byBzdGFydCBwYXNzaW5nIG1vcmUgY29tcGxleCBicmlkZ2UgaW5mb3JtYXRpb24gdG8N
Cj4gZHNhX3N3aXRjaF9vcHMgZnVuY3Rpb25zLiBGb3IgZXhhbXBsZSwgd2l0aCBGREIgaXNvbGF0
aW9uLCBpdCBpcw0KPiBleHBlY3RlZCB0aGF0IGRyaXZlcnMgd2lsbCBuZWVkIHRvIGJlIHBhc3Nl
ZCB0aGUgYnJpZGdlIHdoaWNoIHJlcXVlc3RlZA0KPiBhbiBGREIvTURCIGVudHJ5IHRvIGJlIG9m
ZmxvYWRlZCwgYW5kIGFsb25nIHdpdGggdGhhdCBicmlkZ2VfZGV2LCB0aGUNCj4gYXNzb2NpYXRl
ZCBicmlkZ2VfbnVtIHNob3VsZCBiZSBwYXNzZWQgdG9vLCBpbiBjYXNlIHRoZSBkcml2ZXIgbWln
aHQNCj4gd2FudCB0byBpbXBsZW1lbnQgYW4gaXNvbGF0aW9uIHNjaGVtZSBiYXNlZCBvbiB0aGF0
IG51bWJlci4NCj4gDQo+IFdlIGFscmVhZHkgcGFzcyB0aGUge2JyaWRnZV9kZXYsIGJyaWRnZV9u
dW19IHBhaXIgdG8gdGhlIFRYIGZvcndhcmRpbmcNCj4gb2ZmbG9hZCBzd2l0Y2ggQVBJLCBob3dl
dmVyIHdlJ2QgbGlrZSB0byByZW1vdmUgdGhhdCBhbmQgc3F1YXNoIGl0IGludG8NCj4gdGhlIGJh
c2ljIGJyaWRnZSBqb2luL2xlYXZlIEFQSS4gU28gdGhhdCBtZWFucyB3ZSBuZWVkIHRvIHBhc3Mg
dGhpcw0KPiBwYWlyIHRvIHRoZSBicmlkZ2Ugam9pbi9sZWF2ZSBBUEkuDQo+IA0KPiBEdXJpbmcg
ZHNhX3BvcnRfYnJpZGdlX2xlYXZlLCBmaXJzdCB3ZSB1bnNldCBkcC0+YnJpZGdlX2RldiwgdGhl
biB3ZQ0KPiBjYWxsIHRoZSBkcml2ZXIncyAucG9ydF9icmlkZ2VfbGVhdmUgd2l0aCB3aGF0IHVz
ZWQgdG8gYmUgb3VyDQo+IGRwLT5icmlkZ2VfZGV2LCBidXQgcHJvdmlkZWQgYXMgYW4gYXJndW1l
bnQuDQo+IA0KPiBXaGVuIGJyaWRnZV9kZXYgYW5kIGJyaWRnZV9udW0gZ2V0IGZvbGRlZCBpbnRv
IGEgc2luZ2xlIHN0cnVjdHVyZSwgd2UNCj4gbmVlZCB0byBwcmVzZXJ2ZSB0aGlzIGJlaGF2aW9y
IGluIGRzYV9wb3J0X2JyaWRnZV9sZWF2ZTogd2UgbmVlZCBhIGNvcHkNCj4gb2Ygd2hhdCB1c2Vk
IHRvIGJlIGluIGRwLT5icmlkZ2UuDQo+IA0KPiBTd2l0Y2ggZHJpdmVycyBjaGVjayBicmlkZ2Ug
bWVtYmVyc2hpcCBieSBjb21wYXJpbmcgZHAtPmJyaWRnZV9kZXYgd2l0aA0KPiB0aGUgcHJvdmlk
ZWQgYnJpZGdlX2RldiwgYnV0IG5vdywgaWYgd2UgcHJvdmlkZSB0aGUgc3RydWN0IGRzYV9icmlk
Z2UgYXMNCj4gYSBwb2ludGVyLCB0aGV5IGNhbm5vdCBrZWVwIGNvbXBhcmluZyBkcC0+YnJpZGdl
IHRvIHRoZSBwcm92aWRlZA0KPiBwb2ludGVyLCBzaW5jZSB0aGlzIG9ubHkgcG9pbnRzIHRvIGFu
IG9uLXN0YWNrIGNvcHkuIFRvIG1ha2UgdGhpcw0KPiBvYnZpb3VzIGFuZCBwcmV2ZW50IGRyaXZl
ciB3cml0ZXJzIGZyb20gZm9yZ2V0dGluZyBhbmQgZG9pbmcgc3R1cGlkDQo+IHRoaW5ncywgaW4g
dGhpcyBuZXcgQVBJLCB0aGUgc3RydWN0IGRzYV9icmlkZ2UgaXMgcHJvdmlkZWQgYXMgYSBmdWxs
DQo+IHN0cnVjdHVyZSAobm90IHZlcnkgbGFyZ2UsIGNvbnRhaW5zIGFuIGludCBhbmQgYSBwb2lu
dGVyKSBpbnN0ZWFkIG9mIGENCj4gcG9pbnRlci4gQW4gZXhwbGljaXQgY29tcGFyaXNvbiBmdW5j
dGlvbiBuZWVkcyB0byBiZSB1c2VkIHRvIGRldGVybWluZQ0KPiBicmlkZ2UgbWVtYmVyc2hpcDog
ZHNhX3BvcnRfb2ZmbG9hZHNfYnJpZGdlKCkuDQo+IA0KPiBTaWduZWQtb2ZmLWJ5OiBWbGFkaW1p
ciBPbHRlYW4gPHZsYWRpbWlyLm9sdGVhbkBueHAuY29tPg0KPiAtLS0NCg0KSnVzdCBvbmUgc3Vn
Z2VzdGlvbiBkb3duIGJlbG93LCBidXQgdGhpcyBsb29rcyBmaW5lIGVpdGhlciB3YXkuDQoNClJl
dmlld2VkLWJ5OiBBbHZpbiDFoGlwcmFnYSA8YWxzaUBiYW5nLW9sdWZzZW4uZGs+DQoNCj4gICBk
cml2ZXJzL25ldC9kc2EvYjUzL2I1M19jb21tb24uYyAgICAgICB8ICA4ICstLQ0KPiAgIGRyaXZl
cnMvbmV0L2RzYS9iNTMvYjUzX3ByaXYuaCAgICAgICAgIHwgIDQgKy0NCj4gICBkcml2ZXJzL25l
dC9kc2EvZHNhX2xvb3AuYyAgICAgICAgICAgICB8ICA4ICstLQ0KPiAgIGRyaXZlcnMvbmV0L2Rz
YS9oaXJzY2htYW5uL2hlbGxjcmVlay5jIHwgIDQgKy0NCj4gICBkcml2ZXJzL25ldC9kc2EvbGFu
OTMwMy1jb3JlLmMgICAgICAgICB8ICA0ICstDQo+ICAgZHJpdmVycy9uZXQvZHNhL2xhbnRpcV9n
c3dpcC5jICAgICAgICAgfCAxNCArKystLQ0KPiAgIGRyaXZlcnMvbmV0L2RzYS9taWNyb2NoaXAv
a3N6X2NvbW1vbi5jIHwgIDQgKy0NCj4gICBkcml2ZXJzL25ldC9kc2EvbWljcm9jaGlwL2tzel9j
b21tb24uaCB8ICA0ICstDQo+ICAgZHJpdmVycy9uZXQvZHNhL210NzUzMC5jICAgICAgICAgICAg
ICAgfCAgOCArLS0NCj4gICBkcml2ZXJzL25ldC9kc2EvbXY4OGU2eHh4L2NoaXAuYyAgICAgICB8
IDI2ICsrKystLS0tLQ0KPiAgIGRyaXZlcnMvbmV0L2RzYS9vY2Vsb3QvZmVsaXguYyAgICAgICAg
IHwgIDggKy0tDQo+ICAgZHJpdmVycy9uZXQvZHNhL3FjYThrLmMgICAgICAgICAgICAgICAgfCAx
MiArKy0tDQo+ICAgZHJpdmVycy9uZXQvZHNhL3J0bDgzNjZyYi5jICAgICAgICAgICAgfCAgOCAr
LS0NCj4gICBkcml2ZXJzL25ldC9kc2Evc2phMTEwNS9zamExMTA1X21haW4uYyB8IDEyICsrLS0N
Cj4gICBkcml2ZXJzL25ldC9kc2EveHJzNzAweC94cnM3MDB4LmMgICAgICB8IDEwICsrLS0NCj4g
ICBpbmNsdWRlL2xpbnV4L2RzYS84MDIxcS5oICAgICAgICAgICAgICB8ICA3ICstLQ0KPiAgIGlu
Y2x1ZGUvbmV0L2RzYS5oICAgICAgICAgICAgICAgICAgICAgIHwgNzcgKysrKysrKysrKysrKysr
KysrKysrLS0tLS0NCj4gICBuZXQvZHNhL2RzYTIuYyAgICAgICAgICAgICAgICAgICAgICAgICB8
IDM1ICsrKysrKysrLS0tLQ0KPiAgIG5ldC9kc2EvZHNhX3ByaXYuaCAgICAgICAgICAgICAgICAg
ICAgIHwgNTMgKystLS0tLS0tLS0tLS0tLS0tDQo+ICAgbmV0L2RzYS9wb3J0LmMgICAgICAgICAg
ICAgICAgICAgICAgICAgfCA2OSArKysrKysrKysrKystLS0tLS0tLS0tLQ0KPiAgIG5ldC9kc2Ev
c2xhdmUuYyAgICAgICAgICAgICAgICAgICAgICAgIHwgIDIgKy0NCj4gICBuZXQvZHNhL3N3aXRj
aC5jICAgICAgICAgICAgICAgICAgICAgICB8IDEzICsrKy0tDQo+ICAgbmV0L2RzYS90YWdfODAy
MXEuYyAgICAgICAgICAgICAgICAgICAgfCAxMiArKy0tDQo+ICAgMjMgZmlsZXMgY2hhbmdlZCwg
MjE1IGluc2VydGlvbnMoKyksIDE4NyBkZWxldGlvbnMoLSkNCj4gDQo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL25ldC9kc2EvYjUzL2I1M19jb21tb24uYyBiL2RyaXZlcnMvbmV0L2RzYS9iNTMvYjUz
X2NvbW1vbi5jDQo+IGluZGV4IGQ1ZTc4ZjUxZjQyZC4uNGU0MWIxYTYzMTA4IDEwMDY0NA0KPiAt
LS0gYS9kcml2ZXJzL25ldC9kc2EvYjUzL2I1M19jb21tb24uYw0KPiArKysgYi9kcml2ZXJzL25l
dC9kc2EvYjUzL2I1M19jb21tb24uYw0KPiBAQCAtMTg2MCw3ICsxODYwLDcgQEAgaW50IGI1M19t
ZGJfZGVsKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsDQo+ICAgfQ0KPiAgIEVYUE9S
VF9TWU1CT0woYjUzX21kYl9kZWwpOw0KPiAgIA0KPiAtaW50IGI1M19icl9qb2luKHN0cnVjdCBk
c2Ffc3dpdGNoICpkcywgaW50IHBvcnQsIHN0cnVjdCBuZXRfZGV2aWNlICpicikNCj4gK2ludCBi
NTNfYnJfam9pbihzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LCBzdHJ1Y3QgZHNhX2Jy
aWRnZSBicmlkZ2UpDQo+ICAgew0KPiAgIAlzdHJ1Y3QgYjUzX2RldmljZSAqZGV2ID0gZHMtPnBy
aXY7DQo+ICAgCXM4IGNwdV9wb3J0ID0gZHNhX3RvX3BvcnQoZHMsIHBvcnQpLT5jcHVfZHAtPmlu
ZGV4Ow0KPiBAQCAtMTg4Nyw3ICsxODg3LDcgQEAgaW50IGI1M19icl9qb2luKHN0cnVjdCBkc2Ff
c3dpdGNoICpkcywgaW50IHBvcnQsIHN0cnVjdCBuZXRfZGV2aWNlICpicikNCj4gICAJYjUzX3Jl
YWQxNihkZXYsIEI1M19QVkxBTl9QQUdFLCBCNTNfUFZMQU5fUE9SVF9NQVNLKHBvcnQpLCAmcHZs
YW4pOw0KPiAgIA0KPiAgIAliNTNfZm9yX2VhY2hfcG9ydChkZXYsIGkpIHsNCj4gLQkJaWYgKGRz
YV9wb3J0X2JyaWRnZV9kZXZfZ2V0KGRzYV90b19wb3J0KGRzLCBpKSkgIT0gYnIpDQo+ICsJCWlm
ICghZHNhX3BvcnRfb2ZmbG9hZHNfYnJpZGdlKGRzYV90b19wb3J0KGRzLCBpKSwgJmJyaWRnZSkp
DQo+ICAgCQkJY29udGludWU7DQo+ICAgDQo+ICAgCQkvKiBBZGQgdGhpcyBsb2NhbCBwb3J0IHRv
IHRoZSByZW1vdGUgcG9ydCBWTEFOIGNvbnRyb2wNCj4gQEAgLTE5MTEsNyArMTkxMSw3IEBAIGlu
dCBiNTNfYnJfam9pbihzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LCBzdHJ1Y3QgbmV0
X2RldmljZSAqYnIpDQo+ICAgfQ0KPiAgIEVYUE9SVF9TWU1CT0woYjUzX2JyX2pvaW4pOw0KPiAg
IA0KPiAtdm9pZCBiNTNfYnJfbGVhdmUoc3RydWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwg
c3RydWN0IG5ldF9kZXZpY2UgKmJyKQ0KPiArdm9pZCBiNTNfYnJfbGVhdmUoc3RydWN0IGRzYV9z
d2l0Y2ggKmRzLCBpbnQgcG9ydCwgc3RydWN0IGRzYV9icmlkZ2UgYnJpZGdlKQ0KPiAgIHsNCj4g
ICAJc3RydWN0IGI1M19kZXZpY2UgKmRldiA9IGRzLT5wcml2Ow0KPiAgIAlzdHJ1Y3QgYjUzX3Zs
YW4gKnZsID0gJmRldi0+dmxhbnNbMF07DQo+IEBAIC0xOTIzLDcgKzE5MjMsNyBAQCB2b2lkIGI1
M19icl9sZWF2ZShzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LCBzdHJ1Y3QgbmV0X2Rl
dmljZSAqYnIpDQo+ICAgDQo+ICAgCWI1M19mb3JfZWFjaF9wb3J0KGRldiwgaSkgew0KPiAgIAkJ
LyogRG9uJ3QgdG91Y2ggdGhlIHJlbWFpbmluZyBwb3J0cyAqLw0KPiAtCQlpZiAoZHNhX3BvcnRf
YnJpZGdlX2Rldl9nZXQoZHNhX3RvX3BvcnQoZHMsIGkpKSAhPSBicikNCj4gKwkJaWYgKCFkc2Ff
cG9ydF9vZmZsb2Fkc19icmlkZ2UoZHNhX3RvX3BvcnQoZHMsIGkpLCAmYnJpZGdlKSkNCj4gICAJ
CQljb250aW51ZTsNCj4gICANCj4gICAJCWI1M19yZWFkMTYoZGV2LCBCNTNfUFZMQU5fUEFHRSwg
QjUzX1BWTEFOX1BPUlRfTUFTSyhpKSwgJnJlZyk7DQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL25l
dC9kc2EvYjUzL2I1M19wcml2LmggYi9kcml2ZXJzL25ldC9kc2EvYjUzL2I1M19wcml2LmgNCj4g
aW5kZXggNTc5ZGE3NGFkYTY0Li5lZTE3ZjhiNTE2Y2EgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMv
bmV0L2RzYS9iNTMvYjUzX3ByaXYuaA0KPiArKysgYi9kcml2ZXJzL25ldC9kc2EvYjUzL2I1M19w
cml2LmgNCj4gQEAgLTMyNCw4ICszMjQsOCBAQCB2b2lkIGI1M19nZXRfc3RyaW5ncyhzdHJ1Y3Qg
ZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LCB1MzIgc3RyaW5nc2V0LA0KPiAgIHZvaWQgYjUzX2dl
dF9ldGh0b29sX3N0YXRzKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsIHVpbnQ2NF90
ICpkYXRhKTsNCj4gICBpbnQgYjUzX2dldF9zc2V0X2NvdW50KHN0cnVjdCBkc2Ffc3dpdGNoICpk
cywgaW50IHBvcnQsIGludCBzc2V0KTsNCj4gICB2b2lkIGI1M19nZXRfZXRodG9vbF9waHlfc3Rh
dHMoc3RydWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwgdWludDY0X3QgKmRhdGEpOw0KPiAt
aW50IGI1M19icl9qb2luKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsIHN0cnVjdCBu
ZXRfZGV2aWNlICpicmlkZ2UpOw0KPiAtdm9pZCBiNTNfYnJfbGVhdmUoc3RydWN0IGRzYV9zd2l0
Y2ggKmRzLCBpbnQgcG9ydCwgc3RydWN0IG5ldF9kZXZpY2UgKmJyaWRnZSk7DQo+ICtpbnQgYjUz
X2JyX2pvaW4oc3RydWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwgc3RydWN0IGRzYV9icmlk
Z2UgYnJpZGdlKTsNCj4gK3ZvaWQgYjUzX2JyX2xlYXZlKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywg
aW50IHBvcnQsIHN0cnVjdCBkc2FfYnJpZGdlIGJyaWRnZSk7DQo+ICAgdm9pZCBiNTNfYnJfc2V0
X3N0cF9zdGF0ZShzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LCB1OCBzdGF0ZSk7DQo+
ICAgdm9pZCBiNTNfYnJfZmFzdF9hZ2Uoc3RydWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCk7
DQo+ICAgaW50IGI1M19icl9mbGFnc19wcmUoc3RydWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9y
dCwNCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvbmV0L2RzYS9kc2FfbG9vcC5jIGIvZHJpdmVycy9u
ZXQvZHNhL2RzYV9sb29wLmMNCj4gaW5kZXggZTYzOGUzZWVhOTExLi43MGRiM2E5YWEzNTUgMTAw
NjQ0DQo+IC0tLSBhL2RyaXZlcnMvbmV0L2RzYS9kc2FfbG9vcC5jDQo+ICsrKyBiL2RyaXZlcnMv
bmV0L2RzYS9kc2FfbG9vcC5jDQo+IEBAIC0xNjcsMTkgKzE2NywxOSBAQCBzdGF0aWMgaW50IGRz
YV9sb29wX3BoeV93cml0ZShzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LA0KPiAgIH0N
Cj4gICANCj4gICBzdGF0aWMgaW50IGRzYV9sb29wX3BvcnRfYnJpZGdlX2pvaW4oc3RydWN0IGRz
YV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwNCj4gLQkJCQkgICAgIHN0cnVjdCBuZXRfZGV2aWNlICpi
cmlkZ2UpDQo+ICsJCQkJICAgICBzdHJ1Y3QgZHNhX2JyaWRnZSBicmlkZ2UpDQo+ICAgew0KPiAg
IAlkZXZfZGJnKGRzLT5kZXYsICIlczogcG9ydDogJWQsIGJyaWRnZTogJXNcbiIsDQo+IC0JCV9f
ZnVuY19fLCBwb3J0LCBicmlkZ2UtPm5hbWUpOw0KPiArCQlfX2Z1bmNfXywgcG9ydCwgYnJpZGdl
LmRldi0+bmFtZSk7DQo+ICAgDQo+ICAgCXJldHVybiAwOw0KPiAgIH0NCj4gICANCj4gICBzdGF0
aWMgdm9pZCBkc2FfbG9vcF9wb3J0X2JyaWRnZV9sZWF2ZShzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMs
IGludCBwb3J0LA0KPiAtCQkJCSAgICAgICBzdHJ1Y3QgbmV0X2RldmljZSAqYnJpZGdlKQ0KPiAr
CQkJCSAgICAgICBzdHJ1Y3QgZHNhX2JyaWRnZSBicmlkZ2UpDQo+ICAgew0KPiAgIAlkZXZfZGJn
KGRzLT5kZXYsICIlczogcG9ydDogJWQsIGJyaWRnZTogJXNcbiIsDQo+IC0JCV9fZnVuY19fLCBw
b3J0LCBicmlkZ2UtPm5hbWUpOw0KPiArCQlfX2Z1bmNfXywgcG9ydCwgYnJpZGdlLmRldi0+bmFt
ZSk7DQo+ICAgfQ0KPiAgIA0KPiAgIHN0YXRpYyB2b2lkIGRzYV9sb29wX3BvcnRfc3RwX3N0YXRl
X3NldChzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LA0KPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9uZXQvZHNhL2hpcnNjaG1hbm4vaGVsbGNyZWVrLmMgYi9kcml2ZXJzL25ldC9kc2EvaGly
c2NobWFubi9oZWxsY3JlZWsuYw0KPiBpbmRleCA0ZTBiNTNkOTRiNTIuLjE3YzJkMTM2NzBhOSAx
MDA2NDQNCj4gLS0tIGEvZHJpdmVycy9uZXQvZHNhL2hpcnNjaG1hbm4vaGVsbGNyZWVrLmMNCj4g
KysrIGIvZHJpdmVycy9uZXQvZHNhL2hpcnNjaG1hbm4vaGVsbGNyZWVrLmMNCj4gQEAgLTY3NCw3
ICs2NzQsNyBAQCBzdGF0aWMgaW50IGhlbGxjcmVla19icmlkZ2VfZmxhZ3Moc3RydWN0IGRzYV9z
d2l0Y2ggKmRzLCBpbnQgcG9ydCwNCj4gICB9DQo+ICAgDQo+ICAgc3RhdGljIGludCBoZWxsY3Jl
ZWtfcG9ydF9icmlkZ2Vfam9pbihzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LA0KPiAt
CQkJCSAgICAgIHN0cnVjdCBuZXRfZGV2aWNlICpicikNCj4gKwkJCQkgICAgICBzdHJ1Y3QgZHNh
X2JyaWRnZSBicmlkZ2UpDQo+ICAgew0KPiAgIAlzdHJ1Y3QgaGVsbGNyZWVrICpoZWxsY3JlZWsg
PSBkcy0+cHJpdjsNCj4gICANCj4gQEAgLTY5MSw3ICs2OTEsNyBAQCBzdGF0aWMgaW50IGhlbGxj
cmVla19wb3J0X2JyaWRnZV9qb2luKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsDQo+
ICAgfQ0KPiAgIA0KPiAgIHN0YXRpYyB2b2lkIGhlbGxjcmVla19wb3J0X2JyaWRnZV9sZWF2ZShz
dHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LA0KPiAtCQkJCQlzdHJ1Y3QgbmV0X2Rldmlj
ZSAqYnIpDQo+ICsJCQkJCXN0cnVjdCBkc2FfYnJpZGdlIGJyaWRnZSkNCj4gICB7DQo+ICAgCXN0
cnVjdCBoZWxsY3JlZWsgKmhlbGxjcmVlayA9IGRzLT5wcml2Ow0KPiAgIA0KPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9uZXQvZHNhL2xhbjkzMDMtY29yZS5jIGIvZHJpdmVycy9uZXQvZHNhL2xhbjkz
MDMtY29yZS5jDQo+IGluZGV4IDFjMmJkY2RlNjk3OS4uMjlkOTA5NDg0Mjc1IDEwMDY0NA0KPiAt
LS0gYS9kcml2ZXJzL25ldC9kc2EvbGFuOTMwMy1jb3JlLmMNCj4gKysrIGIvZHJpdmVycy9uZXQv
ZHNhL2xhbjkzMDMtY29yZS5jDQo+IEBAIC0xMTAzLDcgKzExMDMsNyBAQCBzdGF0aWMgdm9pZCBs
YW45MzAzX3BvcnRfZGlzYWJsZShzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0KQ0KPiAg
IH0NCj4gICANCj4gICBzdGF0aWMgaW50IGxhbjkzMDNfcG9ydF9icmlkZ2Vfam9pbihzdHJ1Y3Qg
ZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LA0KPiAtCQkJCSAgICBzdHJ1Y3QgbmV0X2RldmljZSAq
YnIpDQo+ICsJCQkJICAgIHN0cnVjdCBkc2FfYnJpZGdlIGJyaWRnZSkNCj4gICB7DQo+ICAgCXN0
cnVjdCBsYW45MzAzICpjaGlwID0gZHMtPnByaXY7DQo+ICAgDQo+IEBAIC0xMTE3LDcgKzExMTcs
NyBAQCBzdGF0aWMgaW50IGxhbjkzMDNfcG9ydF9icmlkZ2Vfam9pbihzdHJ1Y3QgZHNhX3N3aXRj
aCAqZHMsIGludCBwb3J0LA0KPiAgIH0NCj4gICANCj4gICBzdGF0aWMgdm9pZCBsYW45MzAzX3Bv
cnRfYnJpZGdlX2xlYXZlKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsDQo+IC0JCQkJ
ICAgICAgc3RydWN0IG5ldF9kZXZpY2UgKmJyKQ0KPiArCQkJCSAgICAgIHN0cnVjdCBkc2FfYnJp
ZGdlIGJyaWRnZSkNCj4gICB7DQo+ICAgCXN0cnVjdCBsYW45MzAzICpjaGlwID0gZHMtPnByaXY7
DQo+ICAgDQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC9kc2EvbGFudGlxX2dzd2lwLmMgYi9k
cml2ZXJzL25ldC9kc2EvbGFudGlxX2dzd2lwLmMNCj4gaW5kZXggYzYwYjFlZWYzNTQ1Li42Yjli
OWM3MTJlNTggMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvbmV0L2RzYS9sYW50aXFfZ3N3aXAuYw0K
PiArKysgYi9kcml2ZXJzL25ldC9kc2EvbGFudGlxX2dzd2lwLmMNCj4gQEAgLTExNDYsMTYgKzEx
NDYsMTcgQEAgc3RhdGljIGludCBnc3dpcF92bGFuX3JlbW92ZShzdHJ1Y3QgZ3N3aXBfcHJpdiAq
cHJpdiwNCj4gICB9DQo+ICAgDQo+ICAgc3RhdGljIGludCBnc3dpcF9wb3J0X2JyaWRnZV9qb2lu
KHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsDQo+IC0JCQkJICBzdHJ1Y3QgbmV0X2Rl
dmljZSAqYnJpZGdlKQ0KPiArCQkJCSAgc3RydWN0IGRzYV9icmlkZ2UgYnJpZGdlKQ0KPiAgIHsN
Cj4gKwlzdHJ1Y3QgbmV0X2RldmljZSAqYnIgPSBicmlkZ2UuZGV2Ow0KPiAgIAlzdHJ1Y3QgZ3N3
aXBfcHJpdiAqcHJpdiA9IGRzLT5wcml2Ow0KPiAgIAlpbnQgZXJyOw0KPiAgIA0KPiAgIAkvKiBX
aGVuIHRoZSBicmlkZ2UgdXNlcyBWTEFOIGZpbHRlcmluZyB3ZSBoYXZlIHRvIGNvbmZpZ3VyZSBW
TEFODQo+ICAgCSAqIHNwZWNpZmljIGJyaWRnZXMuIE5vIGJyaWRnZSBpcyBjb25maWd1cmVkIGhl
cmUuDQo+ICAgCSAqLw0KPiAtCWlmICghYnJfdmxhbl9lbmFibGVkKGJyaWRnZSkpIHsNCj4gLQkJ
ZXJyID0gZ3N3aXBfdmxhbl9hZGRfdW5hd2FyZShwcml2LCBicmlkZ2UsIHBvcnQpOw0KPiArCWlm
ICghYnJfdmxhbl9lbmFibGVkKGJyKSkgew0KPiArCQllcnIgPSBnc3dpcF92bGFuX2FkZF91bmF3
YXJlKHByaXYsIGJyLCBwb3J0KTsNCj4gICAJCWlmIChlcnIpDQo+ICAgCQkJcmV0dXJuIGVycjsN
Cj4gICAJCXByaXYtPnBvcnRfdmxhbl9maWx0ZXIgJj0gfkJJVChwb3J0KTsNCj4gQEAgLTExNjYs
OCArMTE2Nyw5IEBAIHN0YXRpYyBpbnQgZ3N3aXBfcG9ydF9icmlkZ2Vfam9pbihzdHJ1Y3QgZHNh
X3N3aXRjaCAqZHMsIGludCBwb3J0LA0KPiAgIH0NCj4gICANCj4gICBzdGF0aWMgdm9pZCBnc3dp
cF9wb3J0X2JyaWRnZV9sZWF2ZShzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LA0KPiAt
CQkJCSAgICBzdHJ1Y3QgbmV0X2RldmljZSAqYnJpZGdlKQ0KPiArCQkJCSAgICBzdHJ1Y3QgZHNh
X2JyaWRnZSBicmlkZ2UpDQo+ICAgew0KPiArCXN0cnVjdCBuZXRfZGV2aWNlICpiciA9IGJyaWRn
ZS5kZXY7DQo+ICAgCXN0cnVjdCBnc3dpcF9wcml2ICpwcml2ID0gZHMtPnByaXY7DQo+ICAgDQo+
ICAgCWdzd2lwX2FkZF9zaW5nbGVfcG9ydF9icihwcml2LCBwb3J0LCB0cnVlKTsNCj4gQEAgLTEx
NzUsOCArMTE3Nyw4IEBAIHN0YXRpYyB2b2lkIGdzd2lwX3BvcnRfYnJpZGdlX2xlYXZlKHN0cnVj
dCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsDQo+ICAgCS8qIFdoZW4gdGhlIGJyaWRnZSB1c2Vz
IFZMQU4gZmlsdGVyaW5nIHdlIGhhdmUgdG8gY29uZmlndXJlIFZMQU4NCj4gICAJICogc3BlY2lm
aWMgYnJpZGdlcy4gTm8gYnJpZGdlIGlzIGNvbmZpZ3VyZWQgaGVyZS4NCj4gICAJICovDQo+IC0J
aWYgKCFicl92bGFuX2VuYWJsZWQoYnJpZGdlKSkNCj4gLQkJZ3N3aXBfdmxhbl9yZW1vdmUocHJp
diwgYnJpZGdlLCBwb3J0LCAwLCB0cnVlLCBmYWxzZSk7DQo+ICsJaWYgKCFicl92bGFuX2VuYWJs
ZWQoYnIpKQ0KPiArCQlnc3dpcF92bGFuX3JlbW92ZShwcml2LCBiciwgcG9ydCwgMCwgdHJ1ZSwg
ZmFsc2UpOw0KPiAgIH0NCj4gICANCj4gICBzdGF0aWMgaW50IGdzd2lwX3BvcnRfdmxhbl9wcmVw
YXJlKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsDQo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL25ldC9kc2EvbWljcm9jaGlwL2tzel9jb21tb24uYyBiL2RyaXZlcnMvbmV0L2RzYS9taWNy
b2NoaXAva3N6X2NvbW1vbi5jDQo+IGluZGV4IDdjMjk2OGE2MzllYi4uMjM3ODRkMTRhNWRhIDEw
MDY0NA0KPiAtLS0gYS9kcml2ZXJzL25ldC9kc2EvbWljcm9jaGlwL2tzel9jb21tb24uYw0KPiAr
KysgYi9kcml2ZXJzL25ldC9kc2EvbWljcm9jaGlwL2tzel9jb21tb24uYw0KPiBAQCAtMTczLDcg
KzE3Myw3IEBAIHZvaWQga3N6X2dldF9ldGh0b29sX3N0YXRzKHN0cnVjdCBkc2Ffc3dpdGNoICpk
cywgaW50IHBvcnQsIHVpbnQ2NF90ICpidWYpDQo+ICAgRVhQT1JUX1NZTUJPTF9HUEwoa3N6X2dl
dF9ldGh0b29sX3N0YXRzKTsNCj4gICANCj4gICBpbnQga3N6X3BvcnRfYnJpZGdlX2pvaW4oc3Ry
dWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwNCj4gLQkJCSBzdHJ1Y3QgbmV0X2RldmljZSAq
YnIpDQo+ICsJCQkgc3RydWN0IGRzYV9icmlkZ2UgYnJpZGdlKQ0KPiAgIHsNCj4gICAJc3RydWN0
IGtzel9kZXZpY2UgKmRldiA9IGRzLT5wcml2Ow0KPiAgIA0KPiBAQCAtMTkwLDcgKzE5MCw3IEBA
IGludCBrc3pfcG9ydF9icmlkZ2Vfam9pbihzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0
LA0KPiAgIEVYUE9SVF9TWU1CT0xfR1BMKGtzel9wb3J0X2JyaWRnZV9qb2luKTsNCj4gICANCj4g
ICB2b2lkIGtzel9wb3J0X2JyaWRnZV9sZWF2ZShzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBw
b3J0LA0KPiAtCQkJICAgc3RydWN0IG5ldF9kZXZpY2UgKmJyKQ0KPiArCQkJICAgc3RydWN0IGRz
YV9icmlkZ2UgYnJpZGdlKQ0KPiAgIHsNCj4gICAJc3RydWN0IGtzel9kZXZpY2UgKmRldiA9IGRz
LT5wcml2Ow0KPiAgIA0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvZHNhL21pY3JvY2hpcC9r
c3pfY29tbW9uLmggYi9kcml2ZXJzL25ldC9kc2EvbWljcm9jaGlwL2tzel9jb21tb24uaA0KPiBp
bmRleCAxNTk3YzYzOTg4YjQuLmRmOTUzYzJiYzU2ZSAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9u
ZXQvZHNhL21pY3JvY2hpcC9rc3pfY29tbW9uLmgNCj4gKysrIGIvZHJpdmVycy9uZXQvZHNhL21p
Y3JvY2hpcC9rc3pfY29tbW9uLmgNCj4gQEAgLTE1OSw5ICsxNTksOSBAQCB2b2lkIGtzel9tYWNf
bGlua19kb3duKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsIHVuc2lnbmVkIGludCBt
b2RlLA0KPiAgIGludCBrc3pfc3NldF9jb3VudChzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBw
b3J0LCBpbnQgc3NldCk7DQo+ICAgdm9pZCBrc3pfZ2V0X2V0aHRvb2xfc3RhdHMoc3RydWN0IGRz
YV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwgdWludDY0X3QgKmJ1Zik7DQo+ICAgaW50IGtzel9wb3J0
X2JyaWRnZV9qb2luKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsDQo+IC0JCQkgc3Ry
dWN0IG5ldF9kZXZpY2UgKmJyKTsNCj4gKwkJCSBzdHJ1Y3QgZHNhX2JyaWRnZSBicmlkZ2UpOw0K
PiAgIHZvaWQga3N6X3BvcnRfYnJpZGdlX2xlYXZlKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50
IHBvcnQsDQo+IC0JCQkgICBzdHJ1Y3QgbmV0X2RldmljZSAqYnIpOw0KPiArCQkJICAgc3RydWN0
IGRzYV9icmlkZ2UgYnJpZGdlKTsNCj4gICB2b2lkIGtzel9wb3J0X2Zhc3RfYWdlKHN0cnVjdCBk
c2Ffc3dpdGNoICpkcywgaW50IHBvcnQpOw0KPiAgIGludCBrc3pfcG9ydF9mZGJfZHVtcChzdHJ1
Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LCBkc2FfZmRiX2R1bXBfY2JfdCAqY2IsDQo+ICAg
CQkgICAgICB2b2lkICpkYXRhKTsNCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvbmV0L2RzYS9tdDc1
MzAuYyBiL2RyaXZlcnMvbmV0L2RzYS9tdDc1MzAuYw0KPiBpbmRleCA3OWJkZTI2M2IwNmYuLjg1
Y2M1YWNhN2Y5NiAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9uZXQvZHNhL210NzUzMC5jDQo+ICsr
KyBiL2RyaXZlcnMvbmV0L2RzYS9tdDc1MzAuYw0KPiBAQCAtMTE4Niw3ICsxMTg2LDcgQEAgbXQ3
NTMwX3BvcnRfYnJpZGdlX2ZsYWdzKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsDQo+
ICAgDQo+ICAgc3RhdGljIGludA0KPiAgIG10NzUzMF9wb3J0X2JyaWRnZV9qb2luKHN0cnVjdCBk
c2Ffc3dpdGNoICpkcywgaW50IHBvcnQsDQo+IC0JCQlzdHJ1Y3QgbmV0X2RldmljZSAqYnJpZGdl
KQ0KPiArCQkJc3RydWN0IGRzYV9icmlkZ2UgYnJpZGdlKQ0KPiAgIHsNCj4gICAJc3RydWN0IG10
NzUzMF9wcml2ICpwcml2ID0gZHMtPnByaXY7DQo+ICAgCXUzMiBwb3J0X2JpdG1hcCA9IEJJVChN
VDc1MzBfQ1BVX1BPUlQpOw0KPiBAQCAtMTIwMiw3ICsxMjAyLDcgQEAgbXQ3NTMwX3BvcnRfYnJp
ZGdlX2pvaW4oc3RydWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwNCj4gICAJCSAqIGFuZCBu
b3QgYmVpbmcgc2V0dXAgdW50aWwgdGhlIHBvcnQgYmVjb21lcyBlbmFibGVkLg0KPiAgIAkJICov
DQo+ICAgCQlpZiAoZHNhX3BvcnRfaXNfdXNlcihvdGhlcl9kcCkgJiYgaSAhPSBwb3J0KSB7DQo+
IC0JCQlpZiAoZHNhX3BvcnRfYnJpZGdlX2Rldl9nZXQob3RoZXJfZHApICE9IGJyaWRnZSkNCj4g
KwkJCWlmICghZHNhX3BvcnRfb2ZmbG9hZHNfYnJpZGdlKG90aGVyX2RwLCAmYnJpZGdlKSkNCj4g
ICAJCQkJY29udGludWU7DQo+ICAgCQkJaWYgKHByaXYtPnBvcnRzW2ldLmVuYWJsZSkNCj4gICAJ
CQkJbXQ3NTMwX3NldChwcml2LCBNVDc1MzBfUENSX1AoaSksDQo+IEBAIC0xMzAxLDcgKzEzMDEs
NyBAQCBtdDc1MzBfcG9ydF9zZXRfdmxhbl9hd2FyZShzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGlu
dCBwb3J0KQ0KPiAgIA0KPiAgIHN0YXRpYyB2b2lkDQo+ICAgbXQ3NTMwX3BvcnRfYnJpZGdlX2xl
YXZlKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsDQo+IC0JCQkgc3RydWN0IG5ldF9k
ZXZpY2UgKmJyaWRnZSkNCj4gKwkJCSBzdHJ1Y3QgZHNhX2JyaWRnZSBicmlkZ2UpDQo+ICAgew0K
PiAgIAlzdHJ1Y3QgbXQ3NTMwX3ByaXYgKnByaXYgPSBkcy0+cHJpdjsNCj4gICAJaW50IGk7DQo+
IEBAIC0xMzE2LDcgKzEzMTYsNyBAQCBtdDc1MzBfcG9ydF9icmlkZ2VfbGVhdmUoc3RydWN0IGRz
YV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwNCj4gICAJCSAqIGlzIGtlcHQgYW5kIG5vdCBiZWluZyBz
ZXR1cCB1bnRpbCB0aGUgcG9ydCBiZWNvbWVzIGVuYWJsZWQuDQo+ICAgCQkgKi8NCj4gICAJCWlm
IChkc2FfcG9ydF9pc191c2VyKG90aGVyX2RwKSAmJiBpICE9IHBvcnQpIHsNCj4gLQkJCWlmIChk
c2FfcG9ydF9icmlkZ2VfZGV2X2dldChvdGhlcl9kcCkgIT0gYnJpZGdlKQ0KPiArCQkJaWYgKCFk
c2FfcG9ydF9vZmZsb2Fkc19icmlkZ2Uob3RoZXJfZHAsICZicmlkZ2UpKQ0KPiAgIAkJCQljb250
aW51ZTsNCj4gICAJCQlpZiAocHJpdi0+cG9ydHNbaV0uZW5hYmxlKQ0KPiAgIAkJCQltdDc1MzBf
Y2xlYXIocHJpdiwgTVQ3NTMwX1BDUl9QKGkpLA0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQv
ZHNhL212ODhlNnh4eC9jaGlwLmMgYi9kcml2ZXJzL25ldC9kc2EvbXY4OGU2eHh4L2NoaXAuYw0K
PiBpbmRleCBiNzZjZTQ0MjNlYTguLjczNjEzYTY2N2Y2YyAxMDA2NDQNCj4gLS0tIGEvZHJpdmVy
cy9uZXQvZHNhL212ODhlNnh4eC9jaGlwLmMNCj4gKysrIGIvZHJpdmVycy9uZXQvZHNhL212ODhl
Nnh4eC9jaGlwLmMNCj4gQEAgLTI0MTcsNyArMjQxNyw3IEBAIHN0YXRpYyBpbnQgbXY4OGU2eHh4
X3BvcnRfZmRiX2R1bXAoc3RydWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwNCj4gICB9DQo+
ICAgDQo+ICAgc3RhdGljIGludCBtdjg4ZTZ4eHhfYnJpZGdlX21hcChzdHJ1Y3QgbXY4OGU2eHh4
X2NoaXAgKmNoaXAsDQo+IC0JCQkJc3RydWN0IG5ldF9kZXZpY2UgKmJyKQ0KPiArCQkJCXN0cnVj
dCBkc2FfYnJpZGdlIGJyaWRnZSkNCj4gICB7DQo+ICAgCXN0cnVjdCBkc2Ffc3dpdGNoICpkcyA9
IGNoaXAtPmRzOw0KPiAgIAlzdHJ1Y3QgZHNhX3N3aXRjaF90cmVlICpkc3QgPSBkcy0+ZHN0Ow0K
PiBAQCAtMjQyNSw3ICsyNDI1LDcgQEAgc3RhdGljIGludCBtdjg4ZTZ4eHhfYnJpZGdlX21hcChz
dHJ1Y3QgbXY4OGU2eHh4X2NoaXAgKmNoaXAsDQo+ICAgCWludCBlcnI7DQo+ICAgDQo+ICAgCWxp
c3RfZm9yX2VhY2hfZW50cnkoZHAsICZkc3QtPnBvcnRzLCBsaXN0KSB7DQo+IC0JCWlmIChkc2Ff
cG9ydF9icmlkZ2VfZGV2X2dldChkcCkgPT0gYnIpIHsNCj4gKwkJaWYgKGRzYV9wb3J0X29mZmxv
YWRzX2JyaWRnZShkcCwgJmJyaWRnZSkpIHsNCj4gICAJCQlpZiAoZHAtPmRzID09IGRzKSB7DQo+
ICAgCQkJCS8qIFRoaXMgaXMgYSBsb2NhbCBicmlkZ2UgZ3JvdXAgbWVtYmVyLA0KPiAgIAkJCQkg
KiByZW1hcCBpdHMgUG9ydCBWTEFOIE1hcC4NCj4gQEAgLTI0NDksMTQgKzI0NDksMTQgQEAgc3Rh
dGljIGludCBtdjg4ZTZ4eHhfYnJpZGdlX21hcChzdHJ1Y3QgbXY4OGU2eHh4X2NoaXAgKmNoaXAs
DQo+ICAgfQ0KPiAgIA0KPiAgIHN0YXRpYyBpbnQgbXY4OGU2eHh4X3BvcnRfYnJpZGdlX2pvaW4o
c3RydWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwNCj4gLQkJCQkgICAgICBzdHJ1Y3QgbmV0
X2RldmljZSAqYnIpDQo+ICsJCQkJICAgICAgc3RydWN0IGRzYV9icmlkZ2UgYnJpZGdlKQ0KPiAg
IHsNCj4gICAJc3RydWN0IG12ODhlNnh4eF9jaGlwICpjaGlwID0gZHMtPnByaXY7DQo+ICAgCWlu
dCBlcnI7DQo+ICAgDQo+ICAgCW12ODhlNnh4eF9yZWdfbG9jayhjaGlwKTsNCj4gICANCj4gLQll
cnIgPSBtdjg4ZTZ4eHhfYnJpZGdlX21hcChjaGlwLCBicik7DQo+ICsJZXJyID0gbXY4OGU2eHh4
X2JyaWRnZV9tYXAoY2hpcCwgYnJpZGdlKTsNCj4gICAJaWYgKGVycikNCj4gICAJCWdvdG8gdW5s
b2NrOw0KPiAgIA0KPiBAQCAtMjQ3MSwxNCArMjQ3MSwxNCBAQCBzdGF0aWMgaW50IG12ODhlNnh4
eF9wb3J0X2JyaWRnZV9qb2luKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsDQo+ICAg
fQ0KPiAgIA0KPiAgIHN0YXRpYyB2b2lkIG12ODhlNnh4eF9wb3J0X2JyaWRnZV9sZWF2ZShzdHJ1
Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LA0KPiAtCQkJCQlzdHJ1Y3QgbmV0X2RldmljZSAq
YnIpDQo+ICsJCQkJCXN0cnVjdCBkc2FfYnJpZGdlIGJyaWRnZSkNCj4gICB7DQo+ICAgCXN0cnVj
dCBtdjg4ZTZ4eHhfY2hpcCAqY2hpcCA9IGRzLT5wcml2Ow0KPiAgIAlpbnQgZXJyOw0KPiAgIA0K
PiAgIAltdjg4ZTZ4eHhfcmVnX2xvY2soY2hpcCk7DQo+ICAgDQo+IC0JaWYgKG12ODhlNnh4eF9i
cmlkZ2VfbWFwKGNoaXAsIGJyKSB8fA0KPiArCWlmIChtdjg4ZTZ4eHhfYnJpZGdlX21hcChjaGlw
LCBicmlkZ2UpIHx8DQo+ICAgCSAgICBtdjg4ZTZ4eHhfcG9ydF92bGFuX21hcChjaGlwLCBwb3J0
KSkNCj4gICAJCWRldl9lcnIoZHMtPmRldiwgImZhaWxlZCB0byByZW1hcCBpbi1jaGlwIFBvcnQg
VkxBTlxuIik7DQo+ICAgDQo+IEBAIC0yNDkzLDcgKzI0OTMsNyBAQCBzdGF0aWMgdm9pZCBtdjg4
ZTZ4eHhfcG9ydF9icmlkZ2VfbGVhdmUoc3RydWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwN
Cj4gICANCj4gICBzdGF0aWMgaW50IG12ODhlNnh4eF9jcm9zc2NoaXBfYnJpZGdlX2pvaW4oc3Ry
dWN0IGRzYV9zd2l0Y2ggKmRzLA0KPiAgIAkJCQkJICAgaW50IHRyZWVfaW5kZXgsIGludCBzd19p
bmRleCwNCj4gLQkJCQkJICAgaW50IHBvcnQsIHN0cnVjdCBuZXRfZGV2aWNlICpicikNCj4gKwkJ
CQkJICAgaW50IHBvcnQsIHN0cnVjdCBkc2FfYnJpZGdlIGJyaWRnZSkNCj4gICB7DQo+ICAgCXN0
cnVjdCBtdjg4ZTZ4eHhfY2hpcCAqY2hpcCA9IGRzLT5wcml2Ow0KPiAgIAlpbnQgZXJyOw0KPiBA
QCAtMjUxMCw3ICsyNTEwLDcgQEAgc3RhdGljIGludCBtdjg4ZTZ4eHhfY3Jvc3NjaGlwX2JyaWRn
ZV9qb2luKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywNCj4gICANCj4gICBzdGF0aWMgdm9pZCBtdjg4
ZTZ4eHhfY3Jvc3NjaGlwX2JyaWRnZV9sZWF2ZShzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsDQo+ICAg
CQkJCQkgICAgIGludCB0cmVlX2luZGV4LCBpbnQgc3dfaW5kZXgsDQo+IC0JCQkJCSAgICAgaW50
IHBvcnQsIHN0cnVjdCBuZXRfZGV2aWNlICpicikNCj4gKwkJCQkJICAgICBpbnQgcG9ydCwgc3Ry
dWN0IGRzYV9icmlkZ2UgYnJpZGdlKQ0KPiAgIHsNCj4gICAJc3RydWN0IG12ODhlNnh4eF9jaGlw
ICpjaGlwID0gZHMtPnByaXY7DQo+ICAgDQo+IEBAIC0yNTQyLDE5ICsyNTQyLDE3IEBAIHN0YXRp
YyBpbnQgbXY4OGU2eHh4X21hcF92aXJ0dWFsX2JyaWRnZV90b19wdnQoc3RydWN0IGRzYV9zd2l0
Y2ggKmRzLA0KPiAgIH0NCj4gICANCj4gICBzdGF0aWMgaW50IG12ODhlNnh4eF9icmlkZ2VfdHhf
ZndkX29mZmxvYWQoc3RydWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwNCj4gLQkJCQkJICAg
c3RydWN0IG5ldF9kZXZpY2UgKmJyLA0KPiAtCQkJCQkgICB1bnNpZ25lZCBpbnQgYnJpZGdlX251
bSkNCj4gKwkJCQkJICAgc3RydWN0IGRzYV9icmlkZ2UgYnJpZGdlKQ0KPiAgIHsNCj4gLQlyZXR1
cm4gbXY4OGU2eHh4X21hcF92aXJ0dWFsX2JyaWRnZV90b19wdnQoZHMsIGJyaWRnZV9udW0pOw0K
PiArCXJldHVybiBtdjg4ZTZ4eHhfbWFwX3ZpcnR1YWxfYnJpZGdlX3RvX3B2dChkcywgYnJpZGdl
Lm51bSk7DQo+ICAgfQ0KPiAgIA0KPiAgIHN0YXRpYyB2b2lkIG12ODhlNnh4eF9icmlkZ2VfdHhf
ZndkX3Vub2ZmbG9hZChzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LA0KPiAtCQkJCQkg
ICAgICBzdHJ1Y3QgbmV0X2RldmljZSAqYnIsDQo+IC0JCQkJCSAgICAgIHVuc2lnbmVkIGludCBi
cmlkZ2VfbnVtKQ0KPiArCQkJCQkgICAgICBzdHJ1Y3QgZHNhX2JyaWRnZSBicmlkZ2UpDQo+ICAg
ew0KPiAgIAlpbnQgZXJyOw0KPiAgIA0KPiAtCWVyciA9IG12ODhlNnh4eF9tYXBfdmlydHVhbF9i
cmlkZ2VfdG9fcHZ0KGRzLCBicmlkZ2VfbnVtKTsNCj4gKwllcnIgPSBtdjg4ZTZ4eHhfbWFwX3Zp
cnR1YWxfYnJpZGdlX3RvX3B2dChkcywgYnJpZGdlLm51bSk7DQo+ICAgCWlmIChlcnIpIHsNCj4g
ICAJCWRldl9lcnIoZHMtPmRldiwgImZhaWxlZCB0byByZW1hcCBjcm9zcy1jaGlwIFBvcnQgVkxB
TjogJXBlXG4iLA0KPiAgIAkJCUVSUl9QVFIoZXJyKSk7DQo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L25ldC9kc2Evb2NlbG90L2ZlbGl4LmMgYi9kcml2ZXJzL25ldC9kc2Evb2NlbG90L2ZlbGl4LmMN
Cj4gaW5kZXggODM4MDhlN2RiZGRhLi44Y2Y4MmZhOTFhNmIgMTAwNjQ0DQo+IC0tLSBhL2RyaXZl
cnMvbmV0L2RzYS9vY2Vsb3QvZmVsaXguYw0KPiArKysgYi9kcml2ZXJzL25ldC9kc2Evb2NlbG90
L2ZlbGl4LmMNCj4gQEAgLTY5OCwyMSArNjk4LDIxIEBAIHN0YXRpYyBpbnQgZmVsaXhfYnJpZGdl
X2ZsYWdzKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsDQo+ICAgfQ0KPiAgIA0KPiAg
IHN0YXRpYyBpbnQgZmVsaXhfYnJpZGdlX2pvaW4oc3RydWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQg
cG9ydCwNCj4gLQkJCSAgICAgc3RydWN0IG5ldF9kZXZpY2UgKmJyKQ0KPiArCQkJICAgICBzdHJ1
Y3QgZHNhX2JyaWRnZSBicmlkZ2UpDQo+ICAgew0KPiAgIAlzdHJ1Y3Qgb2NlbG90ICpvY2Vsb3Qg
PSBkcy0+cHJpdjsNCj4gICANCj4gLQlvY2Vsb3RfcG9ydF9icmlkZ2Vfam9pbihvY2Vsb3QsIHBv
cnQsIGJyKTsNCj4gKwlvY2Vsb3RfcG9ydF9icmlkZ2Vfam9pbihvY2Vsb3QsIHBvcnQsIGJyaWRn
ZS5kZXYpOw0KPiAgIA0KPiAgIAlyZXR1cm4gMDsNCj4gICB9DQo+ICAgDQo+ICAgc3RhdGljIHZv
aWQgZmVsaXhfYnJpZGdlX2xlYXZlKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsDQo+
IC0JCQkgICAgICAgc3RydWN0IG5ldF9kZXZpY2UgKmJyKQ0KPiArCQkJICAgICAgIHN0cnVjdCBk
c2FfYnJpZGdlIGJyaWRnZSkNCj4gICB7DQo+ICAgCXN0cnVjdCBvY2Vsb3QgKm9jZWxvdCA9IGRz
LT5wcml2Ow0KPiAgIA0KPiAtCW9jZWxvdF9wb3J0X2JyaWRnZV9sZWF2ZShvY2Vsb3QsIHBvcnQs
IGJyKTsNCj4gKwlvY2Vsb3RfcG9ydF9icmlkZ2VfbGVhdmUob2NlbG90LCBwb3J0LCBicmlkZ2Uu
ZGV2KTsNCj4gICB9DQo+ICAgDQo+ICAgc3RhdGljIGludCBmZWxpeF9sYWdfam9pbihzdHJ1Y3Qg
ZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LA0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvZHNh
L3FjYThrLmMgYi9kcml2ZXJzL25ldC9kc2EvcWNhOGsuYw0KPiBpbmRleCBlZmUyMGRiMjg3YTUu
LjNhZTEwZjIyYWRhOSAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9uZXQvZHNhL3FjYThrLmMNCj4g
KysrIGIvZHJpdmVycy9uZXQvZHNhL3FjYThrLmMNCj4gQEAgLTE3MjgsOCArMTcyOCw4IEBAIHFj
YThrX3BvcnRfc3RwX3N0YXRlX3NldChzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LCB1
OCBzdGF0ZSkNCj4gICAJCSAgUUNBOEtfUE9SVF9MT09LVVBfU1RBVEVfTUFTSywgc3RwX3N0YXRl
KTsNCj4gICB9DQo+ICAgDQo+IC1zdGF0aWMgaW50DQo+IC1xY2E4a19wb3J0X2JyaWRnZV9qb2lu
KHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsIHN0cnVjdCBuZXRfZGV2aWNlICpicikN
Cj4gK3N0YXRpYyBpbnQgcWNhOGtfcG9ydF9icmlkZ2Vfam9pbihzdHJ1Y3QgZHNhX3N3aXRjaCAq
ZHMsIGludCBwb3J0LA0KPiArCQkJCSAgc3RydWN0IGRzYV9icmlkZ2UgYnJpZGdlKQ0KPiAgIHsN
Cj4gICAJc3RydWN0IHFjYThrX3ByaXYgKnByaXYgPSAoc3RydWN0IHFjYThrX3ByaXYgKilkcy0+
cHJpdjsNCj4gICAJaW50IHBvcnRfbWFzaywgY3B1X3BvcnQ7DQo+IEBAIC0xNzQxLDcgKzE3NDEs
NyBAQCBxY2E4a19wb3J0X2JyaWRnZV9qb2luKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBv
cnQsIHN0cnVjdCBuZXRfZGV2aWNlICpicikNCj4gICAJZm9yIChpID0gMDsgaSA8IFFDQThLX05V
TV9QT1JUUzsgaSsrKSB7DQo+ICAgCQlpZiAoZHNhX2lzX2NwdV9wb3J0KGRzLCBpKSkNCj4gICAJ
CQljb250aW51ZTsNCj4gLQkJaWYgKGRzYV9wb3J0X2JyaWRnZV9kZXZfZ2V0KGRzYV90b19wb3J0
KGRzLCBpKSkgIT0gYnIpDQo+ICsJCWlmICghZHNhX3BvcnRfb2ZmbG9hZHNfYnJpZGdlKGRzYV90
b19wb3J0KGRzLCBpKSwgJmJyaWRnZSkpDQo+ICAgCQkJY29udGludWU7DQo+ICAgCQkvKiBBZGQg
dGhpcyBwb3J0IHRvIHRoZSBwb3J0dmxhbiBtYXNrIG9mIHRoZSBvdGhlciBwb3J0cw0KPiAgIAkJ
ICogaW4gdGhlIGJyaWRnZQ0KPiBAQCAtMTc2Miw4ICsxNzYyLDggQEAgcWNhOGtfcG9ydF9icmlk
Z2Vfam9pbihzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LCBzdHJ1Y3QgbmV0X2Rldmlj
ZSAqYnIpDQo+ICAgCXJldHVybiByZXQ7DQo+ICAgfQ0KPiAgIA0KPiAtc3RhdGljIHZvaWQNCj4g
LXFjYThrX3BvcnRfYnJpZGdlX2xlYXZlKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQs
IHN0cnVjdCBuZXRfZGV2aWNlICpicikNCj4gK3N0YXRpYyB2b2lkIHFjYThrX3BvcnRfYnJpZGdl
X2xlYXZlKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsDQo+ICsJCQkJICAgIHN0cnVj
dCBkc2FfYnJpZGdlIGJyaWRnZSkNCj4gICB7DQo+ICAgCXN0cnVjdCBxY2E4a19wcml2ICpwcml2
ID0gKHN0cnVjdCBxY2E4a19wcml2ICopZHMtPnByaXY7DQo+ICAgCWludCBjcHVfcG9ydCwgaTsN
Cj4gQEAgLTE3NzMsNyArMTc3Myw3IEBAIHFjYThrX3BvcnRfYnJpZGdlX2xlYXZlKHN0cnVjdCBk
c2Ffc3dpdGNoICpkcywgaW50IHBvcnQsIHN0cnVjdCBuZXRfZGV2aWNlICpicikNCj4gICAJZm9y
IChpID0gMDsgaSA8IFFDQThLX05VTV9QT1JUUzsgaSsrKSB7DQo+ICAgCQlpZiAoZHNhX2lzX2Nw
dV9wb3J0KGRzLCBpKSkNCj4gICAJCQljb250aW51ZTsNCj4gLQkJaWYgKGRzYV9wb3J0X2JyaWRn
ZV9kZXZfZ2V0KGRzYV90b19wb3J0KGRzLCBpKSkgIT0gYnIpDQo+ICsJCWlmICghZHNhX3BvcnRf
b2ZmbG9hZHNfYnJpZGdlKGRzYV90b19wb3J0KGRzLCBpKSwgJmJyaWRnZSkpDQo+ICAgCQkJY29u
dGludWU7DQo+ICAgCQkvKiBSZW1vdmUgdGhpcyBwb3J0IHRvIHRoZSBwb3J0dmxhbiBtYXNrIG9m
IHRoZSBvdGhlciBwb3J0cw0KPiAgIAkJICogaW4gdGhlIGJyaWRnZQ0KPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9uZXQvZHNhL3J0bDgzNjZyYi5jIGIvZHJpdmVycy9uZXQvZHNhL3J0bDgzNjZyYi5j
DQo+IGluZGV4IGI2ZjI3N2EwNDk4OS4uZmFjMjMzM2EzZjVlIDEwMDY0NA0KPiAtLS0gYS9kcml2
ZXJzL25ldC9kc2EvcnRsODM2NnJiLmMNCj4gKysrIGIvZHJpdmVycy9uZXQvZHNhL3J0bDgzNjZy
Yi5jDQo+IEBAIC0xMTg2LDcgKzExODYsNyBAQCBydGw4MzY2cmJfcG9ydF9kaXNhYmxlKHN0cnVj
dCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQpDQo+ICAgDQo+ICAgc3RhdGljIGludA0KPiAgIHJ0
bDgzNjZyYl9wb3J0X2JyaWRnZV9qb2luKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQs
DQo+IC0JCQkgICBzdHJ1Y3QgbmV0X2RldmljZSAqYnJpZGdlKQ0KPiArCQkJICAgc3RydWN0IGRz
YV9icmlkZ2UgYnJpZGdlKQ0KPiAgIHsNCj4gICAJc3RydWN0IHJlYWx0ZWtfc21pICpzbWkgPSBk
cy0+cHJpdjsNCj4gICAJdW5zaWduZWQgaW50IHBvcnRfYml0bWFwID0gMDsNCj4gQEAgLTExOTgs
NyArMTE5OCw3IEBAIHJ0bDgzNjZyYl9wb3J0X2JyaWRnZV9qb2luKHN0cnVjdCBkc2Ffc3dpdGNo
ICpkcywgaW50IHBvcnQsDQo+ICAgCQlpZiAoaSA9PSBwb3J0KQ0KPiAgIAkJCWNvbnRpbnVlOw0K
PiAgIAkJLyogTm90IG9uIHRoaXMgYnJpZGdlICovDQo+IC0JCWlmIChkc2FfcG9ydF9icmlkZ2Vf
ZGV2X2dldChkc2FfdG9fcG9ydChkcywgaSkpICE9IGJyaWRnZSkNCj4gKwkJaWYgKCFkc2FfcG9y
dF9vZmZsb2Fkc19icmlkZ2UoZHNhX3RvX3BvcnQoZHMsIGkpLCAmYnJpZGdlKSkNCj4gICAJCQlj
b250aW51ZTsNCj4gICAJCS8qIEpvaW4gdGhpcyBwb3J0IHRvIGVhY2ggb3RoZXIgcG9ydCBvbiB0
aGUgYnJpZGdlICovDQo+ICAgCQlyZXQgPSByZWdtYXBfdXBkYXRlX2JpdHMoc21pLT5tYXAsIFJU
TDgzNjZSQl9QT1JUX0lTTyhpKSwNCj4gQEAgLTEyMTgsNyArMTIxOCw3IEBAIHJ0bDgzNjZyYl9w
b3J0X2JyaWRnZV9qb2luKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsDQo+ICAgDQo+
ICAgc3RhdGljIHZvaWQNCj4gICBydGw4MzY2cmJfcG9ydF9icmlkZ2VfbGVhdmUoc3RydWN0IGRz
YV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwNCj4gLQkJCSAgICBzdHJ1Y3QgbmV0X2RldmljZSAqYnJp
ZGdlKQ0KPiArCQkJICAgIHN0cnVjdCBkc2FfYnJpZGdlIGJyaWRnZSkNCj4gICB7DQo+ICAgCXN0
cnVjdCByZWFsdGVrX3NtaSAqc21pID0gZHMtPnByaXY7DQo+ICAgCXVuc2lnbmVkIGludCBwb3J0
X2JpdG1hcCA9IDA7DQo+IEBAIC0xMjMwLDcgKzEyMzAsNyBAQCBydGw4MzY2cmJfcG9ydF9icmlk
Z2VfbGVhdmUoc3RydWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwNCj4gICAJCWlmIChpID09
IHBvcnQpDQo+ICAgCQkJY29udGludWU7DQo+ICAgCQkvKiBOb3Qgb24gdGhpcyBicmlkZ2UgKi8N
Cj4gLQkJaWYgKGRzYV9wb3J0X2JyaWRnZV9kZXZfZ2V0KGRzYV90b19wb3J0KGRzLCBpKSkgIT0g
YnJpZGdlKQ0KPiArCQlpZiAoIWRzYV9wb3J0X29mZmxvYWRzX2JyaWRnZShkc2FfdG9fcG9ydChk
cywgaSksICZicmlkZ2UpKQ0KPiAgIAkJCWNvbnRpbnVlOw0KPiAgIAkJLyogUmVtb3ZlIHRoaXMg
cG9ydCBmcm9tIGFueSBvdGhlciBwb3J0IG9uIHRoZSBicmlkZ2UgKi8NCj4gICAJCXJldCA9IHJl
Z21hcF91cGRhdGVfYml0cyhzbWktPm1hcCwgUlRMODM2NlJCX1BPUlRfSVNPKGkpLA0KPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9uZXQvZHNhL3NqYTExMDUvc2phMTEwNV9tYWluLmMgYi9kcml2ZXJz
L25ldC9kc2Evc2phMTEwNS9zamExMTA1X21haW4uYw0KPiBpbmRleCA1ZTAzZWRhNGMxNmYuLjI0
NTg0ZmUyZTc2MCAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9uZXQvZHNhL3NqYTExMDUvc2phMTEw
NV9tYWluLmMNCj4gKysrIGIvZHJpdmVycy9uZXQvZHNhL3NqYTExMDUvc2phMTEwNV9tYWluLmMN
Cj4gQEAgLTE5ODAsNyArMTk4MCw3IEBAIHN0YXRpYyBpbnQgc2phMTEwNV9tYW5hZ2VfZmxvb2Rf
ZG9tYWlucyhzdHJ1Y3Qgc2phMTEwNV9wcml2YXRlICpwcml2KQ0KPiAgIH0NCj4gICANCj4gICBz
dGF0aWMgaW50IHNqYTExMDVfYnJpZGdlX21lbWJlcihzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGlu
dCBwb3J0LA0KPiAtCQkJCSBzdHJ1Y3QgbmV0X2RldmljZSAqYnIsIGJvb2wgbWVtYmVyKQ0KPiAr
CQkJCSBzdHJ1Y3QgZHNhX2JyaWRnZSBicmlkZ2UsIGJvb2wgbWVtYmVyKQ0KPiAgIHsNCj4gICAJ
c3RydWN0IHNqYTExMDVfbDJfZm9yd2FyZGluZ19lbnRyeSAqbDJfZndkOw0KPiAgIAlzdHJ1Y3Qg
c2phMTEwNV9wcml2YXRlICpwcml2ID0gZHMtPnByaXY7DQo+IEBAIC0yMDA1LDcgKzIwMDUsNyBA
QCBzdGF0aWMgaW50IHNqYTExMDVfYnJpZGdlX21lbWJlcihzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMs
IGludCBwb3J0LA0KPiAgIAkJICovDQo+ICAgCQlpZiAoaSA9PSBwb3J0KQ0KPiAgIAkJCWNvbnRp
bnVlOw0KPiAtCQlpZiAoZHNhX3BvcnRfYnJpZGdlX2Rldl9nZXQoZHNhX3RvX3BvcnQoZHMsIGkp
KSAhPSBicikNCj4gKwkJaWYgKCFkc2FfcG9ydF9vZmZsb2Fkc19icmlkZ2UoZHNhX3RvX3BvcnQo
ZHMsIGkpLCAmYnJpZGdlKSkNCj4gICAJCQljb250aW51ZTsNCj4gICAJCXNqYTExMDVfcG9ydF9h
bGxvd190cmFmZmljKGwyX2Z3ZCwgaSwgcG9ydCwgbWVtYmVyKTsNCj4gICAJCXNqYTExMDVfcG9y
dF9hbGxvd190cmFmZmljKGwyX2Z3ZCwgcG9ydCwgaSwgbWVtYmVyKTsNCj4gQEAgLTIwNzQsMTUg
KzIwNzQsMTUgQEAgc3RhdGljIHZvaWQgc2phMTEwNV9icmlkZ2Vfc3RwX3N0YXRlX3NldChzdHJ1
Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LA0KPiAgIH0NCj4gICANCj4gICBzdGF0aWMgaW50
IHNqYTExMDVfYnJpZGdlX2pvaW4oc3RydWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwNCj4g
LQkJCSAgICAgICBzdHJ1Y3QgbmV0X2RldmljZSAqYnIpDQo+ICsJCQkgICAgICAgc3RydWN0IGRz
YV9icmlkZ2UgYnJpZGdlKQ0KPiAgIHsNCj4gLQlyZXR1cm4gc2phMTEwNV9icmlkZ2VfbWVtYmVy
KGRzLCBwb3J0LCBiciwgdHJ1ZSk7DQo+ICsJcmV0dXJuIHNqYTExMDVfYnJpZGdlX21lbWJlcihk
cywgcG9ydCwgYnJpZGdlLCB0cnVlKTsNCj4gICB9DQo+ICAgDQo+ICAgc3RhdGljIHZvaWQgc2ph
MTEwNV9icmlkZ2VfbGVhdmUoc3RydWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwNCj4gLQkJ
CQkgc3RydWN0IG5ldF9kZXZpY2UgKmJyKQ0KPiArCQkJCSBzdHJ1Y3QgZHNhX2JyaWRnZSBicmlk
Z2UpDQo+ICAgew0KPiAtCXNqYTExMDVfYnJpZGdlX21lbWJlcihkcywgcG9ydCwgYnIsIGZhbHNl
KTsNCj4gKwlzamExMTA1X2JyaWRnZV9tZW1iZXIoZHMsIHBvcnQsIGJyaWRnZSwgZmFsc2UpOw0K
PiAgIH0NCj4gICANCj4gICAjZGVmaW5lIEJZVEVTX1BFUl9LQklUICgxMDAwTEwgLyA4KQ0KPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvZHNhL3hyczcwMHgveHJzNzAweC5jIGIvZHJpdmVycy9u
ZXQvZHNhL3hyczcwMHgveHJzNzAweC5jDQo+IGluZGV4IDdjMmI2YzMyMjQyZC4uZWJiNTVkZmQ5
YzRlIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL25ldC9kc2EveHJzNzAweC94cnM3MDB4LmMNCj4g
KysrIGIvZHJpdmVycy9uZXQvZHNhL3hyczcwMHgveHJzNzAweC5jDQo+IEBAIC01MDEsNyArNTAx
LDcgQEAgc3RhdGljIHZvaWQgeHJzNzAweF9tYWNfbGlua191cChzdHJ1Y3QgZHNhX3N3aXRjaCAq
ZHMsIGludCBwb3J0LA0KPiAgIH0NCj4gICANCj4gICBzdGF0aWMgaW50IHhyczcwMHhfYnJpZGdl
X2NvbW1vbihzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LA0KPiAtCQkJCSBzdHJ1Y3Qg
bmV0X2RldmljZSAqYnJpZGdlLCBib29sIGpvaW4pDQo+ICsJCQkJIHN0cnVjdCBkc2FfYnJpZGdl
IGJyaWRnZSwgYm9vbCBqb2luKQ0KPiAgIHsNCj4gICAJdW5zaWduZWQgaW50IGksIGNwdV9tYXNr
ID0gMCwgbWFzayA9IDA7DQo+ICAgCXN0cnVjdCB4cnM3MDB4ICpwcml2ID0gZHMtPnByaXY7DQo+
IEBAIC01MTMsMTQgKzUxMywxNCBAQCBzdGF0aWMgaW50IHhyczcwMHhfYnJpZGdlX2NvbW1vbihz
dHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LA0KPiAgIA0KPiAgIAkJY3B1X21hc2sgfD0g
QklUKGkpOw0KPiAgIA0KPiAtCQlpZiAoZHNhX3BvcnRfYnJpZGdlX2Rldl9nZXQoZHNhX3RvX3Bv
cnQoZHMsIGkpKSA9PSBicmlkZ2UpDQo+ICsJCWlmIChkc2FfcG9ydF9vZmZsb2Fkc19icmlkZ2Uo
ZHNhX3RvX3BvcnQoZHMsIGkpLCAmYnJpZGdlKSkNCj4gICAJCQljb250aW51ZTsNCj4gICANCj4g
ICAJCW1hc2sgfD0gQklUKGkpOw0KPiAgIAl9DQo+ICAgDQo+ICAgCWZvciAoaSA9IDA7IGkgPCBk
cy0+bnVtX3BvcnRzOyBpKyspIHsNCj4gLQkJaWYgKGRzYV9wb3J0X2JyaWRnZV9kZXZfZ2V0KGRz
YV90b19wb3J0KGRzLCBpKSkgIT0gYnJpZGdlKQ0KPiArCQlpZiAoIWRzYV9wb3J0X29mZmxvYWRz
X2JyaWRnZShkc2FfdG9fcG9ydChkcywgaSksICZicmlkZ2UpKQ0KPiAgIAkJCWNvbnRpbnVlOw0K
PiAgIA0KPiAgIAkJLyogMSA9IERpc2FibGUgZm9yd2FyZGluZyB0byB0aGUgcG9ydCAqLw0KPiBA
QCAtNTQwLDEzICs1NDAsMTMgQEAgc3RhdGljIGludCB4cnM3MDB4X2JyaWRnZV9jb21tb24oc3Ry
dWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwNCj4gICB9DQo+ICAgDQo+ICAgc3RhdGljIGlu
dCB4cnM3MDB4X2JyaWRnZV9qb2luKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsDQo+
IC0JCQkgICAgICAgc3RydWN0IG5ldF9kZXZpY2UgKmJyaWRnZSkNCj4gKwkJCSAgICAgICBzdHJ1
Y3QgZHNhX2JyaWRnZSBicmlkZ2UpDQo+ICAgew0KPiAgIAlyZXR1cm4geHJzNzAweF9icmlkZ2Vf
Y29tbW9uKGRzLCBwb3J0LCBicmlkZ2UsIHRydWUpOw0KPiAgIH0NCj4gICANCj4gICBzdGF0aWMg
dm9pZCB4cnM3MDB4X2JyaWRnZV9sZWF2ZShzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0
LA0KPiAtCQkJCSBzdHJ1Y3QgbmV0X2RldmljZSAqYnJpZGdlKQ0KPiArCQkJCSBzdHJ1Y3QgZHNh
X2JyaWRnZSBicmlkZ2UpDQo+ICAgew0KPiAgIAl4cnM3MDB4X2JyaWRnZV9jb21tb24oZHMsIHBv
cnQsIGJyaWRnZSwgZmFsc2UpOw0KPiAgIH0NCj4gZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGludXgv
ZHNhLzgwMjFxLmggYi9pbmNsdWRlL2xpbnV4L2RzYS84MDIxcS5oDQo+IGluZGV4IDBhZjQzNzFm
YmViYi4uOTM5YTFiZWFkZGY3IDEwMDY0NA0KPiAtLS0gYS9pbmNsdWRlL2xpbnV4L2RzYS84MDIx
cS5oDQo+ICsrKyBiL2luY2x1ZGUvbGludXgvZHNhLzgwMjFxLmgNCj4gQEAgLTcsNiArNyw3IEBA
DQo+ICAgDQo+ICAgI2luY2x1ZGUgPGxpbnV4L3JlZmNvdW50Lmg+DQo+ICAgI2luY2x1ZGUgPGxp
bnV4L3R5cGVzLmg+DQo+ICsjaW5jbHVkZSA8bmV0L2RzYS5oPg0KPiAgIA0KPiAgIHN0cnVjdCBk
c2Ffc3dpdGNoOw0KPiAgIHN0cnVjdCBkc2FfcG9ydDsNCj4gQEAgLTM3LDEyICszOCwxMCBAQCBz
dHJ1Y3Qgc2tfYnVmZiAqZHNhXzgwMjFxX3htaXQoc3RydWN0IHNrX2J1ZmYgKnNrYiwgc3RydWN0
IG5ldF9kZXZpY2UgKm5ldGRldiwNCj4gICB2b2lkIGRzYV84MDIxcV9yY3Yoc3RydWN0IHNrX2J1
ZmYgKnNrYiwgaW50ICpzb3VyY2VfcG9ydCwgaW50ICpzd2l0Y2hfaWQpOw0KPiAgIA0KPiAgIGlu
dCBkc2FfdGFnXzgwMjFxX2JyaWRnZV90eF9md2Rfb2ZmbG9hZChzdHJ1Y3QgZHNhX3N3aXRjaCAq
ZHMsIGludCBwb3J0LA0KPiAtCQkJCQlzdHJ1Y3QgbmV0X2RldmljZSAqYnIsDQo+IC0JCQkJCXVu
c2lnbmVkIGludCBicmlkZ2VfbnVtKTsNCj4gKwkJCQkJc3RydWN0IGRzYV9icmlkZ2UgYnJpZGdl
KTsNCj4gICANCj4gICB2b2lkIGRzYV90YWdfODAyMXFfYnJpZGdlX3R4X2Z3ZF91bm9mZmxvYWQo
c3RydWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwNCj4gLQkJCQkJICAgc3RydWN0IG5ldF9k
ZXZpY2UgKmJyLA0KPiAtCQkJCQkgICB1bnNpZ25lZCBpbnQgYnJpZGdlX251bSk7DQo+ICsJCQkJ
CSAgIHN0cnVjdCBkc2FfYnJpZGdlIGJyaWRnZSk7DQo+ICAgDQo+ICAgdTE2IGRzYV84MDIxcV9i
cmlkZ2VfdHhfZndkX29mZmxvYWRfdmlkKHVuc2lnbmVkIGludCBicmlkZ2VfbnVtKTsNCj4gICAN
Cj4gZGlmZiAtLWdpdCBhL2luY2x1ZGUvbmV0L2RzYS5oIGIvaW5jbHVkZS9uZXQvZHNhLmgNCj4g
aW5kZXggODFmZDE4MjFhMGFhLi41ZTgzYzY0YmM5NmEgMTAwNjQ0DQo+IC0tLSBhL2luY2x1ZGUv
bmV0L2RzYS5oDQo+ICsrKyBiL2luY2x1ZGUvbmV0L2RzYS5oDQo+IEBAIC0yMTksNiArMjE5LDEx
IEBAIHN0cnVjdCBkc2FfbWFsbF90Y19lbnRyeSB7DQo+ICAgCX07DQo+ICAgfTsNCj4gICANCj4g
K3N0cnVjdCBkc2FfYnJpZGdlIHsNCj4gKwlzdHJ1Y3QgbmV0X2RldmljZSAqZGV2Ow0KPiArCXVu
c2lnbmVkIGludCBudW07DQo+ICsJcmVmY291bnRfdCByZWZjb3VudDsNCj4gK307DQo+ICAgDQo+
ICAgc3RydWN0IGRzYV9wb3J0IHsNCj4gICAJLyogQSBDUFUgcG9ydCBpcyBwaHlzaWNhbGx5IGNv
bm5lY3RlZCB0byBhIG1hc3RlciBkZXZpY2UuDQo+IEBAIC0yNTYsOCArMjYxLDcgQEAgc3RydWN0
IGRzYV9wb3J0IHsNCj4gICAJLyogTWFuYWdlZCBieSBEU0Egb24gdXNlciBwb3J0cyBhbmQgYnkg
ZHJpdmVycyBvbiBDUFUgYW5kIERTQSBwb3J0cyAqLw0KPiAgIAlib29sCQkJbGVhcm5pbmc7DQo+
ICAgCXU4CQkJc3RwX3N0YXRlOw0KPiAtCXN0cnVjdCBuZXRfZGV2aWNlCSpicmlkZ2VfZGV2Ow0K
PiAtCXVuc2lnbmVkIGludAkJYnJpZGdlX251bTsNCj4gKwlzdHJ1Y3QgZHNhX2JyaWRnZQkqYnJp
ZGdlOw0KPiAgIAlzdHJ1Y3QgZGV2bGlua19wb3J0CWRldmxpbmtfcG9ydDsNCj4gICAJYm9vbAkJ
CWRldmxpbmtfcG9ydF9zZXR1cDsNCj4gICAJc3RydWN0IHBoeWxpbmsJCSpwbDsNCj4gQEAgLTU4
OCw3ICs1OTIsNyBAQCBzdGF0aWMgaW5saW5lIGJvb2wgZHNhX3BvcnRfaXNfdmxhbl9maWx0ZXJp
bmcoY29uc3Qgc3RydWN0IGRzYV9wb3J0ICpkcCkNCj4gICBzdGF0aWMgaW5saW5lDQo+ICAgc3Ry
dWN0IG5ldF9kZXZpY2UgKmRzYV9wb3J0X3RvX2JyaWRnZV9wb3J0KGNvbnN0IHN0cnVjdCBkc2Ff
cG9ydCAqZHApDQo+ICAgew0KPiAtCWlmICghZHAtPmJyaWRnZV9kZXYpDQo+ICsJaWYgKCFkcC0+
YnJpZGdlKQ0KPiAgIAkJcmV0dXJuIE5VTEw7DQo+ICAgDQo+ICAgCWlmIChkcC0+bGFnX2RldikN
Cj4gQEAgLTYwMSwxMiArNjA1LDEyIEBAIHN0cnVjdCBuZXRfZGV2aWNlICpkc2FfcG9ydF90b19i
cmlkZ2VfcG9ydChjb25zdCBzdHJ1Y3QgZHNhX3BvcnQgKmRwKQ0KPiAgIA0KPiAgIHN0YXRpYyBp
bmxpbmUgc3RydWN0IG5ldF9kZXZpY2UgKmRzYV9wb3J0X2JyaWRnZV9kZXZfZ2V0KHN0cnVjdCBk
c2FfcG9ydCAqZHApDQo+ICAgew0KPiAtCXJldHVybiBkcC0+YnJpZGdlX2RldjsNCj4gKwlyZXR1
cm4gZHAtPmJyaWRnZSA/IGRwLT5icmlkZ2UtPmRldiA6IE5VTEw7DQo+ICAgfQ0KPiAgIA0KPiAg
IHN0YXRpYyBpbmxpbmUgdW5zaWduZWQgaW50IGRzYV9wb3J0X2JyaWRnZV9udW1fZ2V0KHN0cnVj
dCBkc2FfcG9ydCAqZHApDQo+ICAgew0KPiAtCXJldHVybiBkcC0+YnJpZGdlX251bTsNCj4gKwly
ZXR1cm4gZHAtPmJyaWRnZSA/IGRwLT5icmlkZ2UtPm51bSA6IDA7DQo+ICAgfQ0KPiAgIA0KPiAg
IHN0YXRpYyBpbmxpbmUgYm9vbCBkc2FfcG9ydF9icmlkZ2Vfc2FtZShzdHJ1Y3QgZHNhX3BvcnQg
KmEsIHN0cnVjdCBkc2FfcG9ydCAqYikNCj4gQEAgLTYxNCw2ICs2MTgsNTUgQEAgc3RhdGljIGlu
bGluZSBib29sIGRzYV9wb3J0X2JyaWRnZV9zYW1lKHN0cnVjdCBkc2FfcG9ydCAqYSwgc3RydWN0
IGRzYV9wb3J0ICpiKQ0KPiAgIAlyZXR1cm4gZHNhX3BvcnRfYnJpZGdlX2Rldl9nZXQoYSkgPT0g
ZHNhX3BvcnRfYnJpZGdlX2Rldl9nZXQoYik7DQo+ICAgfQ0KPiAgIA0KPiArc3RhdGljIGlubGlu
ZSBib29sIGRzYV9wb3J0X29mZmxvYWRzX2JyaWRnZV9wb3J0KHN0cnVjdCBkc2FfcG9ydCAqZHAs
DQo+ICsJCQkJCQkgY29uc3Qgc3RydWN0IG5ldF9kZXZpY2UgKmRldikNCj4gK3sNCj4gKwlyZXR1
cm4gZHNhX3BvcnRfdG9fYnJpZGdlX3BvcnQoZHApID09IGRldjsNCj4gK30NCj4gKw0KPiArc3Rh
dGljIGlubGluZSBib29sDQo+ICtkc2FfcG9ydF9vZmZsb2Fkc19icmlkZ2VfZGV2KHN0cnVjdCBk
c2FfcG9ydCAqZHAsDQo+ICsJCQkgICAgIGNvbnN0IHN0cnVjdCBuZXRfZGV2aWNlICpicmlkZ2Vf
ZGV2KQ0KPiArew0KPiArCS8qIERTQSBwb3J0cyBjb25uZWN0ZWQgdG8gYSBicmlkZ2UsIGFuZCBl
dmVudCB3YXMgZW1pdHRlZA0KPiArCSAqIGZvciB0aGUgYnJpZGdlLg0KPiArCSAqLw0KPiArCXJl
dHVybiBkc2FfcG9ydF9icmlkZ2VfZGV2X2dldChkcCkgPT0gYnJpZGdlX2RldjsNCj4gK30NCj4g
Kw0KPiArc3RhdGljIGlubGluZSBib29sIGRzYV9wb3J0X29mZmxvYWRzX2JyaWRnZShzdHJ1Y3Qg
ZHNhX3BvcnQgKmRwLA0KPiArCQkJCQkgICAgY29uc3Qgc3RydWN0IGRzYV9icmlkZ2UgKmJyaWRn
ZSkNCj4gK3sNCj4gKwlyZXR1cm4gZHNhX3BvcnRfYnJpZGdlX2Rldl9nZXQoZHApID09IGJyaWRn
ZS0+ZGV2Ow0KPiArfQ0KPiArDQo+ICsvKiBSZXR1cm5zIHRydWUgaWYgYW55IHBvcnQgb2YgdGhp
cyB0cmVlIG9mZmxvYWRzIHRoZSBnaXZlbiBuZXRfZGV2aWNlICovDQo+ICtzdGF0aWMgaW5saW5l
IGJvb2wgZHNhX3RyZWVfb2ZmbG9hZHNfYnJpZGdlX3BvcnQoc3RydWN0IGRzYV9zd2l0Y2hfdHJl
ZSAqZHN0LA0KPiArCQkJCQkJIGNvbnN0IHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpDQo+ICt7DQo+
ICsJc3RydWN0IGRzYV9wb3J0ICpkcDsNCj4gKw0KPiArCWxpc3RfZm9yX2VhY2hfZW50cnkoZHAs
ICZkc3QtPnBvcnRzLCBsaXN0KQ0KPiArCQlpZiAoZHNhX3BvcnRfb2ZmbG9hZHNfYnJpZGdlX3Bv
cnQoZHAsIGRldikpDQo+ICsJCQlyZXR1cm4gdHJ1ZTsNCj4gKw0KPiArCXJldHVybiBmYWxzZTsN
Cj4gK30NCj4gKw0KPiArLyogUmV0dXJucyB0cnVlIGlmIGFueSBwb3J0IG9mIHRoaXMgdHJlZSBv
ZmZsb2FkcyB0aGUgZ2l2ZW4gYnJpZGdlICovDQo+ICtzdGF0aWMgaW5saW5lIGJvb2wNCj4gK2Rz
YV90cmVlX29mZmxvYWRzX2JyaWRnZV9kZXYoc3RydWN0IGRzYV9zd2l0Y2hfdHJlZSAqZHN0LA0K
PiArCQkJICAgICBjb25zdCBzdHJ1Y3QgbmV0X2RldmljZSAqYnJpZGdlX2RldikNCj4gK3sNCj4g
KwlzdHJ1Y3QgZHNhX3BvcnQgKmRwOw0KPiArDQo+ICsJbGlzdF9mb3JfZWFjaF9lbnRyeShkcCwg
JmRzdC0+cG9ydHMsIGxpc3QpDQo+ICsJCWlmIChkc2FfcG9ydF9vZmZsb2Fkc19icmlkZ2VfZGV2
KGRwLCBicmlkZ2VfZGV2KSkNCj4gKwkJCXJldHVybiB0cnVlOw0KPiArDQo+ICsJcmV0dXJuIGZh
bHNlOw0KPiArfQ0KPiArDQo+ICAgdHlwZWRlZiBpbnQgZHNhX2ZkYl9kdW1wX2NiX3QoY29uc3Qg
dW5zaWduZWQgY2hhciAqYWRkciwgdTE2IHZpZCwNCj4gICAJCQkgICAgICBib29sIGlzX3N0YXRp
Yywgdm9pZCAqZGF0YSk7DQo+ICAgc3RydWN0IGRzYV9zd2l0Y2hfb3BzIHsNCj4gQEAgLTc2MSwx
NyArODE0LDE1IEBAIHN0cnVjdCBkc2Ffc3dpdGNoX29wcyB7DQo+ICAgCSAqLw0KPiAgIAlpbnQJ
KCpzZXRfYWdlaW5nX3RpbWUpKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgdW5zaWduZWQgaW50IG1z
ZWNzKTsNCj4gICAJaW50CSgqcG9ydF9icmlkZ2Vfam9pbikoc3RydWN0IGRzYV9zd2l0Y2ggKmRz
LCBpbnQgcG9ydCwNCj4gLQkJCQkgICAgc3RydWN0IG5ldF9kZXZpY2UgKmJyaWRnZSk7DQo+ICsJ
CQkJICAgIHN0cnVjdCBkc2FfYnJpZGdlIGJyaWRnZSk7DQo+ICAgCXZvaWQJKCpwb3J0X2JyaWRn
ZV9sZWF2ZSkoc3RydWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwNCj4gLQkJCQkgICAgIHN0
cnVjdCBuZXRfZGV2aWNlICpicmlkZ2UpOw0KPiArCQkJCSAgICAgc3RydWN0IGRzYV9icmlkZ2Ug
YnJpZGdlKTsNCj4gICAJLyogQ2FsbGVkIHJpZ2h0IGFmdGVyIC5wb3J0X2JyaWRnZV9qb2luKCkg
Ki8NCj4gICAJaW50CSgqcG9ydF9icmlkZ2VfdHhfZndkX29mZmxvYWQpKHN0cnVjdCBkc2Ffc3dp
dGNoICpkcywgaW50IHBvcnQsDQo+IC0JCQkJCSAgICAgIHN0cnVjdCBuZXRfZGV2aWNlICpicmlk
Z2UsDQo+IC0JCQkJCSAgICAgIHVuc2lnbmVkIGludCBicmlkZ2VfbnVtKTsNCj4gKwkJCQkJICAg
ICAgc3RydWN0IGRzYV9icmlkZ2UgYnJpZGdlKTsNCj4gICAJLyogQ2FsbGVkIHJpZ2h0IGJlZm9y
ZSAucG9ydF9icmlkZ2VfbGVhdmUoKSAqLw0KPiAgIAl2b2lkCSgqcG9ydF9icmlkZ2VfdHhfZndk
X3Vub2ZmbG9hZCkoc3RydWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwNCj4gLQkJCQkJCXN0
cnVjdCBuZXRfZGV2aWNlICpicmlkZ2UsDQo+IC0JCQkJCQl1bnNpZ25lZCBpbnQgYnJpZGdlX251
bSk7DQo+ICsJCQkJCQlzdHJ1Y3QgZHNhX2JyaWRnZSBicmlkZ2UpOw0KPiAgIAl2b2lkCSgqcG9y
dF9zdHBfc3RhdGVfc2V0KShzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LA0KPiAgIAkJ
CQkgICAgICB1OCBzdGF0ZSk7DQo+ICAgCXZvaWQJKCpwb3J0X2Zhc3RfYWdlKShzdHJ1Y3QgZHNh
X3N3aXRjaCAqZHMsIGludCBwb3J0KTsNCj4gQEAgLTg0MywxMCArODk0LDEwIEBAIHN0cnVjdCBk
c2Ffc3dpdGNoX29wcyB7DQo+ICAgCSAqLw0KPiAgIAlpbnQJKCpjcm9zc2NoaXBfYnJpZGdlX2pv
aW4pKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHRyZWVfaW5kZXgsDQo+ICAgCQkJCQkgaW50
IHN3X2luZGV4LCBpbnQgcG9ydCwNCj4gLQkJCQkJIHN0cnVjdCBuZXRfZGV2aWNlICpicik7DQo+
ICsJCQkJCSBzdHJ1Y3QgZHNhX2JyaWRnZSBicmlkZ2UpOw0KPiAgIAl2b2lkCSgqY3Jvc3NjaGlw
X2JyaWRnZV9sZWF2ZSkoc3RydWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgdHJlZV9pbmRleCwNCj4g
ICAJCQkJCSAgaW50IHN3X2luZGV4LCBpbnQgcG9ydCwNCj4gLQkJCQkJICBzdHJ1Y3QgbmV0X2Rl
dmljZSAqYnIpOw0KPiArCQkJCQkgIHN0cnVjdCBkc2FfYnJpZGdlIGJyaWRnZSk7DQo+ICAgCWlu
dAkoKmNyb3NzY2hpcF9sYWdfY2hhbmdlKShzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBzd19p
bmRleCwNCj4gICAJCQkJCWludCBwb3J0KTsNCj4gICAJaW50CSgqY3Jvc3NjaGlwX2xhZ19qb2lu
KShzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBzd19pbmRleCwNCj4gZGlmZiAtLWdpdCBhL25l
dC9kc2EvZHNhMi5jIGIvbmV0L2RzYS9kc2EyLmMNCj4gaW5kZXggOTYwNmU1NjcxMGE1Li43YzAx
NGFlZWE1NTkgMTAwNjQ0DQo+IC0tLSBhL25ldC9kc2EvZHNhMi5jDQo+ICsrKyBiL25ldC9kc2Ev
ZHNhMi5jDQo+IEBAIC0xMjksMjAgKzEyOSwyOSBAQCB2b2lkIGRzYV9sYWdfdW5tYXAoc3RydWN0
IGRzYV9zd2l0Y2hfdHJlZSAqZHN0LCBzdHJ1Y3QgbmV0X2RldmljZSAqbGFnKQ0KPiAgIAl9DQo+
ICAgfQ0KPiAgIA0KPiArc3RydWN0IGRzYV9icmlkZ2UgKmRzYV90cmVlX2JyaWRnZV9maW5kKHN0
cnVjdCBkc2Ffc3dpdGNoX3RyZWUgKmRzdCwNCj4gKwkJCQkJY29uc3Qgc3RydWN0IG5ldF9kZXZp
Y2UgKmJyKQ0KPiArew0KPiArCXN0cnVjdCBkc2FfcG9ydCAqZHA7DQo+ICsNCj4gKwlsaXN0X2Zv
cl9lYWNoX2VudHJ5KGRwLCAmZHN0LT5wb3J0cywgbGlzdCkNCj4gKwkJaWYgKGRzYV9wb3J0X2Jy
aWRnZV9kZXZfZ2V0KGRwKSA9PSBicikNCj4gKwkJCXJldHVybiBkcC0+YnJpZGdlOw0KPiArDQo+
ICsJcmV0dXJuIE5VTEw7DQo+ICt9DQo+ICsNCj4gICBzdGF0aWMgaW50IGRzYV9icmlkZ2VfbnVt
X2ZpbmQoY29uc3Qgc3RydWN0IG5ldF9kZXZpY2UgKmJyaWRnZV9kZXYpDQo+ICAgew0KPiAgIAlz
dHJ1Y3QgZHNhX3N3aXRjaF90cmVlICpkc3Q7DQo+IC0Jc3RydWN0IGRzYV9wb3J0ICpkcDsNCj4g
ICANCj4gLQkvKiBXaGVuIHByZXBhcmluZyB0aGUgb2ZmbG9hZCBmb3IgYSBwb3J0LCBpdCB3aWxs
IGhhdmUgYSB2YWxpZA0KPiAtCSAqIGRwLT5icmlkZ2VfZGV2IHBvaW50ZXIgYnV0IGEgbm90IHll
dCB2YWxpZCBkcC0+YnJpZGdlX251bS4NCj4gLQkgKiBIb3dldmVyIHRoZXJlIG1pZ2h0IGJlIG90
aGVyIHBvcnRzIGhhdmluZyB0aGUgc2FtZSBkcC0+YnJpZGdlX2Rldg0KPiAtCSAqIGFuZCBhIHZh
bGlkIGRwLT5icmlkZ2VfbnVtLCBzbyBqdXN0IGlnbm9yZSB0aGlzIHBvcnQuDQo+IC0JICovDQo+
IC0JbGlzdF9mb3JfZWFjaF9lbnRyeShkc3QsICZkc2FfdHJlZV9saXN0LCBsaXN0KQ0KPiAtCQls
aXN0X2Zvcl9lYWNoX2VudHJ5KGRwLCAmZHN0LT5wb3J0cywgbGlzdCkNCj4gLQkJCWlmIChkcC0+
YnJpZGdlX2RldiA9PSBicmlkZ2VfZGV2ICYmIGRwLT5icmlkZ2VfbnVtKQ0KPiAtCQkJCXJldHVy
biBkcC0+YnJpZGdlX251bTsNCj4gKwlsaXN0X2Zvcl9lYWNoX2VudHJ5KGRzdCwgJmRzYV90cmVl
X2xpc3QsIGxpc3QpIHsNCj4gKwkJc3RydWN0IGRzYV9icmlkZ2UgKmJyaWRnZTsNCj4gKw0KPiAr
CQlicmlkZ2UgPSBkc2FfdHJlZV9icmlkZ2VfZmluZChkc3QsIGJyaWRnZV9kZXYpOw0KPiArCQlp
ZiAoYnJpZGdlKQ0KPiArCQkJcmV0dXJuIGJyaWRnZS0+bnVtOw0KPiArCX0NCj4gICANCj4gICAJ
cmV0dXJuIDA7DQo+ICAgfQ0KPiBAQCAtMTUxLDYgKzE2MCwxMiBAQCB1bnNpZ25lZCBpbnQgZHNh
X2JyaWRnZV9udW1fZ2V0KGNvbnN0IHN0cnVjdCBuZXRfZGV2aWNlICpicmlkZ2VfZGV2LCBpbnQg
bWF4KQ0KPiAgIHsNCj4gICAJdW5zaWduZWQgaW50IGJyaWRnZV9udW0gPSBkc2FfYnJpZGdlX251
bV9maW5kKGJyaWRnZV9kZXYpOw0KPiAgIA0KPiArCS8qIFN3aXRjaGVzIHdpdGhvdXQgRkRCIGlz
b2xhdGlvbiBzdXBwb3J0IGRvbid0IGdldCB1bmlxdWUNCj4gKwkgKiBicmlkZ2UgbnVtYmVyaW5n
DQo+ICsJICovDQo+ICsJaWYgKCFtYXgpDQo+ICsJCXJldHVybiAwOw0KPiArDQo+ICAgCWlmICgh
YnJpZGdlX251bSkgew0KPiAgIAkJLyogRmlyc3QgcG9ydCB0aGF0IG9mZmxvYWRzIFRYIGZvcndh
cmRpbmcgZm9yIHRoaXMgYnJpZGdlICovDQo+ICAgCQlicmlkZ2VfbnVtID0gZmluZF9uZXh0X3pl
cm9fYml0KCZkc2FfZndkX29mZmxvYWRpbmdfYnJpZGdlcywNCj4gZGlmZiAtLWdpdCBhL25ldC9k
c2EvZHNhX3ByaXYuaCBiL25ldC9kc2EvZHNhX3ByaXYuaA0KPiBpbmRleCBkYWJhMTBhZGJkMjIu
LjQ4OTcxMmVhZDA4ZiAxMDA2NDQNCj4gLS0tIGEvbmV0L2RzYS9kc2FfcHJpdi5oDQo+ICsrKyBi
L25ldC9kc2EvZHNhX3ByaXYuaA0KPiBAQCAtNTIsNyArNTIsNyBAQCBzdHJ1Y3QgZHNhX25vdGlm
aWVyX2FnZWluZ190aW1lX2luZm8gew0KPiAgIA0KPiAgIC8qIERTQV9OT1RJRklFUl9CUklER0Vf
KiAqLw0KPiAgIHN0cnVjdCBkc2Ffbm90aWZpZXJfYnJpZGdlX2luZm8gew0KPiAtCXN0cnVjdCBu
ZXRfZGV2aWNlICpicjsNCj4gKwlzdHJ1Y3QgZHNhX2JyaWRnZSBicmlkZ2U7DQo+ICAgCWludCB0
cmVlX2luZGV4Ow0KPiAgIAlpbnQgc3dfaW5kZXg7DQo+ICAgCWludCBwb3J0Ow0KPiBAQCAtMjY2
LDQ5ICsyNjYsNiBAQCBpbnQgZHNhX3BvcnRfdGFnXzgwMjFxX3ZsYW5fYWRkKHN0cnVjdCBkc2Ff
cG9ydCAqZHAsIHUxNiB2aWQsIGJvb2wgYnJvYWRjYXN0KTsNCj4gICB2b2lkIGRzYV9wb3J0X3Rh
Z184MDIxcV92bGFuX2RlbChzdHJ1Y3QgZHNhX3BvcnQgKmRwLCB1MTYgdmlkLCBib29sIGJyb2Fk
Y2FzdCk7DQo+ICAgZXh0ZXJuIGNvbnN0IHN0cnVjdCBwaHlsaW5rX21hY19vcHMgZHNhX3BvcnRf
cGh5bGlua19tYWNfb3BzOw0KPiAgIA0KPiAtc3RhdGljIGlubGluZSBib29sIGRzYV9wb3J0X29m
ZmxvYWRzX2JyaWRnZV9wb3J0KHN0cnVjdCBkc2FfcG9ydCAqZHAsDQo+IC0JCQkJCQkgY29uc3Qg
c3RydWN0IG5ldF9kZXZpY2UgKmRldikNCj4gLXsNCj4gLQlyZXR1cm4gZHNhX3BvcnRfdG9fYnJp
ZGdlX3BvcnQoZHApID09IGRldjsNCj4gLX0NCj4gLQ0KPiAtc3RhdGljIGlubGluZSBib29sDQo+
IC1kc2FfcG9ydF9vZmZsb2Fkc19icmlkZ2VfZGV2KHN0cnVjdCBkc2FfcG9ydCAqZHAsDQo+IC0J
CQkgICAgIGNvbnN0IHN0cnVjdCBuZXRfZGV2aWNlICpicmlkZ2VfZGV2KQ0KPiAtew0KPiAtCS8q
IERTQSBwb3J0cyBjb25uZWN0ZWQgdG8gYSBicmlkZ2UsIGFuZCBldmVudCB3YXMgZW1pdHRlZA0K
PiAtCSAqIGZvciB0aGUgYnJpZGdlLg0KPiAtCSAqLw0KPiAtCXJldHVybiBkc2FfcG9ydF9icmlk
Z2VfZGV2X2dldChkcCkgPT0gYnJpZGdlX2RldjsNCj4gLX0NCj4gLQ0KPiAtLyogUmV0dXJucyB0
cnVlIGlmIGFueSBwb3J0IG9mIHRoaXMgdHJlZSBvZmZsb2FkcyB0aGUgZ2l2ZW4gbmV0X2Rldmlj
ZSAqLw0KPiAtc3RhdGljIGlubGluZSBib29sIGRzYV90cmVlX29mZmxvYWRzX2JyaWRnZV9wb3J0
KHN0cnVjdCBkc2Ffc3dpdGNoX3RyZWUgKmRzdCwNCj4gLQkJCQkJCSBjb25zdCBzdHJ1Y3QgbmV0
X2RldmljZSAqZGV2KQ0KPiAtew0KPiAtCXN0cnVjdCBkc2FfcG9ydCAqZHA7DQo+IC0NCj4gLQls
aXN0X2Zvcl9lYWNoX2VudHJ5KGRwLCAmZHN0LT5wb3J0cywgbGlzdCkNCj4gLQkJaWYgKGRzYV9w
b3J0X29mZmxvYWRzX2JyaWRnZV9wb3J0KGRwLCBkZXYpKQ0KPiAtCQkJcmV0dXJuIHRydWU7DQo+
IC0NCj4gLQlyZXR1cm4gZmFsc2U7DQo+IC19DQo+IC0NCj4gLS8qIFJldHVybnMgdHJ1ZSBpZiBh
bnkgcG9ydCBvZiB0aGlzIHRyZWUgb2ZmbG9hZHMgdGhlIGdpdmVuIGJyaWRnZSAqLw0KPiAtc3Rh
dGljIGlubGluZSBib29sDQo+IC1kc2FfdHJlZV9vZmZsb2Fkc19icmlkZ2VfZGV2KHN0cnVjdCBk
c2Ffc3dpdGNoX3RyZWUgKmRzdCwNCj4gLQkJCSAgICAgY29uc3Qgc3RydWN0IG5ldF9kZXZpY2Ug
KmJyaWRnZV9kZXYpDQo+IC17DQo+IC0Jc3RydWN0IGRzYV9wb3J0ICpkcDsNCj4gLQ0KPiAtCWxp
c3RfZm9yX2VhY2hfZW50cnkoZHAsICZkc3QtPnBvcnRzLCBsaXN0KQ0KPiAtCQlpZiAoZHNhX3Bv
cnRfb2ZmbG9hZHNfYnJpZGdlX2RldihkcCwgYnJpZGdlX2RldikpDQo+IC0JCQlyZXR1cm4gdHJ1
ZTsNCj4gLQ0KPiAtCXJldHVybiBmYWxzZTsNCj4gLX0NCj4gLQ0KPiAgIC8qIHNsYXZlLmMgKi8N
Cj4gICBleHRlcm4gY29uc3Qgc3RydWN0IGRzYV9kZXZpY2Vfb3BzIG5vdGFnX25ldGRldl9vcHM7
DQo+ICAgZXh0ZXJuIHN0cnVjdCBub3RpZmllcl9ibG9jayBkc2Ffc2xhdmVfc3dpdGNoZGV2X25v
dGlmaWVyOw0KPiBAQCAtNDE3LDcgKzM3NCw3IEBAIGRzYV9maW5kX2Rlc2lnbmF0ZWRfYnJpZGdl
X3BvcnRfYnlfdmlkKHN0cnVjdCBuZXRfZGV2aWNlICptYXN0ZXIsIHUxNiB2aWQpDQo+ICAgCQlp
ZiAoZHAtPnR5cGUgIT0gRFNBX1BPUlRfVFlQRV9VU0VSKQ0KPiAgIAkJCWNvbnRpbnVlOw0KPiAg
IA0KPiAtCQlpZiAoIWRwLT5icmlkZ2VfZGV2KQ0KPiArCQlpZiAoIWRwLT5icmlkZ2UpDQo+ICAg
CQkJY29udGludWU7DQo+ICAgDQo+ICAgCQlpZiAoZHAtPnN0cF9zdGF0ZSAhPSBCUl9TVEFURV9M
RUFSTklORyAmJg0KPiBAQCAtNDQ2LDcgKzQwMyw3IEBAIGRzYV9maW5kX2Rlc2lnbmF0ZWRfYnJp
ZGdlX3BvcnRfYnlfdmlkKHN0cnVjdCBuZXRfZGV2aWNlICptYXN0ZXIsIHUxNiB2aWQpDQo+ICAg
LyogSWYgdGhlIGluZ3Jlc3MgcG9ydCBvZmZsb2FkcyB0aGUgYnJpZGdlLCB3ZSBtYXJrIHRoZSBm
cmFtZSBhcyBhdXRvbm9tb3VzbHkNCj4gICAgKiBmb3J3YXJkZWQgYnkgaGFyZHdhcmUsIHNvIHRo
ZSBzb2Z0d2FyZSBicmlkZ2UgZG9lc24ndCBmb3J3YXJkIGluIHR3aWNlLCBiYWNrDQo+ICAgICog
dG8gdXMsIGJlY2F1c2Ugd2UgYWxyZWFkeSBkaWQuIEhvd2V2ZXIsIGlmIHdlJ3JlIGluIGZhbGxi
YWNrIG1vZGUgYW5kIHdlIGRvDQo+IC0gKiBzb2Z0d2FyZSBicmlkZ2luZywgd2UgYXJlIG5vdCBv
ZmZsb2FkaW5nIGl0LCB0aGVyZWZvcmUgdGhlIGRwLT5icmlkZ2VfZGV2DQo+ICsgKiBzb2Z0d2Fy
ZSBicmlkZ2luZywgd2UgYXJlIG5vdCBvZmZsb2FkaW5nIGl0LCB0aGVyZWZvcmUgdGhlIGRwLT5i
cmlkZ2UNCj4gICAgKiBwb2ludGVyIGlzIG5vdCBwb3B1bGF0ZWQsIGFuZCBmbG9vZGluZyBuZWVk
cyB0byBiZSBkb25lIGJ5IHNvZnR3YXJlICh3ZSBhcmUNCj4gICAgKiBlZmZlY3RpdmVseSBvcGVy
YXRpbmcgaW4gc3RhbmRhbG9uZSBwb3J0cyBtb2RlKS4NCj4gICAgKi8NCj4gQEAgLTQ1NCw3ICs0
MTEsNyBAQCBzdGF0aWMgaW5saW5lIHZvaWQgZHNhX2RlZmF1bHRfb2ZmbG9hZF9md2RfbWFyayhz
dHJ1Y3Qgc2tfYnVmZiAqc2tiKQ0KPiAgIHsNCj4gICAJc3RydWN0IGRzYV9wb3J0ICpkcCA9IGRz
YV9zbGF2ZV90b19wb3J0KHNrYi0+ZGV2KTsNCj4gICANCj4gLQlza2ItPm9mZmxvYWRfZndkX21h
cmsgPSAhIShkcC0+YnJpZGdlX2Rldik7DQo+ICsJc2tiLT5vZmZsb2FkX2Z3ZF9tYXJrID0gISEo
ZHAtPmJyaWRnZSk7DQo+ICAgfQ0KPiAgIA0KPiAgIC8qIEhlbHBlciBmb3IgcmVtb3ZpbmcgRFNB
IGhlYWRlciB0YWdzIGZyb20gcGFja2V0cyBpbiB0aGUgUlggcGF0aC4NCj4gQEAgLTU1MSw2ICs1
MDgsOCBAQCBpbnQgZHNhX3RyZWVfY2hhbmdlX3RhZ19wcm90byhzdHJ1Y3QgZHNhX3N3aXRjaF90
cmVlICpkc3QsDQo+ICAgdW5zaWduZWQgaW50IGRzYV9icmlkZ2VfbnVtX2dldChjb25zdCBzdHJ1
Y3QgbmV0X2RldmljZSAqYnJpZGdlX2RldiwgaW50IG1heCk7DQo+ICAgdm9pZCBkc2FfYnJpZGdl
X251bV9wdXQoY29uc3Qgc3RydWN0IG5ldF9kZXZpY2UgKmJyaWRnZV9kZXYsDQo+ICAgCQkJdW5z
aWduZWQgaW50IGJyaWRnZV9udW0pOw0KPiArc3RydWN0IGRzYV9icmlkZ2UgKmRzYV90cmVlX2Jy
aWRnZV9maW5kKHN0cnVjdCBkc2Ffc3dpdGNoX3RyZWUgKmRzdCwNCj4gKwkJCQkJY29uc3Qgc3Ry
dWN0IG5ldF9kZXZpY2UgKmJyKTsNCj4gICANCj4gICAvKiB0YWdfODAyMXEuYyAqLw0KPiAgIGlu
dCBkc2FfdGFnXzgwMjFxX2JyaWRnZV9qb2luKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywNCj4gZGlm
ZiAtLWdpdCBhL25ldC9kc2EvcG9ydC5jIGIvbmV0L2RzYS9wb3J0LmMNCj4gaW5kZXggYWFhOTc4
ZWUxNjVlLi5iMmU2Njk5NGY3MmMgMTAwNjQ0DQo+IC0tLSBhL25ldC9kc2EvcG9ydC5jDQo+ICsr
KyBiL25ldC9kc2EvcG9ydC5jDQo+IEBAIC0xMzAsNyArMTMwLDcgQEAgaW50IGRzYV9wb3J0X2Vu
YWJsZV9ydChzdHJ1Y3QgZHNhX3BvcnQgKmRwLCBzdHJ1Y3QgcGh5X2RldmljZSAqcGh5KQ0KPiAg
IAkJCXJldHVybiBlcnI7DQo+ICAgCX0NCj4gICANCj4gLQlpZiAoIWRwLT5icmlkZ2VfZGV2KQ0K
PiArCWlmICghZHAtPmJyaWRnZSkNCj4gICAJCWRzYV9wb3J0X3NldF9zdGF0ZV9ub3coZHAsIEJS
X1NUQVRFX0ZPUldBUkRJTkcsIGZhbHNlKTsNCj4gICANCj4gICAJaWYgKGRwLT5wbCkNCj4gQEAg
LTE1OCw3ICsxNTgsNyBAQCB2b2lkIGRzYV9wb3J0X2Rpc2FibGVfcnQoc3RydWN0IGRzYV9wb3J0
ICpkcCkNCj4gICAJaWYgKGRwLT5wbCkNCj4gICAJCXBoeWxpbmtfc3RvcChkcC0+cGwpOw0KPiAg
IA0KPiAtCWlmICghZHAtPmJyaWRnZV9kZXYpDQo+ICsJaWYgKCFkcC0+YnJpZGdlKQ0KPiAgIAkJ
ZHNhX3BvcnRfc2V0X3N0YXRlX25vdyhkcCwgQlJfU1RBVEVfRElTQUJMRUQsIGZhbHNlKTsNCj4g
ICANCj4gICAJaWYgKGRzLT5vcHMtPnBvcnRfZGlzYWJsZSkNCj4gQEAgLTI3MSwzNiArMjcxLDMy
IEBAIHN0YXRpYyB2b2lkIGRzYV9wb3J0X3N3aXRjaGRldl91bnN5bmNfYXR0cnMoc3RydWN0IGRz
YV9wb3J0ICpkcCkNCj4gICB9DQo+ICAgDQo+ICAgc3RhdGljIHZvaWQgZHNhX3BvcnRfYnJpZGdl
X3R4X2Z3ZF91bm9mZmxvYWQoc3RydWN0IGRzYV9wb3J0ICpkcCwNCj4gLQkJCQkJICAgICBzdHJ1
Y3QgbmV0X2RldmljZSAqYnJpZGdlX2RldiwNCj4gLQkJCQkJICAgICB1bnNpZ25lZCBpbnQgYnJp
ZGdlX251bSkNCj4gKwkJCQkJICAgICBzdHJ1Y3QgZHNhX2JyaWRnZSBicmlkZ2UpDQo+ICAgew0K
PiAgIAlzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMgPSBkcC0+ZHM7DQo+ICAgDQo+ICAgCS8qIE5vIGJy
aWRnZSBUWCBmb3J3YXJkaW5nIG9mZmxvYWQgPT4gZG8gbm90aGluZyAqLw0KPiAtCWlmICghZHMt
Pm9wcy0+cG9ydF9icmlkZ2VfdHhfZndkX3Vub2ZmbG9hZCB8fCAhYnJpZGdlX251bSkNCj4gKwlp
ZiAoIWRzLT5vcHMtPnBvcnRfYnJpZGdlX3R4X2Z3ZF91bm9mZmxvYWQgfHwgIWJyaWRnZS5udW0p
DQo+ICAgCQlyZXR1cm47DQo+ICAgDQo+ICAgCS8qIE5vdGlmeSB0aGUgY2hpcHMgb25seSBvbmNl
IHRoZSBvZmZsb2FkIGhhcyBiZWVuIGRlYWN0aXZhdGVkLCBzbw0KPiAgIAkgKiB0aGF0IHRoZXkg
Y2FuIHVwZGF0ZSB0aGVpciBjb25maWd1cmF0aW9uIGFjY29yZGluZ2x5Lg0KPiAgIAkgKi8NCj4g
LQlkcy0+b3BzLT5wb3J0X2JyaWRnZV90eF9md2RfdW5vZmZsb2FkKGRzLCBkcC0+aW5kZXgsIGJy
aWRnZV9kZXYsDQo+IC0JCQkJCSAgICAgIGJyaWRnZV9udW0pOw0KPiArCWRzLT5vcHMtPnBvcnRf
YnJpZGdlX3R4X2Z3ZF91bm9mZmxvYWQoZHMsIGRwLT5pbmRleCwgYnJpZGdlKTsNCj4gICB9DQo+
ICAgDQo+ICAgc3RhdGljIGJvb2wgZHNhX3BvcnRfYnJpZGdlX3R4X2Z3ZF9vZmZsb2FkKHN0cnVj
dCBkc2FfcG9ydCAqZHAsDQo+IC0JCQkJCSAgIHN0cnVjdCBuZXRfZGV2aWNlICpicmlkZ2VfZGV2
LA0KPiAtCQkJCQkgICB1bnNpZ25lZCBpbnQgYnJpZGdlX251bSkNCj4gKwkJCQkJICAgc3RydWN0
IGRzYV9icmlkZ2UgYnJpZGdlKQ0KPiAgIHsNCj4gICAJc3RydWN0IGRzYV9zd2l0Y2ggKmRzID0g
ZHAtPmRzOw0KPiAgIAlpbnQgZXJyOw0KPiAgIA0KPiAgIAkvKiBGREIgaXNvbGF0aW9uIGlzIHJl
cXVpcmVkIGZvciBUWCBmb3J3YXJkaW5nIG9mZmxvYWQgKi8NCj4gLQlpZiAoIWRzLT5vcHMtPnBv
cnRfYnJpZGdlX3R4X2Z3ZF9vZmZsb2FkIHx8ICFicmlkZ2VfbnVtKQ0KPiArCWlmICghZHMtPm9w
cy0+cG9ydF9icmlkZ2VfdHhfZndkX29mZmxvYWQgfHwgIWJyaWRnZS5udW0pDQo+ICAgCQlyZXR1
cm4gZmFsc2U7DQo+ICAgDQo+ICAgCS8qIE5vdGlmeSB0aGUgZHJpdmVyICovDQo+IC0JZXJyID0g
ZHMtPm9wcy0+cG9ydF9icmlkZ2VfdHhfZndkX29mZmxvYWQoZHMsIGRwLT5pbmRleCwgYnJpZGdl
X2RldiwNCj4gLQkJCQkJCSAgYnJpZGdlX251bSk7DQo+ICsJZXJyID0gZHMtPm9wcy0+cG9ydF9i
cmlkZ2VfdHhfZndkX29mZmxvYWQoZHMsIGRwLT5pbmRleCwgYnJpZGdlKTsNCj4gICANCj4gICAJ
cmV0dXJuIGVyciA/IGZhbHNlIDogdHJ1ZTsNCj4gICB9DQo+IEBAIC0zMTAsMjEgKzMwNiwzMSBA
QCBzdGF0aWMgaW50IGRzYV9wb3J0X2JyaWRnZV9jcmVhdGUoc3RydWN0IGRzYV9wb3J0ICpkcCwN
Cj4gICAJCQkJICBzdHJ1Y3QgbmV0bGlua19leHRfYWNrICpleHRhY2spDQo+ICAgew0KPiAgIAlz
dHJ1Y3QgZHNhX3N3aXRjaCAqZHMgPSBkcC0+ZHM7DQo+IC0JdW5zaWduZWQgaW50IGJyaWRnZV9u
dW07DQo+ICsJc3RydWN0IGRzYV9icmlkZ2UgKmJyaWRnZTsNCj4gICANCj4gLQlkcC0+YnJpZGdl
X2RldiA9IGJyOw0KPiAtDQo+IC0JaWYgKCFkcy0+bWF4X251bV9icmlkZ2VzKQ0KPiArCWJyaWRn
ZSA9IGRzYV90cmVlX2JyaWRnZV9maW5kKGRzLT5kc3QsIGJyKTsNCj4gKwlpZiAoYnJpZGdlKSB7
DQo+ICsJCXJlZmNvdW50X2luYygmYnJpZGdlLT5yZWZjb3VudCk7DQo+ICsJCWRwLT5icmlkZ2Ug
PSBicmlkZ2U7DQo+ICAgCQlyZXR1cm4gMDsNCj4gKwl9DQo+ICsNCj4gKwlicmlkZ2UgPSBremFs
bG9jKHNpemVvZigqYnJpZGdlKSwgR0ZQX0tFUk5FTCk7DQo+ICsJaWYgKCFicmlkZ2UpDQo+ICsJ
CXJldHVybiAtRU5PTUVNOw0KPiArDQo+ICsJcmVmY291bnRfc2V0KCZicmlkZ2UtPnJlZmNvdW50
LCAxKTsNCj4gKw0KPiArCWJyaWRnZS0+ZGV2ID0gYnI7DQo+ICAgDQo+IC0JYnJpZGdlX251bSA9
IGRzYV9icmlkZ2VfbnVtX2dldChiciwgZHMtPm1heF9udW1fYnJpZGdlcyk7DQo+IC0JaWYgKCFi
cmlkZ2VfbnVtKSB7DQo+ICsJYnJpZGdlLT5udW0gPSBkc2FfYnJpZGdlX251bV9nZXQoYnIsIGRz
LT5tYXhfbnVtX2JyaWRnZXMpOw0KPiArCWlmIChkcy0+bWF4X251bV9icmlkZ2VzICYmICFicmlk
Z2UtPm51bSkgew0KPiAgIAkJTkxfU0VUX0VSUl9NU0dfTU9EKGV4dGFjaywNCj4gICAJCQkJICAg
IlJhbmdlIG9mIG9mZmxvYWRhYmxlIGJyaWRnZXMgZXhjZWVkZWQiKTsNCj4gICAJCXJldHVybiAt
RU9QTk9UU1VQUDsNCj4gICAJfQ0KPiAgIA0KPiAtCWRwLT5icmlkZ2VfbnVtID0gYnJpZGdlX251
bTsNCj4gKwlkcC0+YnJpZGdlID0gYnJpZGdlOw0KPiAgIA0KPiAgIAlyZXR1cm4gMDsNCj4gICB9
DQo+IEBAIC0zMzIsMTYgKzMzOCwxNyBAQCBzdGF0aWMgaW50IGRzYV9wb3J0X2JyaWRnZV9jcmVh
dGUoc3RydWN0IGRzYV9wb3J0ICpkcCwNCj4gICBzdGF0aWMgdm9pZCBkc2FfcG9ydF9icmlkZ2Vf
ZGVzdHJveShzdHJ1Y3QgZHNhX3BvcnQgKmRwLA0KPiAgIAkJCQkgICAgY29uc3Qgc3RydWN0IG5l
dF9kZXZpY2UgKmJyKQ0KPiAgIHsNCj4gLQlzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMgPSBkcC0+ZHM7
DQo+ICsJc3RydWN0IGRzYV9icmlkZ2UgKmJyaWRnZSA9IGRwLT5icmlkZ2U7DQo+ICsNCj4gKwlk
cC0+YnJpZGdlID0gTlVMTDsNCj4gICANCj4gLQlkcC0+YnJpZGdlX2RldiA9IE5VTEw7DQo+ICsJ
aWYgKCFyZWZjb3VudF9kZWNfYW5kX3Rlc3QoJmJyaWRnZS0+cmVmY291bnQpKQ0KPiArCQlyZXR1
cm47DQo+ICAgDQo+IC0JaWYgKGRzLT5tYXhfbnVtX2JyaWRnZXMpIHsNCj4gLQkJaW50IGJyaWRn
ZV9udW0gPSBkcC0+YnJpZGdlX251bTsNCj4gKwlpZiAoYnJpZGdlLT5udW0pDQo+ICsJCWRzYV9i
cmlkZ2VfbnVtX3B1dChiciwgYnJpZGdlLT5udW0pOw0KDQpIbSwgc2luY2UgeW91J3JlIHJlZmNv
dW50aW5nIGRwLT5icmlkZ2Ugbm93LCBjYW4ndCB5b3Ugc2ltcGxpZnkgDQpkc2FfYnJpZGdlX251
bV9wdXQoKSB0byBqdXN0IGNsZWFyIHRoZSBiaXQgaW4gZHNhX2Z3ZF9vZmZsb2FkaW5nX2JyaWRn
ZXMgDQp3aXRob3V0IGNhbGxpbmcgZHNhX2JyaWRnZV9udW1fZmluZCgpICh3aGljaCB3aWxsIGFs
d2F5cyByZXR1cm4gMCBub3csIA0KZnJvbSB3aGF0IEkgY2FuIHRlbGwpPyBPciBqdXN0IHNxdWFz
aCB0aGUgYnJpZGdlIG51bWJlciBnZXR0aW5nL3B1dHRpbmcgDQpsb2dpYyBpbnRvIGRzYV9wb3J0
X2JyaWRnZV97Y3JlYXRlLGRlc3Ryb3l9Lg0KDQo+ICAgDQo+IC0JCWRwLT5icmlkZ2VfbnVtID0g
MDsNCj4gLQkJZHNhX2JyaWRnZV9udW1fcHV0KGJyLCBicmlkZ2VfbnVtKTsNCj4gLQl9DQo+ICsJ
a2ZyZWUoYnJpZGdlKTsNCj4gICB9DQo+ICAgDQo+ICAgaW50IGRzYV9wb3J0X2JyaWRnZV9qb2lu
KHN0cnVjdCBkc2FfcG9ydCAqZHAsIHN0cnVjdCBuZXRfZGV2aWNlICpiciwNCj4gQEAgLTM1MSw3
ICszNTgsNiBAQCBpbnQgZHNhX3BvcnRfYnJpZGdlX2pvaW4oc3RydWN0IGRzYV9wb3J0ICpkcCwg
c3RydWN0IG5ldF9kZXZpY2UgKmJyLA0KPiAgIAkJLnRyZWVfaW5kZXggPSBkcC0+ZHMtPmRzdC0+
aW5kZXgsDQo+ICAgCQkuc3dfaW5kZXggPSBkcC0+ZHMtPmluZGV4LA0KPiAgIAkJLnBvcnQgPSBk
cC0+aW5kZXgsDQo+IC0JCS5iciA9IGJyLA0KPiAgIAl9Ow0KPiAgIAlzdHJ1Y3QgbmV0X2Rldmlj
ZSAqZGV2ID0gZHAtPnNsYXZlOw0KPiAgIAlzdHJ1Y3QgbmV0X2RldmljZSAqYnJwb3J0X2RldjsN
Cj4gQEAgLTM2NywxMiArMzczLDEyIEBAIGludCBkc2FfcG9ydF9icmlkZ2Vfam9pbihzdHJ1Y3Qg
ZHNhX3BvcnQgKmRwLCBzdHJ1Y3QgbmV0X2RldmljZSAqYnIsDQo+ICAgDQo+ICAgCWJycG9ydF9k
ZXYgPSBkc2FfcG9ydF90b19icmlkZ2VfcG9ydChkcCk7DQo+ICAgDQo+ICsJaW5mby5icmlkZ2Ug
PSAqZHAtPmJyaWRnZTsNCj4gICAJZXJyID0gZHNhX2Jyb2FkY2FzdChEU0FfTk9USUZJRVJfQlJJ
REdFX0pPSU4sICZpbmZvKTsNCj4gICAJaWYgKGVycikNCj4gICAJCWdvdG8gb3V0X3JvbGxiYWNr
Ow0KPiAgIA0KPiAtCXR4X2Z3ZF9vZmZsb2FkID0gZHNhX3BvcnRfYnJpZGdlX3R4X2Z3ZF9vZmZs
b2FkKGRwLCBiciwNCj4gLQkJCQkJCQlkc2FfcG9ydF9icmlkZ2VfbnVtX2dldChkcCkpOw0KPiAr
CXR4X2Z3ZF9vZmZsb2FkID0gZHNhX3BvcnRfYnJpZGdlX3R4X2Z3ZF9vZmZsb2FkKGRwLCBpbmZv
LmJyaWRnZSk7DQo+ICAgDQo+ICAgCWVyciA9IHN3aXRjaGRldl9icmlkZ2VfcG9ydF9vZmZsb2Fk
KGJycG9ydF9kZXYsIGRldiwgZHAsDQo+ICAgCQkJCQkgICAgJmRzYV9zbGF2ZV9zd2l0Y2hkZXZf
bm90aWZpZXIsDQo+IEBAIC00MTUsMTIgKzQyMSwxMSBAQCB2b2lkIGRzYV9wb3J0X3ByZV9icmlk
Z2VfbGVhdmUoc3RydWN0IGRzYV9wb3J0ICpkcCwgc3RydWN0IG5ldF9kZXZpY2UgKmJyKQ0KPiAg
IA0KPiAgIHZvaWQgZHNhX3BvcnRfYnJpZGdlX2xlYXZlKHN0cnVjdCBkc2FfcG9ydCAqZHAsIHN0
cnVjdCBuZXRfZGV2aWNlICpicikNCj4gICB7DQo+IC0JdW5zaWduZWQgaW50IGJyaWRnZV9udW0g
PSBkc2FfcG9ydF9icmlkZ2VfbnVtX2dldChkcCk7DQo+ICAgCXN0cnVjdCBkc2Ffbm90aWZpZXJf
YnJpZGdlX2luZm8gaW5mbyA9IHsNCj4gICAJCS50cmVlX2luZGV4ID0gZHAtPmRzLT5kc3QtPmlu
ZGV4LA0KPiAgIAkJLnN3X2luZGV4ID0gZHAtPmRzLT5pbmRleCwNCj4gICAJCS5wb3J0ID0gZHAt
PmluZGV4LA0KPiAtCQkuYnIgPSBiciwNCj4gKwkJLmJyaWRnZSA9ICpkcC0+YnJpZGdlLA0KPiAg
IAl9Ow0KPiAgIAlpbnQgZXJyOw0KPiAgIA0KPiBAQCAtNDI5LDcgKzQzNCw3IEBAIHZvaWQgZHNh
X3BvcnRfYnJpZGdlX2xlYXZlKHN0cnVjdCBkc2FfcG9ydCAqZHAsIHN0cnVjdCBuZXRfZGV2aWNl
ICpicikNCj4gICAJICovDQo+ICAgCWRzYV9wb3J0X2JyaWRnZV9kZXN0cm95KGRwLCBicik7DQo+
ICAgDQo+IC0JZHNhX3BvcnRfYnJpZGdlX3R4X2Z3ZF91bm9mZmxvYWQoZHAsIGJyLCBicmlkZ2Vf
bnVtKTsNCj4gKwlkc2FfcG9ydF9icmlkZ2VfdHhfZndkX3Vub2ZmbG9hZChkcCwgaW5mby5icmlk
Z2UpOw0KPiAgIA0KPiAgIAllcnIgPSBkc2FfYnJvYWRjYXN0KERTQV9OT1RJRklFUl9CUklER0Vf
TEVBVkUsICZpbmZvKTsNCj4gICAJaWYgKGVycikNCj4gZGlmZiAtLWdpdCBhL25ldC9kc2Evc2xh
dmUuYyBiL25ldC9kc2Evc2xhdmUuYw0KPiBpbmRleCA5OGZkNWU5NzJkMjguLmEyOTE4MjMyYmFk
NiAxMDA2NDQNCj4gLS0tIGEvbmV0L2RzYS9zbGF2ZS5jDQo+ICsrKyBiL25ldC9kc2Evc2xhdmUu
Yw0KPiBAQCAtMTU2NCw3ICsxNTY0LDcgQEAgc3RhdGljIHZvaWQgZHNhX2JyaWRnZV9tdHVfbm9y
bWFsaXphdGlvbihzdHJ1Y3QgZHNhX3BvcnQgKmRwKQ0KPiAgIAlpZiAoIWRwLT5kcy0+bXR1X2Vu
Zm9yY2VtZW50X2luZ3Jlc3MpDQo+ICAgCQlyZXR1cm47DQo+ICAgDQo+IC0JaWYgKCFkcC0+YnJp
ZGdlX2RldikNCj4gKwlpZiAoIWRwLT5icmlkZ2UpDQo+ICAgCQlyZXR1cm47DQo+ICAgDQo+ICAg
CUlOSVRfTElTVF9IRUFEKCZod19wb3J0X2xpc3QpOw0KPiBkaWZmIC0tZ2l0IGEvbmV0L2RzYS9z
d2l0Y2guYyBiL25ldC9kc2Evc3dpdGNoLmMNCj4gaW5kZXggNzk5MzE5MmZlNzY5Li5jZDA2MzBk
ZDU0MTcgMTAwNjQ0DQo+IC0tLSBhL25ldC9kc2Evc3dpdGNoLmMNCj4gKysrIGIvbmV0L2RzYS9z
d2l0Y2guYw0KPiBAQCAtOTUsNyArOTUsNyBAQCBzdGF0aWMgaW50IGRzYV9zd2l0Y2hfYnJpZGdl
X2pvaW4oc3RydWN0IGRzYV9zd2l0Y2ggKmRzLA0KPiAgIAkJaWYgKCFkcy0+b3BzLT5wb3J0X2Jy
aWRnZV9qb2luKQ0KPiAgIAkJCXJldHVybiAtRU9QTk9UU1VQUDsNCj4gICANCj4gLQkJZXJyID0g
ZHMtPm9wcy0+cG9ydF9icmlkZ2Vfam9pbihkcywgaW5mby0+cG9ydCwgaW5mby0+YnIpOw0KPiAr
CQllcnIgPSBkcy0+b3BzLT5wb3J0X2JyaWRnZV9qb2luKGRzLCBpbmZvLT5wb3J0LCBpbmZvLT5i
cmlkZ2UpOw0KPiAgIAkJaWYgKGVycikNCj4gICAJCQlyZXR1cm4gZXJyOw0KPiAgIAl9DQo+IEBA
IC0xMDQsNyArMTA0LDcgQEAgc3RhdGljIGludCBkc2Ffc3dpdGNoX2JyaWRnZV9qb2luKHN0cnVj
dCBkc2Ffc3dpdGNoICpkcywNCj4gICAJICAgIGRzLT5vcHMtPmNyb3NzY2hpcF9icmlkZ2Vfam9p
bikgew0KPiAgIAkJZXJyID0gZHMtPm9wcy0+Y3Jvc3NjaGlwX2JyaWRnZV9qb2luKGRzLCBpbmZv
LT50cmVlX2luZGV4LA0KPiAgIAkJCQkJCSAgICAgaW5mby0+c3dfaW5kZXgsDQo+IC0JCQkJCQkg
ICAgIGluZm8tPnBvcnQsIGluZm8tPmJyKTsNCj4gKwkJCQkJCSAgICAgaW5mby0+cG9ydCwgaW5m
by0+YnJpZGdlKTsNCj4gICAJCWlmIChlcnIpDQo+ICAgCQkJcmV0dXJuIGVycjsNCj4gICAJfQ0K
PiBAQCAtMTI0LDE5ICsxMjQsMjAgQEAgc3RhdGljIGludCBkc2Ffc3dpdGNoX2JyaWRnZV9sZWF2
ZShzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsDQo+ICAgDQo+ICAgCWlmIChkc3QtPmluZGV4ID09IGlu
Zm8tPnRyZWVfaW5kZXggJiYgZHMtPmluZGV4ID09IGluZm8tPnN3X2luZGV4ICYmDQo+ICAgCSAg
ICBkcy0+b3BzLT5wb3J0X2JyaWRnZV9sZWF2ZSkNCj4gLQkJZHMtPm9wcy0+cG9ydF9icmlkZ2Vf
bGVhdmUoZHMsIGluZm8tPnBvcnQsIGluZm8tPmJyKTsNCj4gKwkJZHMtPm9wcy0+cG9ydF9icmlk
Z2VfbGVhdmUoZHMsIGluZm8tPnBvcnQsIGluZm8tPmJyaWRnZSk7DQo+ICAgDQo+ICAgCWlmICgo
ZHN0LT5pbmRleCAhPSBpbmZvLT50cmVlX2luZGV4IHx8IGRzLT5pbmRleCAhPSBpbmZvLT5zd19p
bmRleCkgJiYNCj4gICAJICAgIGRzLT5vcHMtPmNyb3NzY2hpcF9icmlkZ2VfbGVhdmUpDQo+ICAg
CQlkcy0+b3BzLT5jcm9zc2NoaXBfYnJpZGdlX2xlYXZlKGRzLCBpbmZvLT50cmVlX2luZGV4LA0K
PiAgIAkJCQkJCWluZm8tPnN3X2luZGV4LCBpbmZvLT5wb3J0LA0KPiAtCQkJCQkJaW5mby0+YnIp
Ow0KPiArCQkJCQkJaW5mby0+YnJpZGdlKTsNCj4gICANCj4gLQlpZiAoZHMtPm5lZWRzX3N0YW5k
YWxvbmVfdmxhbl9maWx0ZXJpbmcgJiYgIWJyX3ZsYW5fZW5hYmxlZChpbmZvLT5icikpIHsNCj4g
KwlpZiAoZHMtPm5lZWRzX3N0YW5kYWxvbmVfdmxhbl9maWx0ZXJpbmcgJiYNCj4gKwkgICAgIWJy
X3ZsYW5fZW5hYmxlZChpbmZvLT5icmlkZ2UuZGV2KSkgew0KPiAgIAkJY2hhbmdlX3ZsYW5fZmls
dGVyaW5nID0gdHJ1ZTsNCj4gICAJCXZsYW5fZmlsdGVyaW5nID0gdHJ1ZTsNCj4gICAJfSBlbHNl
IGlmICghZHMtPm5lZWRzX3N0YW5kYWxvbmVfdmxhbl9maWx0ZXJpbmcgJiYNCj4gLQkJICAgYnJf
dmxhbl9lbmFibGVkKGluZm8tPmJyKSkgew0KPiArCQkgICBicl92bGFuX2VuYWJsZWQoaW5mby0+
YnJpZGdlLmRldikpIHsNCj4gICAJCWNoYW5nZV92bGFuX2ZpbHRlcmluZyA9IHRydWU7DQo+ICAg
CQl2bGFuX2ZpbHRlcmluZyA9IGZhbHNlOw0KPiAgIAl9DQo+IGRpZmYgLS1naXQgYS9uZXQvZHNh
L3RhZ184MDIxcS5jIGIvbmV0L2RzYS90YWdfODAyMXEuYw0KPiBpbmRleCBlOWQ1ZTU2Njk3M2Mu
LjI3NzEyYTgxYzk2NyAxMDA2NDQNCj4gLS0tIGEvbmV0L2RzYS90YWdfODAyMXEuYw0KPiArKysg
Yi9uZXQvZHNhL3RhZ184MDIxcS5jDQo+IEBAIC0zMzcsNyArMzM3LDcgQEAgZHNhX3BvcnRfdGFn
XzgwMjFxX2JyaWRnZV9tYXRjaChzdHJ1Y3QgZHNhX3BvcnQgKmRwLA0KPiAgIAkJcmV0dXJuIGZh
bHNlOw0KPiAgIA0KPiAgIAlpZiAoZHNhX3BvcnRfaXNfdXNlcihkcCkpDQo+IC0JCXJldHVybiBk
c2FfcG9ydF9icmlkZ2VfZGV2X2dldChkcCkgPT0gaW5mby0+YnI7DQo+ICsJCXJldHVybiBkc2Ff
cG9ydF9vZmZsb2Fkc19icmlkZ2UoZHAsICZpbmZvLT5icmlkZ2UpOw0KPiAgIA0KPiAgIAlyZXR1
cm4gZmFsc2U7DQo+ICAgfQ0KPiBAQCAtNDEwLDEwICs0MTAsOSBAQCBpbnQgZHNhX3RhZ184MDIx
cV9icmlkZ2VfbGVhdmUoc3RydWN0IGRzYV9zd2l0Y2ggKmRzLA0KPiAgIH0NCj4gICANCj4gICBp
bnQgZHNhX3RhZ184MDIxcV9icmlkZ2VfdHhfZndkX29mZmxvYWQoc3RydWN0IGRzYV9zd2l0Y2gg
KmRzLCBpbnQgcG9ydCwNCj4gLQkJCQkJc3RydWN0IG5ldF9kZXZpY2UgKmJyLA0KPiAtCQkJCQl1
bnNpZ25lZCBpbnQgYnJpZGdlX251bSkNCj4gKwkJCQkJc3RydWN0IGRzYV9icmlkZ2UgYnJpZGdl
KQ0KPiAgIHsNCj4gLQl1MTYgdHhfdmlkID0gZHNhXzgwMjFxX2JyaWRnZV90eF9md2Rfb2ZmbG9h
ZF92aWQoYnJpZGdlX251bSk7DQo+ICsJdTE2IHR4X3ZpZCA9IGRzYV84MDIxcV9icmlkZ2VfdHhf
ZndkX29mZmxvYWRfdmlkKGJyaWRnZS5udW0pOw0KPiAgIA0KPiAgIAlyZXR1cm4gZHNhX3BvcnRf
dGFnXzgwMjFxX3ZsYW5fYWRkKGRzYV90b19wb3J0KGRzLCBwb3J0KSwgdHhfdmlkLA0KPiAgIAkJ
CQkJICAgdHJ1ZSk7DQo+IEBAIC00MjEsMTAgKzQyMCw5IEBAIGludCBkc2FfdGFnXzgwMjFxX2Jy
aWRnZV90eF9md2Rfb2ZmbG9hZChzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LA0KPiAg
IEVYUE9SVF9TWU1CT0xfR1BMKGRzYV90YWdfODAyMXFfYnJpZGdlX3R4X2Z3ZF9vZmZsb2FkKTsN
Cj4gICANCj4gICB2b2lkIGRzYV90YWdfODAyMXFfYnJpZGdlX3R4X2Z3ZF91bm9mZmxvYWQoc3Ry
dWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwNCj4gLQkJCQkJICAgc3RydWN0IG5ldF9kZXZp
Y2UgKmJyLA0KPiAtCQkJCQkgICB1bnNpZ25lZCBpbnQgYnJpZGdlX251bSkNCj4gKwkJCQkJICAg
c3RydWN0IGRzYV9icmlkZ2UgYnJpZGdlKQ0KPiAgIHsNCj4gLQl1MTYgdHhfdmlkID0gZHNhXzgw
MjFxX2JyaWRnZV90eF9md2Rfb2ZmbG9hZF92aWQoYnJpZGdlX251bSk7DQo+ICsJdTE2IHR4X3Zp
ZCA9IGRzYV84MDIxcV9icmlkZ2VfdHhfZndkX29mZmxvYWRfdmlkKGJyaWRnZS5udW0pOw0KPiAg
IA0KPiAgIAlkc2FfcG9ydF90YWdfODAyMXFfdmxhbl9kZWwoZHNhX3RvX3BvcnQoZHMsIHBvcnQp
LCB0eF92aWQsIHRydWUpOw0KPiAgIH0NCj4gDQoNCg==
