Return-Path: <netdev-owner@vger.kernel.org>
X-Original-To: lists+netdev@lfdr.de
Delivered-To: lists+netdev@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 85E32294CE
	for <lists+netdev@lfdr.de>; Fri, 24 May 2019 11:36:04 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2390257AbfEXJfx (ORCPT <rfc822;lists+netdev@lfdr.de>);
        Fri, 24 May 2019 05:35:53 -0400
Received: from mail-eopbgr40055.outbound.protection.outlook.com ([40.107.4.55]:45477
        "EHLO EUR03-DB5-obe.outbound.protection.outlook.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S2390189AbfEXJfw (ORCPT <rfc822;netdev@vger.kernel.org>);
        Fri, 24 May 2019 05:35:52 -0400
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=Mellanox.com;
 s=selector2;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=1Wh/WPDCE9yCkGPQKHwqb4DHGoOkfI3qiP4Fmvv2nr4=;
 b=YPEcQpfFvzyUuprS40FrMJE+e6xtmWLCPPGeVpeJX99cinV8oIkek884L2VKTOmYCmBgpTLGtG6I/swGwx4V8ptrDFlOUBfi0r2YA4xweyhpKr5b+DrEyVTyiI2Mta0w/85e6vAlbJc2CXiqqRke/70zjsbCNjO16+c5vDpNfq8=
Received: from AM6PR05MB5879.eurprd05.prod.outlook.com (20.179.0.76) by
 AM6PR05MB4294.eurprd05.prod.outlook.com (52.135.160.158) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1900.18; Fri, 24 May 2019 09:35:31 +0000
Received: from AM6PR05MB5879.eurprd05.prod.outlook.com
 ([fe80::3cb0:9252:d790:51e2]) by AM6PR05MB5879.eurprd05.prod.outlook.com
 ([fe80::3cb0:9252:d790:51e2%7]) with mapi id 15.20.1922.019; Fri, 24 May 2019
 09:35:31 +0000
From:   Maxim Mikityanskiy <maximmi@mellanox.com>
To:     Alexei Starovoitov <ast@kernel.org>,
        Daniel Borkmann <daniel@iogearbox.net>,
        =?utf-8?B?QmrDtnJuIFTDtnBlbA==?= <bjorn.topel@intel.com>,
        Magnus Karlsson <magnus.karlsson@intel.com>
CC:     "bpf@vger.kernel.org" <bpf@vger.kernel.org>,
        "netdev@vger.kernel.org" <netdev@vger.kernel.org>,
        "David S. Miller" <davem@davemloft.net>,
        Saeed Mahameed <saeedm@mellanox.com>,
        Jonathan Lemon <bsd@fb.com>,
        Tariq Toukan <tariqt@mellanox.com>,
        Martin KaFai Lau <kafai@fb.com>,
        Song Liu <songliubraving@fb.com>, Yonghong Song <yhs@fb.com>,
        Jakub Kicinski <jakub.kicinski@netronome.com>,
        Maciej Fijalkowski <maciejromanfijalkowski@gmail.com>,
        Maxim Mikityanskiy <maximmi@mellanox.com>
Subject: [PATCH bpf-next v3 10/16] net/mlx5e: Refactor struct mlx5e_xdp_info
Thread-Topic: [PATCH bpf-next v3 10/16] net/mlx5e: Refactor struct
 mlx5e_xdp_info
Thread-Index: AQHVEhQHCqFlYOey70qCc+B3X2cEqQ==
Date:   Fri, 24 May 2019 09:35:31 +0000
Message-ID: <20190524093431.20887-11-maximmi@mellanox.com>
References: <20190524093431.20887-1-maximmi@mellanox.com>
In-Reply-To: <20190524093431.20887-1-maximmi@mellanox.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: LO2P265CA0126.GBRP265.PROD.OUTLOOK.COM
 (2603:10a6:600:9f::18) To AM6PR05MB5879.eurprd05.prod.outlook.com
 (2603:10a6:20b:a2::12)
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=maximmi@mellanox.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.19.1
x-originating-ip: [141.226.120.58]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: ea90d7cc-82d8-419b-e920-08d6e02b29ac
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0;PCL:0;RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600141)(711020)(4605104)(4618075)(2017052603328)(7193020);SRVR:AM6PR05MB4294;
x-ms-traffictypediagnostic: AM6PR05MB4294:
x-microsoft-antispam-prvs: <AM6PR05MB42941BD1FCF810DF632CE116D1020@AM6PR05MB4294.eurprd05.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:10000;
x-forefront-prvs: 0047BC5ADE
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(979002)(136003)(39860400002)(396003)(366004)(346002)(376002)(199004)(189003)(66476007)(99286004)(478600001)(76176011)(66556008)(66946007)(14454004)(68736007)(6506007)(64756008)(386003)(66446008)(36756003)(316002)(54906003)(110136005)(73956011)(107886003)(26005)(486006)(71200400001)(71190400001)(52116002)(11346002)(446003)(186003)(305945005)(7736002)(2616005)(2906002)(476003)(6436002)(5660300002)(53936002)(50226002)(7416002)(30864003)(8676002)(102836004)(1076003)(8936002)(256004)(66066001)(86362001)(25786009)(6486002)(6512007)(4326008)(81166006)(3846002)(6116002)(81156014)(14444005)(969003)(989001)(999001)(1009001)(1019001);DIR:OUT;SFP:1101;SCL:1;SRVR:AM6PR05MB4294;H:AM6PR05MB5879.eurprd05.prod.outlook.com;FPR:;SPF:None;LANG:en;PTR:InfoNoRecords;A:1;MX:1;
received-spf: None (protection.outlook.com: mellanox.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: I6lvhhNBvmG7K0S+nwdqfTUqO61NG3qTyvBdO/Ouwt7RsHvrNnWg5Av15QTKaDRQd2R//BNAO9yEo/UMBSNBzerjrCAx2JXcUVR3D9/XsbbVUJsjPbyyaPwlMCd8jfW9K2gYzU7ne+opmxd3A2hZdJp18mE4SZqjUFJQr6SsLt/5fy/sWHNEaQhUb1CZUStCemPNnyofx0IgRVYDcAhaxjj52J/M26pEzemP8+u4F0OzaZiI5CHWspmAMrbPb+MfadKLA2OSLfH/upsNozWJygcu7bOyKcR0QDb48wJIVqol6gw46P55K4QCYQYQh+4veqg6hUKUD4KejHG+l3TXVtgTQ0NVmae75Bjsg5HOfUGLEiH6MZujOokeq9CyDDZphCAsndZwPS+1qVuvuwyZDCbdSYbJQvDKd+u5QmYtPdo=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: Mellanox.com
X-MS-Exchange-CrossTenant-Network-Message-Id: ea90d7cc-82d8-419b-e920-08d6e02b29ac
X-MS-Exchange-CrossTenant-originalarrivaltime: 24 May 2019 09:35:31.4042
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: a652971c-7d2e-4d9b-a6a4-d149256f461b
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-Transport-CrossTenantHeadersStamped: AM6PR05MB4294
Sender: netdev-owner@vger.kernel.org
Precedence: bulk
List-ID: <netdev.vger.kernel.org>
X-Mailing-List: netdev@vger.kernel.org

Q3VycmVudGx5LCBzdHJ1Y3QgbWx4NWVfeGRwX2luZm8gaGFzIHNvbWUgaXNzdWVzIHRoYXQgaGF2
ZSB0byBiZSBjbGVhbmVkDQp1cCBiZWZvcmUgdGhlIHVwY29taW5nIEFGX1hEUCBzdXBwb3J0IG1h
a2VzIHRoaW5ncyB0b28gY29tcGxpY2F0ZWQgYW5kDQptZXNzeS4gVGhpcyBzdHJ1Y3R1cmUgaXMg
dXNlZCBib3RoIHdoZW4gc2VuZGluZyB0aGUgcGFja2V0IGFuZCBvbg0KY29tcGxldGlvbi4gTW9y
ZW92ZXIsIHRoZSBjbGVhbnVwIHByb2NlZHVyZSBvbiBjb21wbGV0aW9uIGRlcGVuZHMgb24gdGhl
DQpvcmlnaW4gb2YgdGhlIHBhY2tldCAoWERQX1JFRElSRUNULCBYRFBfVFgpLiBBZGRpbmcgQUZf
WERQIHN1cHBvcnQgd2lsbA0KYWRkIG5ldyBmbG93cyB0aGF0IHVzZSB0aGlzIHN0cnVjdHVyZSBl
dmVuIGRpZmZlcmVudGx5LiBUbyBhdm9pZA0Kb3ZlcmNvbXBsaWNhdGluZyB0aGUgY29kZSwgdGhp
cyBjb21taXQgcmVmYWN0b3JzIHRoZSB1c2FnZSBvZiB0aGlzDQpzdHJ1Y3R1cmUgaW4gdGhlIGZv
bGxvd2luZyB3YXlzOg0KDQoxLiBzdHJ1Y3QgbWx4NWVfeGRwX2luZm8gaXMgc3BsaXQgaW50byB0
d28gZGlmZmVyZW50IHN0cnVjdHVyZXMuIE9uZSBpcw0Kc3RydWN0IG1seDVlX3hkcF94bWl0X2Rh
dGEsIGEgdHJhbnNpZW50IHN0cnVjdHVyZSB0aGF0IGRvZXNuJ3QgbmVlZCB0bw0KYmUgc3RvcmVk
IGFuZCBpcyBvbmx5IHVzZWQgd2hpbGUgc2VuZGluZyB0aGUgcGFja2V0LiBUaGUgb3RoZXIgaXMg
c3RpbGwNCnN0cnVjdCBtbHg1ZV94ZHBfaW5mbyB0aGF0IGlzIHN0b3JlZCBpbiBhIEZJRk8gYW5k
IGNvbnRhaW5zIHRoZSBmaWVsZHMNCm5lZWRlZCBvbiBjb21wbGV0aW9uLg0KDQoyLiBUaGUgZmll
bGRzIG9mIHN0cnVjdCBtbHg1ZV94ZHBfaW5mbyB0aGF0IGFyZSB1c2VkIGluIGRpZmZlcmVudCBm
bG93cw0KYXJlIHB1dCBpbnRvIGEgdW5pb24uIEEgc3BlY2lhbCBlbnVtIGluZGljYXRlcyB0aGUg
Y2xlYW51cCBtb2RlIGFuZA0KaGVscHMgY2hvb3NlIHRoZSByaWdodCB1bmlvbiBtZW1iZXIuIFRo
aXMgYXBwcm9hY2ggaXMgY2xlYXIgYW5kDQpleHBsaWNpdC4gQWx0aG91Z2ggaXQgY291bGQgYmUg
cG9zc2libGUgdG8gImd1ZXNzIiB0aGUgbW9kZSBieSBsb29raW5nDQphdCB0aGUgdmFsdWVzIG9m
IHRoZSBmaWVsZHMgYW5kIGF0IHRoZSBYRFAgU1EgdHlwZSwgaXQgd291bGRuJ3QgYmUgdGhhdA0K
Y2xlYXIgYW5kIGV4dGVuZGFibGUgYW5kIHdvdWxkIHJlcXVpcmUgbG9va2luZyB0aHJvdWdoIHRo
ZSB3aG9sZSBjaGFpbg0KdG8gdW5kZXJzdGFuZCB3aGF0J3MgZ29pbmcgb24uDQoNCkZvciB0aGUg
cmVmZXJlbmNlLCB0aGVyZSBhcmUgdGhlIGZpZWxkcyBvZiBzdHJ1Y3QgbWx4NWVfeGRwX2luZm8g
dGhhdA0KYXJlIHVzZWQgaW4gZGlmZmVyZW50IGZsb3dzIChpbmNsdWRpbmcgQUZfWERQIG9uZXMp
Og0KDQpQYWNrZXQgb3JpZ2luICAgICAgICAgIHwgRmllbGRzIHVzZWQgb24gY29tcGxldGlvbiB8
IENsZWFudXAgc3RlcHMNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLSstLS0tLS0tLS0tLS0tLS0tLS0NClhEUF9SRURJUkVDVCwgICAgICAgICAgfCB4
ZHBmLCBkbWFfYWRkciAgICAgICAgICAgIHwgRE1BIHVubWFwIGFuZA0KWERQX1RYIGZyb20gWFNL
IFJRICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB4ZHBfcmV0dXJuX2ZyYW1lLg0K
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLS0t
LS0tLS0tLS0tLS0tLQ0KWERQX1RYIGZyb20gcmVndWxhciBSUSB8IGRpICAgICAgICAgICAgICAg
ICAgICAgICAgfCBSZWN5Y2xlIHBhZ2UuDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tLS0tLS0tLS0tLS0tLS0tDQpBRl9YRFAgVFggICAgICAg
ICAgICAgIHwgKG5vbmUpICAgICAgICAgICAgICAgICAgICB8IEluY3JlbWVudCB0aGUNCiAgICAg
ICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgcHJvZHVjZXIg
aW5kZXggaW4NCiAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHwgQ29tcGxldGlvbiBSaW5nLg0KDQpPbiBzZW5kLCB0aGUgc2FtZSBzZXQgb2YgbWx4NWVf
eGRwX3htaXRfZGF0YSBmaWVsZHMgaXMgdXNlZCBpbiBhbGwNCmZsb3dzOiBETUEgYW5kIHZpcnR1
YWwgYWRkcmVzc2VzIGFuZCBsZW5ndGguDQoNClNpZ25lZC1vZmYtYnk6IE1heGltIE1pa2l0eWFu
c2tpeSA8bWF4aW1taUBtZWxsYW5veC5jb20+DQpSZXZpZXdlZC1ieTogVGFyaXEgVG91a2FuIDx0
YXJpcXRAbWVsbGFub3guY29tPg0KQWNrZWQtYnk6IFNhZWVkIE1haGFtZWVkIDxzYWVlZG1AbWVs
bGFub3guY29tPg0KLS0tDQogZHJpdmVycy9uZXQvZXRoZXJuZXQvbWVsbGFub3gvbWx4NS9jb3Jl
L2VuLmggIHwgNDYgKysrKysrKysrLS0NCiAuLi4vbmV0L2V0aGVybmV0L21lbGxhbm94L21seDUv
Y29yZS9lbi94ZHAuYyAgfCA4MSArKysrKysrKysrKystLS0tLS0tDQogLi4uL25ldC9ldGhlcm5l
dC9tZWxsYW5veC9tbHg1L2NvcmUvZW4veGRwLmggIHwgMTEgKystDQogMyBmaWxlcyBjaGFuZ2Vk
LCA5NyBpbnNlcnRpb25zKCspLCA0MSBkZWxldGlvbnMoLSkNCg0KZGlmZiAtLWdpdCBhL2RyaXZl
cnMvbmV0L2V0aGVybmV0L21lbGxhbm94L21seDUvY29yZS9lbi5oIGIvZHJpdmVycy9uZXQvZXRo
ZXJuZXQvbWVsbGFub3gvbWx4NS9jb3JlL2VuLmgNCmluZGV4IDQxZTIyNzYzMDA3Yy4uY2RiNzM1
NjhhMzQ0IDEwMDY0NA0KLS0tIGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvbWVsbGFub3gvbWx4NS9j
b3JlL2VuLmgNCisrKyBiL2RyaXZlcnMvbmV0L2V0aGVybmV0L21lbGxhbm94L21seDUvY29yZS9l
bi5oDQpAQCAtNDAyLDEwICs0MDIsNDQgQEAgc3RydWN0IG1seDVlX2RtYV9pbmZvIHsNCiAJZG1h
X2FkZHJfdCAgICAgIGFkZHI7DQogfTsNCiANCisvKiBYRFAgcGFja2V0cyBjYW4gYmUgdHJhbnNt
aXR0ZWQgaW4gZGlmZmVyZW50IHdheXMuIE9uIGNvbXBsZXRpb24sIHdlIG5lZWQgdG8NCisgKiBk
aXN0aW5ndWlzaCBiZXR3ZWVuIHRoZW0gdG8gY2xlYW4gdXAgdGhpbmdzIGluIGEgcHJvcGVyIHdh
eS4NCisgKi8NCitlbnVtIG1seDVlX3hkcF94bWl0X21vZGUgew0KKwkvKiBBbiB4ZHBfZnJhbWUg
d2FzIHRyYW5zbWl0dGVkIGR1ZSB0byBlaXRoZXIgWERQX1JFRElSRUNUIGZyb20gYW5vdGhlcg0K
KwkgKiBkZXZpY2Ugb3IgWERQX1RYIGZyb20gYW4gWFNLIFJRLiBUaGUgZnJhbWUgaGFzIHRvIGJl
IHVubWFwcGVkIGFuZA0KKwkgKiByZXR1cm5lZC4NCisJICovDQorCU1MWDVFX1hEUF9YTUlUX01P
REVfRlJBTUUsDQorDQorCS8qIFRoZSB4ZHBfZnJhbWUgd2FzIGNyZWF0ZWQgaW4gcGxhY2UgYXMg
YSByZXN1bHQgb2YgWERQX1RYIGZyb20gYQ0KKwkgKiByZWd1bGFyIFJRLiBObyBETUEgcmVtYXBw
aW5nIGhhcHBlbmVkLCBhbmQgdGhlIHBhZ2UgYmVsb25ncyB0byB1cy4NCisJICovDQorCU1MWDVF
X1hEUF9YTUlUX01PREVfUEFHRSwNCisNCisJLyogTm8geGRwX2ZyYW1lIHdhcyBjcmVhdGVkIGF0
IGFsbCwgdGhlIHRyYW5zbWl0IGhhcHBlbmVkIGZyb20gYSBVTUVNDQorCSAqIHBhZ2UuIFRoZSBV
TUVNIENvbXBsZXRpb24gUmluZyBwcm9kdWNlciBwb2ludGVyIGhhcyB0byBiZSBpbmNyZWFzZWQu
DQorCSAqLw0KKwlNTFg1RV9YRFBfWE1JVF9NT0RFX1hTSywNCit9Ow0KKw0KIHN0cnVjdCBtbHg1
ZV94ZHBfaW5mbyB7DQotCXN0cnVjdCB4ZHBfZnJhbWUgICAgICAqeGRwZjsNCi0JZG1hX2FkZHJf
dCAgICAgICAgICAgIGRtYV9hZGRyOw0KLQlzdHJ1Y3QgbWx4NWVfZG1hX2luZm8gZGk7DQorCWVu
dW0gbWx4NWVfeGRwX3htaXRfbW9kZSBtb2RlOw0KKwl1bmlvbiB7DQorCQlzdHJ1Y3Qgew0KKwkJ
CXN0cnVjdCB4ZHBfZnJhbWUgKnhkcGY7DQorCQkJZG1hX2FkZHJfdCBkbWFfYWRkcjsNCisJCX0g
ZnJhbWU7DQorCQlzdHJ1Y3Qgew0KKwkJCXN0cnVjdCBtbHg1ZV9kbWFfaW5mbyBkaTsNCisJCX0g
cGFnZTsNCisJfTsNCit9Ow0KKw0KK3N0cnVjdCBtbHg1ZV94ZHBfeG1pdF9kYXRhIHsNCisJZG1h
X2FkZHJfdCAgZG1hX2FkZHI7DQorCXZvaWQgICAgICAgKmRhdGE7DQorCXUzMiAgICAgICAgIGxl
bjsNCiB9Ow0KIA0KIHN0cnVjdCBtbHg1ZV94ZHBfaW5mb19maWZvIHsNCkBAIC00MzEsOCArNDY1
LDEwIEBAIHN0cnVjdCBtbHg1ZV94ZHBfbXB3cWUgew0KIH07DQogDQogc3RydWN0IG1seDVlX3hk
cHNxOw0KLXR5cGVkZWYgYm9vbCAoKm1seDVlX2ZwX3htaXRfeGRwX2ZyYW1lKShzdHJ1Y3QgbWx4
NWVfeGRwc3EqLA0KLQkJCQkJc3RydWN0IG1seDVlX3hkcF9pbmZvKik7DQordHlwZWRlZiBib29s
ICgqbWx4NWVfZnBfeG1pdF94ZHBfZnJhbWUpKHN0cnVjdCBtbHg1ZV94ZHBzcSAqLA0KKwkJCQkJ
c3RydWN0IG1seDVlX3hkcF94bWl0X2RhdGEgKiwNCisJCQkJCXN0cnVjdCBtbHg1ZV94ZHBfaW5m
byAqKTsNCisNCiBzdHJ1Y3QgbWx4NWVfeGRwc3Egew0KIAkvKiBkYXRhIHBhdGggKi8NCiANCmRp
ZmYgLS1naXQgYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvZW4veGRw
LmMgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvZW4veGRwLmMNCmlu
ZGV4IDVhOTAwYjcwYjIwMy4uODlmNmViMTEwOWNmIDEwMDY0NA0KLS0tIGEvZHJpdmVycy9uZXQv
ZXRoZXJuZXQvbWVsbGFub3gvbWx4NS9jb3JlL2VuL3hkcC5jDQorKysgYi9kcml2ZXJzL25ldC9l
dGhlcm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvZW4veGRwLmMNCkBAIC01NywxNyArNTcsMjcgQEAg
c3RhdGljIGlubGluZSBib29sDQogbWx4NWVfeG1pdF94ZHBfYnVmZihzdHJ1Y3QgbWx4NWVfeGRw
c3EgKnNxLCBzdHJ1Y3QgbWx4NWVfZG1hX2luZm8gKmRpLA0KIAkJICAgIHN0cnVjdCB4ZHBfYnVm
ZiAqeGRwKQ0KIHsNCisJc3RydWN0IG1seDVlX3hkcF94bWl0X2RhdGEgeGRwdHhkOw0KIAlzdHJ1
Y3QgbWx4NWVfeGRwX2luZm8geGRwaTsNCisJc3RydWN0IHhkcF9mcmFtZSAqeGRwZjsNCisJZG1h
X2FkZHJfdCBkbWFfYWRkcjsNCiANCi0JeGRwaS54ZHBmID0gY29udmVydF90b194ZHBfZnJhbWUo
eGRwKTsNCi0JaWYgKHVubGlrZWx5KCF4ZHBpLnhkcGYpKQ0KKwl4ZHBmID0gY29udmVydF90b194
ZHBfZnJhbWUoeGRwKTsNCisJaWYgKHVubGlrZWx5KCF4ZHBmKSkNCiAJCXJldHVybiBmYWxzZTsN
Ci0JeGRwaS5kbWFfYWRkciA9IGRpLT5hZGRyICsgKHhkcGkueGRwZi0+ZGF0YSAtICh2b2lkICop
eGRwaS54ZHBmKTsNCi0JZG1hX3N5bmNfc2luZ2xlX2Zvcl9kZXZpY2Uoc3EtPnBkZXYsIHhkcGku
ZG1hX2FkZHIsDQotCQkJCSAgIHhkcGkueGRwZi0+bGVuLCBETUFfVE9fREVWSUNFKTsNCi0JeGRw
aS5kaSA9ICpkaTsNCiANCi0JcmV0dXJuIHNxLT54bWl0X3hkcF9mcmFtZShzcSwgJnhkcGkpOw0K
Kwl4ZHB0eGQuZGF0YSA9IHhkcGYtPmRhdGE7DQorCXhkcHR4ZC5sZW4gID0geGRwZi0+bGVuOw0K
Kw0KKwl4ZHBpLm1vZGUgPSBNTFg1RV9YRFBfWE1JVF9NT0RFX1BBR0U7DQorDQorCWRtYV9hZGRy
ID0gZGktPmFkZHIgKyAoeGRwZi0+ZGF0YSAtICh2b2lkICopeGRwZik7DQorCWRtYV9zeW5jX3Np
bmdsZV9mb3JfZGV2aWNlKHNxLT5wZGV2LCBkbWFfYWRkciwgeGRwdHhkLmxlbiwgRE1BX1RPX0RF
VklDRSk7DQorDQorCXhkcHR4ZC5kbWFfYWRkciA9IGRtYV9hZGRyOw0KKwl4ZHBpLnBhZ2UuZGkg
PSAqZGk7DQorDQorCXJldHVybiBzcS0+eG1pdF94ZHBfZnJhbWUoc3EsICZ4ZHB0eGQsICZ4ZHBp
KTsNCiB9DQogDQogLyogcmV0dXJucyB0cnVlIGlmIHBhY2tldCB3YXMgY29uc3VtZWQgYnkgeGRw
ICovDQpAQCAtMTg0LDE0ICsxOTQsMTMgQEAgc3RhdGljIHZvaWQgbWx4NWVfeGRwX21wd3FlX2Nv
bXBsZXRlKHN0cnVjdCBtbHg1ZV94ZHBzcSAqc3EpDQogfQ0KIA0KIHN0YXRpYyBib29sIG1seDVl
X3htaXRfeGRwX2ZyYW1lX21wd3FlKHN0cnVjdCBtbHg1ZV94ZHBzcSAqc3EsDQorCQkJCSAgICAg
ICBzdHJ1Y3QgbWx4NWVfeGRwX3htaXRfZGF0YSAqeGRwdHhkLA0KIAkJCQkgICAgICAgc3RydWN0
IG1seDVlX3hkcF9pbmZvICp4ZHBpKQ0KIHsNCiAJc3RydWN0IG1seDVlX3hkcF9tcHdxZSAqc2Vz
c2lvbiA9ICZzcS0+bXB3cWU7DQogCXN0cnVjdCBtbHg1ZV94ZHBzcV9zdGF0cyAqc3RhdHMgPSBz
cS0+c3RhdHM7DQogDQotCXN0cnVjdCB4ZHBfZnJhbWUgKnhkcGYgPSB4ZHBpLT54ZHBmOw0KLQ0K
LQlpZiAodW5saWtlbHkoc3EtPmh3X210dSA8IHhkcGYtPmxlbikpIHsNCisJaWYgKHVubGlrZWx5
KHhkcHR4ZC0+bGVuID4gc3EtPmh3X210dSkpIHsNCiAJCXN0YXRzLT5lcnIrKzsNCiAJCXJldHVy
biBmYWxzZTsNCiAJfQ0KQEAgLTIwOCw3ICsyMTcsNyBAQCBzdGF0aWMgYm9vbCBtbHg1ZV94bWl0
X3hkcF9mcmFtZV9tcHdxZShzdHJ1Y3QgbWx4NWVfeGRwc3EgKnNxLA0KIAkJbWx4NWVfeGRwX21w
d3FlX3Nlc3Npb25fc3RhcnQoc3EpOw0KIAl9DQogDQotCW1seDVlX3hkcF9tcHdxZV9hZGRfZHNl
ZyhzcSwgeGRwaSwgc3RhdHMpOw0KKwltbHg1ZV94ZHBfbXB3cWVfYWRkX2RzZWcoc3EsIHhkcHR4
ZCwgc3RhdHMpOw0KIA0KIAlpZiAodW5saWtlbHkoc2Vzc2lvbi0+Y29tcGxldGUgfHwNCiAJCSAg
ICAgc2Vzc2lvbi0+ZHNfY291bnQgPT0gc2Vzc2lvbi0+bWF4X2RzX2NvdW50KSkNCkBAIC0yMTks
NyArMjI4LDkgQEAgc3RhdGljIGJvb2wgbWx4NWVfeG1pdF94ZHBfZnJhbWVfbXB3cWUoc3RydWN0
IG1seDVlX3hkcHNxICpzcSwNCiAJcmV0dXJuIHRydWU7DQogfQ0KIA0KLXN0YXRpYyBib29sIG1s
eDVlX3htaXRfeGRwX2ZyYW1lKHN0cnVjdCBtbHg1ZV94ZHBzcSAqc3EsIHN0cnVjdCBtbHg1ZV94
ZHBfaW5mbyAqeGRwaSkNCitzdGF0aWMgYm9vbCBtbHg1ZV94bWl0X3hkcF9mcmFtZShzdHJ1Y3Qg
bWx4NWVfeGRwc3EgKnNxLA0KKwkJCQkgc3RydWN0IG1seDVlX3hkcF94bWl0X2RhdGEgKnhkcHR4
ZCwNCisJCQkJIHN0cnVjdCBtbHg1ZV94ZHBfaW5mbyAqeGRwaSkNCiB7DQogCXN0cnVjdCBtbHg1
X3dxX2N5YyAgICAgICAqd3EgICA9ICZzcS0+d3E7DQogCXUxNiAgICAgICAgICAgICAgICAgICAg
ICAgcGkgICA9IG1seDVfd3FfY3ljX2N0cjJpeCh3cSwgc3EtPnBjKTsNCkBAIC0yMjksOSArMjQw
LDggQEAgc3RhdGljIGJvb2wgbWx4NWVfeG1pdF94ZHBfZnJhbWUoc3RydWN0IG1seDVlX3hkcHNx
ICpzcSwgc3RydWN0IG1seDVlX3hkcF9pbmZvICoNCiAJc3RydWN0IG1seDVfd3FlX2V0aF9zZWcg
ICplc2VnID0gJndxZS0+ZXRoOw0KIAlzdHJ1Y3QgbWx4NV93cWVfZGF0YV9zZWcgKmRzZWcgPSB3
cWUtPmRhdGE7DQogDQotCXN0cnVjdCB4ZHBfZnJhbWUgKnhkcGYgPSB4ZHBpLT54ZHBmOw0KLQlk
bWFfYWRkcl90IGRtYV9hZGRyICA9IHhkcGktPmRtYV9hZGRyOw0KLQl1bnNpZ25lZCBpbnQgZG1h
X2xlbiA9IHhkcGYtPmxlbjsNCisJZG1hX2FkZHJfdCBkbWFfYWRkciA9IHhkcHR4ZC0+ZG1hX2Fk
ZHI7DQorCXUzMiBkbWFfbGVuID0geGRwdHhkLT5sZW47DQogDQogCXN0cnVjdCBtbHg1ZV94ZHBz
cV9zdGF0cyAqc3RhdHMgPSBzcS0+c3RhdHM7DQogDQpAQCAtMjUzLDcgKzI2Myw3IEBAIHN0YXRp
YyBib29sIG1seDVlX3htaXRfeGRwX2ZyYW1lKHN0cnVjdCBtbHg1ZV94ZHBzcSAqc3EsIHN0cnVj
dCBtbHg1ZV94ZHBfaW5mbyAqDQogDQogCS8qIGNvcHkgdGhlIGlubGluZSBwYXJ0IGlmIHJlcXVp
cmVkICovDQogCWlmIChzcS0+bWluX2lubGluZV9tb2RlICE9IE1MWDVfSU5MSU5FX01PREVfTk9O
RSkgew0KLQkJbWVtY3B5KGVzZWctPmlubGluZV9oZHIuc3RhcnQsIHhkcGYtPmRhdGEsIE1MWDVF
X1hEUF9NSU5fSU5MSU5FKTsNCisJCW1lbWNweShlc2VnLT5pbmxpbmVfaGRyLnN0YXJ0LCB4ZHB0
eGQtPmRhdGEsIE1MWDVFX1hEUF9NSU5fSU5MSU5FKTsNCiAJCWVzZWctPmlubGluZV9oZHIuc3og
PSBjcHVfdG9fYmUxNihNTFg1RV9YRFBfTUlOX0lOTElORSk7DQogCQlkbWFfbGVuICAtPSBNTFg1
RV9YRFBfTUlOX0lOTElORTsNCiAJCWRtYV9hZGRyICs9IE1MWDVFX1hEUF9NSU5fSU5MSU5FOw0K
QEAgLTI4NiwxNCArMjk2LDE5IEBAIHN0YXRpYyB2b2lkIG1seDVlX2ZyZWVfeGRwc3FfZGVzYyhz
dHJ1Y3QgbWx4NWVfeGRwc3EgKnNxLA0KIAlmb3IgKGkgPSAwOyBpIDwgd2ktPm51bV9wa3RzOyBp
KyspIHsNCiAJCXN0cnVjdCBtbHg1ZV94ZHBfaW5mbyB4ZHBpID0gbWx4NWVfeGRwaV9maWZvX3Bv
cCh4ZHBpX2ZpZm8pOw0KIA0KLQkJaWYgKHJxKSB7DQotCQkJLyogWERQX1RYICovDQotCQkJbWx4
NWVfcGFnZV9yZWxlYXNlKHJxLCAmeGRwaS5kaSwgcmVjeWNsZSk7DQotCQl9IGVsc2Ugew0KKwkJ
c3dpdGNoICh4ZHBpLm1vZGUpIHsNCisJCWNhc2UgTUxYNUVfWERQX1hNSVRfTU9ERV9GUkFNRToN
CiAJCQkvKiBYRFBfUkVESVJFQ1QgKi8NCi0JCQlkbWFfdW5tYXBfc2luZ2xlKHNxLT5wZGV2LCB4
ZHBpLmRtYV9hZGRyLA0KLQkJCQkJIHhkcGkueGRwZi0+bGVuLCBETUFfVE9fREVWSUNFKTsNCi0J
CQl4ZHBfcmV0dXJuX2ZyYW1lKHhkcGkueGRwZik7DQorCQkJZG1hX3VubWFwX3NpbmdsZShzcS0+
cGRldiwgeGRwaS5mcmFtZS5kbWFfYWRkciwNCisJCQkJCSB4ZHBpLmZyYW1lLnhkcGYtPmxlbiwg
RE1BX1RPX0RFVklDRSk7DQorCQkJeGRwX3JldHVybl9mcmFtZSh4ZHBpLmZyYW1lLnhkcGYpOw0K
KwkJCWJyZWFrOw0KKwkJY2FzZSBNTFg1RV9YRFBfWE1JVF9NT0RFX1BBR0U6DQorCQkJLyogWERQ
X1RYICovDQorCQkJbWx4NWVfcGFnZV9yZWxlYXNlKHJxLCAmeGRwaS5wYWdlLmRpLCByZWN5Y2xl
KTsNCisJCQlicmVhazsNCisJCWRlZmF1bHQ6DQorCQkJV0FSTl9PTl9PTkNFKHRydWUpOw0KIAkJ
fQ0KIAl9DQogfQ0KQEAgLTM5OCwyMSArNDEzLDI3IEBAIGludCBtbHg1ZV94ZHBfeG1pdChzdHJ1
Y3QgbmV0X2RldmljZSAqZGV2LCBpbnQgbiwgc3RydWN0IHhkcF9mcmFtZSAqKmZyYW1lcywNCiAN
CiAJZm9yIChpID0gMDsgaSA8IG47IGkrKykgew0KIAkJc3RydWN0IHhkcF9mcmFtZSAqeGRwZiA9
IGZyYW1lc1tpXTsNCisJCXN0cnVjdCBtbHg1ZV94ZHBfeG1pdF9kYXRhIHhkcHR4ZDsNCiAJCXN0
cnVjdCBtbHg1ZV94ZHBfaW5mbyB4ZHBpOw0KIA0KLQkJeGRwaS5kbWFfYWRkciA9IGRtYV9tYXBf
c2luZ2xlKHNxLT5wZGV2LCB4ZHBmLT5kYXRhLCB4ZHBmLT5sZW4sDQotCQkJCQkgICAgICAgRE1B
X1RPX0RFVklDRSk7DQotCQlpZiAodW5saWtlbHkoZG1hX21hcHBpbmdfZXJyb3Ioc3EtPnBkZXYs
IHhkcGkuZG1hX2FkZHIpKSkgew0KKwkJeGRwdHhkLmRhdGEgPSB4ZHBmLT5kYXRhOw0KKwkJeGRw
dHhkLmxlbiA9IHhkcGYtPmxlbjsNCisJCXhkcHR4ZC5kbWFfYWRkciA9IGRtYV9tYXBfc2luZ2xl
KHNxLT5wZGV2LCB4ZHB0eGQuZGF0YSwNCisJCQkJCQkgeGRwdHhkLmxlbiwgRE1BX1RPX0RFVklD
RSk7DQorDQorCQlpZiAodW5saWtlbHkoZG1hX21hcHBpbmdfZXJyb3Ioc3EtPnBkZXYsIHhkcHR4
ZC5kbWFfYWRkcikpKSB7DQogCQkJeGRwX3JldHVybl9mcmFtZV9yeF9uYXBpKHhkcGYpOw0KIAkJ
CWRyb3BzKys7DQogCQkJY29udGludWU7DQogCQl9DQogDQotCQl4ZHBpLnhkcGYgPSB4ZHBmOw0K
KwkJeGRwaS5tb2RlICAgICAgICAgICA9IE1MWDVFX1hEUF9YTUlUX01PREVfRlJBTUU7DQorCQl4
ZHBpLmZyYW1lLnhkcGYgICAgID0geGRwZjsNCisJCXhkcGkuZnJhbWUuZG1hX2FkZHIgPSB4ZHB0
eGQuZG1hX2FkZHI7DQogDQotCQlpZiAodW5saWtlbHkoIXNxLT54bWl0X3hkcF9mcmFtZShzcSwg
JnhkcGkpKSkgew0KLQkJCWRtYV91bm1hcF9zaW5nbGUoc3EtPnBkZXYsIHhkcGkuZG1hX2FkZHIs
DQotCQkJCQkgeGRwZi0+bGVuLCBETUFfVE9fREVWSUNFKTsNCisJCWlmICh1bmxpa2VseSghc3Et
PnhtaXRfeGRwX2ZyYW1lKHNxLCAmeGRwdHhkLCAmeGRwaSkpKSB7DQorCQkJZG1hX3VubWFwX3Np
bmdsZShzcS0+cGRldiwgeGRwdHhkLmRtYV9hZGRyLA0KKwkJCQkJIHhkcHR4ZC5sZW4sIERNQV9U
T19ERVZJQ0UpOw0KIAkJCXhkcF9yZXR1cm5fZnJhbWVfcnhfbmFwaSh4ZHBmKTsNCiAJCQlkcm9w
cysrOw0KIAkJfQ0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvbmV0L2V0aGVybmV0L21lbGxhbm94L21s
eDUvY29yZS9lbi94ZHAuaCBiL2RyaXZlcnMvbmV0L2V0aGVybmV0L21lbGxhbm94L21seDUvY29y
ZS9lbi94ZHAuaA0KaW5kZXggOGI1MzdhNGIwODQwLi4yYTUxNTg5OTMzNDkgMTAwNjQ0DQotLS0g
YS9kcml2ZXJzL25ldC9ldGhlcm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvZW4veGRwLmgNCisrKyBi
L2RyaXZlcnMvbmV0L2V0aGVybmV0L21lbGxhbm94L21seDUvY29yZS9lbi94ZHAuaA0KQEAgLTk3
LDE1ICs5NywxNCBAQCBzdGF0aWMgaW5saW5lIHZvaWQgbWx4NWVfeGRwX3VwZGF0ZV9pbmxpbmVf
c3RhdGUoc3RydWN0IG1seDVlX3hkcHNxICpzcSkNCiB9DQogDQogc3RhdGljIGlubGluZSB2b2lk
DQotbWx4NWVfeGRwX21wd3FlX2FkZF9kc2VnKHN0cnVjdCBtbHg1ZV94ZHBzcSAqc3EsIHN0cnVj
dCBtbHg1ZV94ZHBfaW5mbyAqeGRwaSwNCittbHg1ZV94ZHBfbXB3cWVfYWRkX2RzZWcoc3RydWN0
IG1seDVlX3hkcHNxICpzcSwNCisJCQkgc3RydWN0IG1seDVlX3hkcF94bWl0X2RhdGEgKnhkcHR4
ZCwNCiAJCQkgc3RydWN0IG1seDVlX3hkcHNxX3N0YXRzICpzdGF0cykNCiB7DQogCXN0cnVjdCBt
bHg1ZV94ZHBfbXB3cWUgKnNlc3Npb24gPSAmc3EtPm1wd3FlOw0KLQlkbWFfYWRkcl90IGRtYV9h
ZGRyICAgID0geGRwaS0+ZG1hX2FkZHI7DQotCXN0cnVjdCB4ZHBfZnJhbWUgKnhkcGYgPSB4ZHBp
LT54ZHBmOw0KIAlzdHJ1Y3QgbWx4NV93cWVfZGF0YV9zZWcgKmRzZWcgPQ0KIAkJKHN0cnVjdCBt
bHg1X3dxZV9kYXRhX3NlZyAqKXNlc3Npb24tPndxZSArIHNlc3Npb24tPmRzX2NvdW50Ow0KLQl1
MTYgZG1hX2xlbiA9IHhkcGYtPmxlbjsNCisJdTMyIGRtYV9sZW4gPSB4ZHB0eGQtPmxlbjsNCiAN
CiAJc2Vzc2lvbi0+cGt0X2NvdW50Kys7DQogDQpAQCAtMTI0LDcgKzEyMyw3IEBAIG1seDVlX3hk
cF9tcHdxZV9hZGRfZHNlZyhzdHJ1Y3QgbWx4NWVfeGRwc3EgKnNxLCBzdHJ1Y3QgbWx4NWVfeGRw
X2luZm8gKnhkcGksDQogCQl9DQogDQogCQlpbmxpbmVfZHNlZy0+Ynl0ZV9jb3VudCA9IGNwdV90
b19iZTMyKGRtYV9sZW4gfCBNTFg1X0lOTElORV9TRUcpOw0KLQkJbWVtY3B5KGlubGluZV9kc2Vn
LT5kYXRhLCB4ZHBmLT5kYXRhLCBkbWFfbGVuKTsNCisJCW1lbWNweShpbmxpbmVfZHNlZy0+ZGF0
YSwgeGRwdHhkLT5kYXRhLCBkbWFfbGVuKTsNCiANCiAJCXNlc3Npb24tPmRzX2NvdW50ICs9IGRz
X2NudDsNCiAJCXN0YXRzLT5pbmxudysrOw0KQEAgLTEzMiw3ICsxMzEsNyBAQCBtbHg1ZV94ZHBf
bXB3cWVfYWRkX2RzZWcoc3RydWN0IG1seDVlX3hkcHNxICpzcSwgc3RydWN0IG1seDVlX3hkcF9p
bmZvICp4ZHBpLA0KIAl9DQogDQogbm9faW5saW5lOg0KLQlkc2VnLT5hZGRyICAgICAgID0gY3B1
X3RvX2JlNjQoZG1hX2FkZHIpOw0KKwlkc2VnLT5hZGRyICAgICAgID0gY3B1X3RvX2JlNjQoeGRw
dHhkLT5kbWFfYWRkcik7DQogCWRzZWctPmJ5dGVfY291bnQgPSBjcHVfdG9fYmUzMihkbWFfbGVu
KTsNCiAJZHNlZy0+bGtleSAgICAgICA9IHNxLT5ta2V5X2JlOw0KIAlzZXNzaW9uLT5kc19jb3Vu
dCsrOw0KLS0gDQoyLjE5LjENCg0K
