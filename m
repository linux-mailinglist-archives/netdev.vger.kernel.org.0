Return-Path: <netdev-owner@vger.kernel.org>
X-Original-To: lists+netdev@lfdr.de
Delivered-To: lists+netdev@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 5BEFC48B322
	for <lists+netdev@lfdr.de>; Tue, 11 Jan 2022 18:15:25 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1344009AbiAKRPS (ORCPT <rfc822;lists+netdev@lfdr.de>);
        Tue, 11 Jan 2022 12:15:18 -0500
Received: from mail-dm3nam07on2065.outbound.protection.outlook.com ([40.107.95.65]:38465
        "EHLO NAM02-DM3-obe.outbound.protection.outlook.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S1343955AbiAKRPC (ORCPT <rfc822;netdev@vger.kernel.org>);
        Tue, 11 Jan 2022 12:15:02 -0500
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=NX4SyPaTueeXnU1UCW4kFM7ZWEAn79tHot7xC8L/KU4BkhYlYLub2FfoDSEzQIzvKAhir4x58DQtUnL29P1QDloKfWLjysHOjqGcXcBmWsNKhLtWoVXt36djA9IfTPjL8jQTqGJuMvkzew8TUZ+ZgBCuMZ2SR/GnDXbJQ3LpAWfw9v02yxEXQMPFAhPKtxtmJb9aDFZC4kn7zGF0p1r6JcIORggxq/ARaempydWIHkPch4nze4ODWkYKV2Nz15b0i/zcoxuqFrKQkT3m7hJwGx34ZKWocPyXESyyI+EHNbYCpiUjdheHsRT21q3daBaXW+dEiblb5FuTwmC/GMKxrA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=MiTeny0u/cbsH682FeE+dHMx44CGaIV/DCmCDqEFrpo=;
 b=laceNOlVLhjJff3OKbf57atUkFO4jo9YBOPakUeLkAJ/T9TxdNv1Wdqr6yMSQ1+8o1oDQ/RbB4NoO+XbdErdqVxm4E+E0ID85qmnjDb77ck0rXJ/Kr6WvjFOC0OzuQToVsLT1KBQTH9NprjQnYyKE6OBt1AV2nl7VXftaBEDtFENmvsm/m6PszaMp7YzE0mXc417X3BL1RSpSIu0fWGLZtJA9WKRByU/FLsBMe9nv5y5jMmCKghUPLfhXh1eJVKXwrNXswFJFEaVQnZjDGDZOVK4+AE8g/o7rju3ZrBdqEdSNUlBfLpWQX7StMTIQihghSNMTom7W73HPmKt96yg5g==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=silabs.com; dmarc=pass action=none header.from=silabs.com;
 dkim=pass header.d=silabs.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=silabs.onmicrosoft.com; s=selector2-silabs-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=MiTeny0u/cbsH682FeE+dHMx44CGaIV/DCmCDqEFrpo=;
 b=UFTWhZpQqk+zHBEqMf6OjWUwP0MYW7FqQwKFBxfX8NryzaneI/gltSHTknXrIh2hw9GtVPaMQVLxiSKqZihb0yc0FiKOipWRJXhbBiDKHDScTyt8o/z5SGpveSip0snBPilXE06NfKaKSmX52UdjBsc3cncHQVRAmzn4vEaM7Fo=
Authentication-Results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=silabs.com;
Received: from PH0PR11MB5657.namprd11.prod.outlook.com (2603:10b6:510:ee::19)
 by PH0PR11MB5674.namprd11.prod.outlook.com (2603:10b6:510:ec::10) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.4867.11; Tue, 11 Jan
 2022 17:14:59 +0000
Received: from PH0PR11MB5657.namprd11.prod.outlook.com
 ([fe80::d031:da9e:71a:73e4]) by PH0PR11MB5657.namprd11.prod.outlook.com
 ([fe80::d031:da9e:71a:73e4%6]) with mapi id 15.20.4867.012; Tue, 11 Jan 2022
 17:14:59 +0000
From:   Jerome Pouiller <Jerome.Pouiller@silabs.com>
To:     linux-wireless@vger.kernel.org, netdev@vger.kernel.org,
        Kalle Valo <kvalo@codeaurora.org>
Cc:     devel@driverdev.osuosl.org, linux-kernel@vger.kernel.org,
        Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
        "David S . Miller" <davem@davemloft.net>,
        devicetree@vger.kernel.org, Rob Herring <robh+dt@kernel.org>,
        linux-mmc@vger.kernel.org,
        =?UTF-8?q?Pali=20Roh=C3=A1r?= <pali@kernel.org>,
        Ulf Hansson <ulf.hansson@linaro.org>,
        =?UTF-8?q?J=C3=A9r=C3=B4me=20Pouiller?= 
        <jerome.pouiller@silabs.com>
Subject: [PATCH v9 05/24] wfx: add main.c/main.h
Date:   Tue, 11 Jan 2022 18:14:05 +0100
Message-Id: <20220111171424.862764-6-Jerome.Pouiller@silabs.com>
X-Mailer: git-send-email 2.34.1
In-Reply-To: <20220111171424.862764-1-Jerome.Pouiller@silabs.com>
References: <20220111171424.862764-1-Jerome.Pouiller@silabs.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
X-ClientProxiedBy: SN1PR12CA0099.namprd12.prod.outlook.com
 (2603:10b6:802:21::34) To PH0PR11MB5657.namprd11.prod.outlook.com
 (2603:10b6:510:ee::19)
MIME-Version: 1.0
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: a272a7d3-96e2-4f89-f1de-08d9d525e558
X-MS-TrafficTypeDiagnostic: PH0PR11MB5674:EE_
X-Microsoft-Antispam-PRVS: <PH0PR11MB567471783CBA37550418C0F393519@PH0PR11MB5674.namprd11.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:189;
X-MS-Exchange-SenderADCheck: 1
X-MS-Exchange-AntiSpam-Relay: 0
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: /xZvEDbT8Dw5oyta6oIwOGxWX6ajH21cCQORF7cyByoLoeoTXAw894Ma8grvnBGtca3RjuCQ6yzQH9GMCNJfY/mITAn0l1lY/UNdHoqD4fOlJWxVfKj0f3Q1u9mJJEoIpfr7l1nPIch5TMI9r7raTFrnDVlmxAkJGX2IKMrCytjpaT/LEqqzHM4HPJozb5Chc8Fp0eJG5dJuGxfk9UdPolHE+MdfYfYgbbztvmaCxzqQXW7qxVFn2YAlaBS8oDuqPZFBVCIBIdFJGti55P0hujjBVWeTPv2q6OhfHKXDkbM6clCj6biuEgzLZ95LBKZTGb8LR595syrGl5jO5r+OOJegiqOju8TF6py/JsnyCtTjr/IFve96RNQYXt+ura1eQMH0WIHBqGW4Xd8FLncXgoK9L0pD5CGkxeQ3bzZd3b/LmGB8XEtWBCZ8IeEb/vhAq5Fhb3uZYGu+reQPcenaVrQpitqPjsObmU/c3SvkqnL1pgWtH9ppi4Q6/lS2zjkhjsWauqwrnZ764Re9z/mMJkkaFVhblKYz0EjvG4hMAX/GH2gPjMYZh74XwWuoAWtVRmt0hs3KujUnXDokawLKHoJXR7HNJ1TbbMp7iX4lumNw0AnRndmBcWl8o/DlQ4JQKSVZTiWx8ZU0rOg7nwfEZz8seZX+2YerxbcdhBp1LTcT023F+ytCZEMp1UXZxYGMgaDR48xtpc8q2J5O8nDk5iUFCd7zJ3vgEKaeavkXui0=
X-Forefront-Antispam-Report: CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:PH0PR11MB5657.namprd11.prod.outlook.com;PTR:;CAT:NONE;SFS:(366004)(6506007)(66946007)(66574015)(8936002)(107886003)(4326008)(66476007)(508600001)(36756003)(84970400001)(7416002)(8676002)(86362001)(6916009)(83380400001)(52116002)(316002)(6512007)(2906002)(6666004)(30864003)(6486002)(1076003)(186003)(66556008)(54906003)(38100700002)(2616005)(5660300002);DIR:OUT;SFP:1101;
X-MS-Exchange-AntiSpam-MessageData-ChunkCount: 1
X-MS-Exchange-AntiSpam-MessageData-0: =?utf-8?B?Q3E4Z3dWMi9KWTdLRHVUbzlMTERrbXo1Ujh3UkRyUnJaeUhMSjlvakdqSmxy?=
 =?utf-8?B?YzdQbEFVdm53MkhrWFo2RzZNYlZpcmJsd3o5Yy9OTVp1NFYzaGt5aGJ2aEhX?=
 =?utf-8?B?MkVkekM3OVAvMXpMQ1Y0M1RVZFMxTld6bkorcEVaTDJaaWV5TW9vakl1K01U?=
 =?utf-8?B?dzBlK0cwRzZWUGhEQUgwRFpncDNPaXBXREFpRG9MQlN5ZjRnK3VwWGQyZTFv?=
 =?utf-8?B?eTZGR3BWcExGQnBXTGNWTjlsQTlqZTZkRnIzZXRVY0tma0FmUUViNjZDL0Rq?=
 =?utf-8?B?L05iN1hDNS9FdWc4UGxxMjNJMkRVblVZaUFwNHF0MDhBNDlDMWh2aStOa0c1?=
 =?utf-8?B?bkJ1SUJXN1JDMS9hSW5rWnQvMm1CR20wOWdHTGRLenNxa2xLelpWUzhRS1Ba?=
 =?utf-8?B?dWNtczlCVi9kQlVaR0o5S1hGTGR4dnh5YXRBSW9xYnRTcklFT3dRVi9peHp0?=
 =?utf-8?B?aXVhZFFoUWVlQnRMOHZnYzVpOC9BanptTGljbHBNR3phVmVoWWRDUjRyYzNN?=
 =?utf-8?B?Y2hseWY5aUxXTE5xRExoQnZSVUJNNjNTTmZUdjlPNVhXOEFzdTNEVnVkU3do?=
 =?utf-8?B?SHBLQkFmWHVJS2x6Ym5hNGt6em5aU251aElXNHhwazJMR2I4Z241WEY3d1A0?=
 =?utf-8?B?ako1bzlITkpPdXBSUGlrUmU1Nkc2UlI2bVQzaHR2UHdjbC9oaFFCUjF1OTRV?=
 =?utf-8?B?U3VZYllhdlc5bGs4d0xJdGFTc0phd1hJZDM3UWt6R1RJdFNRekt4S1hXNWtG?=
 =?utf-8?B?WjVsb1c0ZWJHUkNIYjA3bmM3WFNRQjRxSmttNjAvN0loUXlUQUo5Q2p6ZEpH?=
 =?utf-8?B?RGlJdHMyUkhDTVlLcU03aCtHeXB6ZFVXckwwRGZ3eDVDelBDdGswd3dON1FC?=
 =?utf-8?B?TGliTElzOEpxUnRhREJLOVQvc1RCQk0zSlp3RmJqUnNDeUxYZi92Y01wb3Vo?=
 =?utf-8?B?SGZIZkJjd0RMN1dNRXIvdWFpaHZnQWFDWGhVQ2xBZnRBazhGamluWS9sYlRI?=
 =?utf-8?B?Vzg0VU8wQ25POEVKNW1TMnllS1JnR2llMDRTTFo5Q05NdHYxLzBYa0NKazZ5?=
 =?utf-8?B?ZTlHTk1TcUU5Ky9lZ3phYVZ5T2xMU2QwR3NCbkdRUXdYVFFnMGlYbHFCT0NJ?=
 =?utf-8?B?U0swVUpITmh3UzhLczV6T3dGL3Q5VVk0bzIyNnpBV3QzWmZSQjF0akZVdTV3?=
 =?utf-8?B?NWNsSmdsMlpRUjV1SHdMZk1iQ2lyWGt6TnlQVklSeldOMkE1OWNMY050M081?=
 =?utf-8?B?Q0dUcm85L00rNmc0bTBKN3p5SFNCRUhCT1cxWWNTaEFUNzZYN1RpM3RDMmpi?=
 =?utf-8?B?ajMwd0lZL0Zadit6eUt0bWhLcGl5dmJOM09qc0E1L2RpT3RkUGlnUzR6b2dy?=
 =?utf-8?B?TkxkNE81ckxxdk1USjdqZ0NoNitrbHE1RHI3TmJuYm55ZWdTMlF3VEN0emlv?=
 =?utf-8?B?YnBwQlBua1VzQkUxQ0psUjRTKyt6Wlc0VkJ2YWFERnRWWXhQL1l5bnI3U3d0?=
 =?utf-8?B?SkVnNlJZVDZHMHpoTE8xVjNyTEEzMHJibDM1aGQrRW0xaXJjWlJrNmhMZm10?=
 =?utf-8?B?WG16OUt3M2NidlV6MUpBYVZaQldTRExvTXFiK1prNlVjT2N4elNRT2x6YTV5?=
 =?utf-8?B?bkZubjNpTTNZYVVLUXpFSTdZUHh4OGNDbVZSVHQxazRwTk9sVkdsN01seXlQ?=
 =?utf-8?B?UHdyTzQ0Ny9MTDNrSjFGZi81WTE0UVI0aGpjUEpRR3FaRlVMMlJ3T0VGTU5o?=
 =?utf-8?B?MjRGTTgyWVQzNmNWOUt3MzViZENCMGNXV0pCaTlyV0Nrckh2UHBUUDUrbW4x?=
 =?utf-8?B?ckI3MDI2Um5GaUNCWE0yYkl5N3RqdkhaKzFaa21VelpKMWp3bTJ3UlJ0UzdS?=
 =?utf-8?B?a0U2QzBQc0svdGNjV1JybG1VdHNPbEhHZlBzZERhSzMzK2tLNDlyVURmVEpE?=
 =?utf-8?B?K2RuVko1em9ndFJ0TzRNMDk2ZVIreVZ1TFRNdXU5bVQ1NUkySEJUM1FiRmVF?=
 =?utf-8?B?SWdWRGhvZkxWRXJFWFVweHBQczE4aFNObHowdm1JMSt5L3pEK0FNMnhTODUr?=
 =?utf-8?B?b3luTnlQRHRnWnNpbTc2UWQ5YXlsblBvVkp6eW53cFlja2ZXSFI3ejQvNWN1?=
 =?utf-8?B?dUVGUm1xSFI2bWVrRG1OU3RkR1Y3NmpjbVlvak5xMHRuVTBnN1NUc2U3amlM?=
 =?utf-8?B?S0VRd1dZUkFuTzV6QlNRMFFqYnllU21EQm00WHRwQ1QwSkliYUNGaDVOODY0?=
 =?utf-8?Q?fP3AOA6m11z1lYBu3Hn0h3MoEnW5mhcPSm7wZp4hmw=3D?=
X-OriginatorOrg: silabs.com
X-MS-Exchange-CrossTenant-Network-Message-Id: a272a7d3-96e2-4f89-f1de-08d9d525e558
X-MS-Exchange-CrossTenant-AuthSource: PH0PR11MB5657.namprd11.prod.outlook.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 11 Jan 2022 17:14:59.1234
 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 54dbd822-5231-4b20-944d-6f4abcd541fb
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: bzo4GycsnADactlG7Dng8z0zDbc3pGhiCOdc332dyi4hEieTk0Z1D6FXECIAqvMtX3H4VI3p9cG76EPiWgunEA==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: PH0PR11MB5674
Precedence: bulk
List-ID: <netdev.vger.kernel.org>
X-Mailing-List: netdev@vger.kernel.org

RnJvbTogSsOpcsO0bWUgUG91aWxsZXIgPGplcm9tZS5wb3VpbGxlckBzaWxhYnMuY29tPgoKU2ln
bmVkLW9mZi1ieTogSsOpcsO0bWUgUG91aWxsZXIgPGplcm9tZS5wb3VpbGxlckBzaWxhYnMuY29t
PgotLS0KIGRyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93ZngvbWFpbi5jIHwgNDg1ICsrKysr
KysrKysrKysrKysrKysrKysrKysKIGRyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93ZngvbWFp
bi5oIHwgIDQyICsrKwogMiBmaWxlcyBjaGFuZ2VkLCA1MjcgaW5zZXJ0aW9ucygrKQogY3JlYXRl
IG1vZGUgMTAwNjQ0IGRyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93ZngvbWFpbi5jCiBjcmVh
dGUgbW9kZSAxMDA2NDQgZHJpdmVycy9uZXQvd2lyZWxlc3Mvc2lsYWJzL3dmeC9tYWluLmgKCmRp
ZmYgLS1naXQgYS9kcml2ZXJzL25ldC93aXJlbGVzcy9zaWxhYnMvd2Z4L21haW4uYyBiL2RyaXZl
cnMvbmV0L3dpcmVsZXNzL3NpbGFicy93ZngvbWFpbi5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0Cmlu
ZGV4IDAwMDAwMDAwMDAwMC4uZDM1MDdiOTEyNjNiCi0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVy
cy9uZXQvd2lyZWxlc3Mvc2lsYWJzL3dmeC9tYWluLmMKQEAgLTAsMCArMSw0ODUgQEAKKy8vIFNQ
RFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9ubHkKKy8qCisgKiBEZXZpY2UgcHJvYmUg
YW5kIHJlZ2lzdGVyLgorICoKKyAqIENvcHlyaWdodCAoYykgMjAxNy0yMDIwLCBTaWxpY29uIExh
Ym9yYXRvcmllcywgSW5jLgorICogQ29weXJpZ2h0IChjKSAyMDEwLCBTVC1Fcmljc3NvbgorICog
Q29weXJpZ2h0IChjKSAyMDA4LCBKb2hhbm5lcyBCZXJnIDxqb2hhbm5lc0BzaXBzb2x1dGlvbnMu
bmV0PgorICogQ29weXJpZ2h0IChjKSAyMDA4IE5va2lhIENvcnBvcmF0aW9uIGFuZC9vciBpdHMg
c3Vic2lkaWFyeSgtaWVzKS4KKyAqIENvcHlyaWdodCAoYykgMjAwNy0yMDA5LCBDaHJpc3RpYW4g
TGFtcGFydGVyIDxjaHVua2VleUB3ZWIuZGU+CisgKiBDb3B5cmlnaHQgKGMpIDIwMDYsIE1pY2hh
ZWwgV3UgPGZsYW1pbmdpY2VAc291cm1pbGsubmV0PgorICogQ29weXJpZ2h0IChjKSAyMDA0LTIw
MDYgSmVhbi1CYXB0aXN0ZSBOb3RlIDxqYm5vdGVAZ21haWwuY29tPiwgZXQgYWwuCisgKi8KKyNp
bmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KKyNpbmNsdWRlIDxsaW51eC9vZi5oPgorI2luY2x1ZGUg
PGxpbnV4L29mX25ldC5oPgorI2luY2x1ZGUgPGxpbnV4L2dwaW8vY29uc3VtZXIuaD4KKyNpbmNs
dWRlIDxsaW51eC9tbWMvc2Rpb19mdW5jLmg+CisjaW5jbHVkZSA8bGludXgvc3BpL3NwaS5oPgor
I2luY2x1ZGUgPGxpbnV4L2V0aGVyZGV2aWNlLmg+CisjaW5jbHVkZSA8bGludXgvZmlybXdhcmUu
aD4KKworI2luY2x1ZGUgIm1haW4uaCIKKyNpbmNsdWRlICJ3ZnguaCIKKyNpbmNsdWRlICJmd2lv
LmgiCisjaW5jbHVkZSAiaHdpby5oIgorI2luY2x1ZGUgImJ1cy5oIgorI2luY2x1ZGUgImJoLmgi
CisjaW5jbHVkZSAic3RhLmgiCisjaW5jbHVkZSAia2V5LmgiCisjaW5jbHVkZSAic2Nhbi5oIgor
I2luY2x1ZGUgImRlYnVnLmgiCisjaW5jbHVkZSAiZGF0YV90eC5oIgorI2luY2x1ZGUgImhpZl90
eF9taWIuaCIKKyNpbmNsdWRlICJoaWZfYXBpX2NtZC5oIgorCisjZGVmaW5lIFdGWF9QRFNfVExW
X1RZUEUgMHg0NDUwIC8vICJQRCIgKFBsYXRmb3JtIERhdGEpIGluIGFzY2lpIGxpdHRsZS1lbmRp
YW4KKyNkZWZpbmUgV0ZYX1BEU19NQVhfQ0hVTktfU0laRSAxNTAwCisKK01PRFVMRV9ERVNDUklQ
VElPTigiU2lsaWNvbiBMYWJzIDgwMi4xMSBXaXJlbGVzcyBMQU4gZHJpdmVyIGZvciBXRjIwMCIp
OworTU9EVUxFX0FVVEhPUigiSsOpcsO0bWUgUG91aWxsZXIgPGplcm9tZS5wb3VpbGxlckBzaWxh
YnMuY29tPiIpOworTU9EVUxFX0xJQ0VOU0UoIkdQTCIpOworCisjZGVmaW5lIFJBVEVUQUJfRU5U
KF9yYXRlLCBfcmF0ZWlkLCBfZmxhZ3MpIHsgXAorCS5iaXRyYXRlICA9IChfcmF0ZSksICAgXAor
CS5od192YWx1ZSA9IChfcmF0ZWlkKSwgXAorCS5mbGFncyAgICA9IChfZmxhZ3MpLCAgXAorfQor
CitzdGF0aWMgc3RydWN0IGllZWU4MDIxMV9yYXRlIHdmeF9yYXRlc1tdID0geworCVJBVEVUQUJf
RU5UKDEwLCAgMCwgIDApLAorCVJBVEVUQUJfRU5UKDIwLCAgMSwgIElFRUU4MDIxMV9SQVRFX1NI
T1JUX1BSRUFNQkxFKSwKKwlSQVRFVEFCX0VOVCg1NSwgIDIsICBJRUVFODAyMTFfUkFURV9TSE9S
VF9QUkVBTUJMRSksCisJUkFURVRBQl9FTlQoMTEwLCAzLCAgSUVFRTgwMjExX1JBVEVfU0hPUlRf
UFJFQU1CTEUpLAorCVJBVEVUQUJfRU5UKDYwLCAgNiwgIDApLAorCVJBVEVUQUJfRU5UKDkwLCAg
NywgIDApLAorCVJBVEVUQUJfRU5UKDEyMCwgOCwgIDApLAorCVJBVEVUQUJfRU5UKDE4MCwgOSwg
IDApLAorCVJBVEVUQUJfRU5UKDI0MCwgMTAsIDApLAorCVJBVEVUQUJfRU5UKDM2MCwgMTEsIDAp
LAorCVJBVEVUQUJfRU5UKDQ4MCwgMTIsIDApLAorCVJBVEVUQUJfRU5UKDU0MCwgMTMsIDApLAor
fTsKKworI2RlZmluZSBDSEFOMkcoX2NoYW5uZWwsIF9mcmVxLCBfZmxhZ3MpIHsgXAorCS5iYW5k
ID0gTkw4MDIxMV9CQU5EXzJHSFosIFwKKwkuY2VudGVyX2ZyZXEgPSAoX2ZyZXEpLCAgICBcCisJ
Lmh3X3ZhbHVlID0gKF9jaGFubmVsKSwgICAgXAorCS5mbGFncyA9IChfZmxhZ3MpLCAgICAgICAg
IFwKKwkubWF4X2FudGVubmFfZ2FpbiA9IDAsICAgICBcCisJLm1heF9wb3dlciA9IDMwLCAgICAg
ICAgICAgXAorfQorCitzdGF0aWMgc3RydWN0IGllZWU4MDIxMV9jaGFubmVsIHdmeF8yZ2h6X2No
YW50YWJsZVtdID0geworCUNIQU4yRygxLCAgMjQxMiwgMCksCisJQ0hBTjJHKDIsICAyNDE3LCAw
KSwKKwlDSEFOMkcoMywgIDI0MjIsIDApLAorCUNIQU4yRyg0LCAgMjQyNywgMCksCisJQ0hBTjJH
KDUsICAyNDMyLCAwKSwKKwlDSEFOMkcoNiwgIDI0MzcsIDApLAorCUNIQU4yRyg3LCAgMjQ0Miwg
MCksCisJQ0hBTjJHKDgsICAyNDQ3LCAwKSwKKwlDSEFOMkcoOSwgIDI0NTIsIDApLAorCUNIQU4y
RygxMCwgMjQ1NywgMCksCisJQ0hBTjJHKDExLCAyNDYyLCAwKSwKKwlDSEFOMkcoMTIsIDI0Njcs
IDApLAorCUNIQU4yRygxMywgMjQ3MiwgMCksCisJQ0hBTjJHKDE0LCAyNDg0LCAwKSwKK307CisK
K3N0YXRpYyBjb25zdCBzdHJ1Y3QgaWVlZTgwMjExX3N1cHBvcnRlZF9iYW5kIHdmeF9iYW5kXzJn
aHogPSB7CisJLmNoYW5uZWxzID0gd2Z4XzJnaHpfY2hhbnRhYmxlLAorCS5uX2NoYW5uZWxzID0g
QVJSQVlfU0laRSh3ZnhfMmdoel9jaGFudGFibGUpLAorCS5iaXRyYXRlcyA9IHdmeF9yYXRlcywK
Kwkubl9iaXRyYXRlcyA9IEFSUkFZX1NJWkUod2Z4X3JhdGVzKSwKKwkuaHRfY2FwID0geworCQkv
KiBSZWNlaXZlIGNhcHMgKi8KKwkJLmNhcCA9IElFRUU4MDIxMV9IVF9DQVBfR1JOX0ZMRCB8IElF
RUU4MDIxMV9IVF9DQVBfU0dJXzIwIHwKKwkJICAgICAgIElFRUU4MDIxMV9IVF9DQVBfTUFYX0FN
U0RVIHwgKDEgPDwgSUVFRTgwMjExX0hUX0NBUF9SWF9TVEJDX1NISUZUKSwKKwkJLmh0X3N1cHBv
cnRlZCA9IDEsCisJCS5hbXBkdV9mYWN0b3IgPSBJRUVFODAyMTFfSFRfTUFYX0FNUERVXzE2SywK
KwkJLmFtcGR1X2RlbnNpdHkgPSBJRUVFODAyMTFfSFRfTVBEVV9ERU5TSVRZX05PTkUsCisJCS5t
Y3MgPSB7CisJCQkucnhfbWFzayA9IHsgMHhGRiB9LCAvKiBNQ1MwIHRvIE1DUzcgKi8KKwkJCS5y
eF9oaWdoZXN0ID0gY3B1X3RvX2xlMTYoNzIpLAorCQkJLnR4X3BhcmFtcyA9IElFRUU4MDIxMV9I
VF9NQ1NfVFhfREVGSU5FRCwKKwkJfSwKKwl9LAorfTsKKworc3RhdGljIGNvbnN0IHN0cnVjdCBp
ZWVlODAyMTFfaWZhY2VfbGltaXQgd2Rldl9pZmFjZV9saW1pdHNbXSA9IHsKKwl7IC5tYXggPSAx
LCAudHlwZXMgPSBCSVQoTkw4MDIxMV9JRlRZUEVfU1RBVElPTikgfSwKKwl7IC5tYXggPSAxLCAu
dHlwZXMgPSBCSVQoTkw4MDIxMV9JRlRZUEVfQVApIH0sCit9OworCitzdGF0aWMgY29uc3Qgc3Ry
dWN0IGllZWU4MDIxMV9pZmFjZV9jb21iaW5hdGlvbiB3ZnhfaWZhY2VfY29tYmluYXRpb25zW10g
PSB7CisJeworCQkubnVtX2RpZmZlcmVudF9jaGFubmVscyA9IDIsCisJCS5tYXhfaW50ZXJmYWNl
cyA9IDIsCisJCS5saW1pdHMgPSB3ZGV2X2lmYWNlX2xpbWl0cywKKwkJLm5fbGltaXRzID0gQVJS
QVlfU0laRSh3ZGV2X2lmYWNlX2xpbWl0cyksCisJfQorfTsKKworc3RhdGljIGNvbnN0IHN0cnVj
dCBpZWVlODAyMTFfb3BzIHdmeF9vcHMgPSB7CisJLnN0YXJ0ICAgICAgICAgICAgICAgICAgID0g
d2Z4X3N0YXJ0LAorCS5zdG9wICAgICAgICAgICAgICAgICAgICA9IHdmeF9zdG9wLAorCS5hZGRf
aW50ZXJmYWNlICAgICAgICAgICA9IHdmeF9hZGRfaW50ZXJmYWNlLAorCS5yZW1vdmVfaW50ZXJm
YWNlICAgICAgICA9IHdmeF9yZW1vdmVfaW50ZXJmYWNlLAorCS5jb25maWcgICAgICAgICAgICAg
ICAgICA9IHdmeF9jb25maWcsCisJLnR4ICAgICAgICAgICAgICAgICAgICAgID0gd2Z4X3R4LAor
CS5qb2luX2lic3MgICAgICAgICAgICAgICA9IHdmeF9qb2luX2lic3MsCisJLmxlYXZlX2lic3Mg
ICAgICAgICAgICAgID0gd2Z4X2xlYXZlX2lic3MsCisJLmNvbmZfdHggICAgICAgICAgICAgICAg
ID0gd2Z4X2NvbmZfdHgsCisJLmh3X3NjYW4gICAgICAgICAgICAgICAgID0gd2Z4X2h3X3NjYW4s
CisJLmNhbmNlbF9od19zY2FuICAgICAgICAgID0gd2Z4X2NhbmNlbF9od19zY2FuLAorCS5zdGFy
dF9hcCAgICAgICAgICAgICAgICA9IHdmeF9zdGFydF9hcCwKKwkuc3RvcF9hcCAgICAgICAgICAg
ICAgICAgPSB3Znhfc3RvcF9hcCwKKwkuc3RhX2FkZCAgICAgICAgICAgICAgICAgPSB3Znhfc3Rh
X2FkZCwKKwkuc3RhX3JlbW92ZSAgICAgICAgICAgICAgPSB3Znhfc3RhX3JlbW92ZSwKKwkuc2V0
X3RpbSAgICAgICAgICAgICAgICAgPSB3Znhfc2V0X3RpbSwKKwkuc2V0X2tleSAgICAgICAgICAg
ICAgICAgPSB3Znhfc2V0X2tleSwKKwkuc2V0X3J0c190aHJlc2hvbGQgICAgICAgPSB3Znhfc2V0
X3J0c190aHJlc2hvbGQsCisJLnNldF9kZWZhdWx0X3VuaWNhc3Rfa2V5ID0gd2Z4X3NldF9kZWZh
dWx0X3VuaWNhc3Rfa2V5LAorCS5ic3NfaW5mb19jaGFuZ2VkICAgICAgICA9IHdmeF9ic3NfaW5m
b19jaGFuZ2VkLAorCS5jb25maWd1cmVfZmlsdGVyICAgICAgICA9IHdmeF9jb25maWd1cmVfZmls
dGVyLAorCS5hbXBkdV9hY3Rpb24gICAgICAgICAgICA9IHdmeF9hbXBkdV9hY3Rpb24sCisJLmZs
dXNoICAgICAgICAgICAgICAgICAgID0gd2Z4X2ZsdXNoLAorCS5hZGRfY2hhbmN0eCAgICAgICAg
ICAgICA9IHdmeF9hZGRfY2hhbmN0eCwKKwkucmVtb3ZlX2NoYW5jdHggICAgICAgICAgPSB3Znhf
cmVtb3ZlX2NoYW5jdHgsCisJLmNoYW5nZV9jaGFuY3R4ICAgICAgICAgID0gd2Z4X2NoYW5nZV9j
aGFuY3R4LAorCS5hc3NpZ25fdmlmX2NoYW5jdHggICAgICA9IHdmeF9hc3NpZ25fdmlmX2NoYW5j
dHgsCisJLnVuYXNzaWduX3ZpZl9jaGFuY3R4ICAgID0gd2Z4X3VuYXNzaWduX3ZpZl9jaGFuY3R4
LAorfTsKKworYm9vbCB3ZnhfYXBpX29sZGVyX3RoYW4oc3RydWN0IHdmeF9kZXYgKndkZXYsIGlu
dCBtYWpvciwgaW50IG1pbm9yKQoreworCWlmICh3ZGV2LT5od19jYXBzLmFwaV92ZXJzaW9uX21h
am9yIDwgbWFqb3IpCisJCXJldHVybiB0cnVlOworCWlmICh3ZGV2LT5od19jYXBzLmFwaV92ZXJz
aW9uX21ham9yID4gbWFqb3IpCisJCXJldHVybiBmYWxzZTsKKwlpZiAod2Rldi0+aHdfY2Fwcy5h
cGlfdmVyc2lvbl9taW5vciA8IG1pbm9yKQorCQlyZXR1cm4gdHJ1ZTsKKwlyZXR1cm4gZmFsc2U7
Cit9CisKKy8qIFRoZSBkZXZpY2UgbmVlZHMgZGF0YSBhYm91dCB0aGUgYW50ZW5uYSBjb25maWd1
cmF0aW9uLiBUaGlzIGluZm9ybWF0aW9uIGluCisgKiBwcm92aWRlZCBieSBQRFMgKFBsYXRmb3Jt
IERhdGEgU2V0LCB0aGlzIGlzIHRoZSB3b3JkaW5nIHVzZWQgaW4gV0YyMDAKKyAqIGRvY3VtZW50
YXRpb24pIGZpbGVzLiBGb3IgaGFyZHdhcmUgaW50ZWdyYXRvcnMsIHRoZSBmdWxsIHByb2Nlc3Mg
dG8gY3JlYXRlCisgKiBQRFMgZmlsZXMgaXMgZGVzY3JpYmVkIGhlcmU6CisgKiAgIGh0dHBzOmdp
dGh1Yi5jb20vU2lsaWNvbkxhYnMvd2Z4LWZpcm13YXJlL2Jsb2IvbWFzdGVyL1BEUy9SRUFETUUu
bWQKKyAqCisgKiBUaGUgUERTIGZpbGUgaXMgYW4gYXJyYXkgb2YgVGltZS1MZW5ndGgtVmFsdWUg
c3RydWN0cy4KKyAqLworIGludCB3Znhfc2VuZF9wZHMoc3RydWN0IHdmeF9kZXYgKndkZXYsIHU4
ICpidWYsIHNpemVfdCBsZW4pCit7CisJaW50IHJldCwgY2h1bmtfdHlwZSwgY2h1bmtfbGVuLCBj
aHVua19udW0gPSAwOworCisJaWYgKCpidWYgPT0gJ3snKSB7CisJCWRldl9lcnIod2Rldi0+ZGV2
LCAiUERTOiBtYWxmb3JtZWQgZmlsZSAobGVnYWN5IGZvcm1hdD8pXG4iKTsKKwkJcmV0dXJuIC1F
SU5WQUw7CisJfQorCXdoaWxlIChsZW4gPiAwKSB7CisJCWNodW5rX3R5cGUgPSBnZXRfdW5hbGln
bmVkX2xlMTYoYnVmICsgMCk7CisJCWNodW5rX2xlbiA9IGdldF91bmFsaWduZWRfbGUxNihidWYg
KyAyKTsKKwkJaWYgKGNodW5rX2xlbiA+IGxlbikgeworCQkJZGV2X2Vycih3ZGV2LT5kZXYsICJQ
RFM6JWQ6IGNvcnJ1cHRlZCBmaWxlXG4iLCBjaHVua19udW0pOworCQkJcmV0dXJuIC1FSU5WQUw7
CisJCX0KKwkJaWYgKGNodW5rX3R5cGUgIT0gV0ZYX1BEU19UTFZfVFlQRSkgeworCQkJZGV2X2lu
Zm8od2Rldi0+ZGV2LCAiUERTOiVkOiBza2lwIHVua25vd24gZGF0YVxuIiwgY2h1bmtfbnVtKTsK
KwkJCWdvdG8gbmV4dDsKKwkJfQorCQlpZiAoY2h1bmtfbGVuID4gV0ZYX1BEU19NQVhfQ0hVTktf
U0laRSkKKwkJCWRldl93YXJuKHdkZXYtPmRldiwgIlBEUzolZDogdW5leHBlY3RseSBsYXJnZSBj
aHVua1xuIiwgY2h1bmtfbnVtKTsKKwkJaWYgKGJ1Zls0XSAhPSAneycgfHwgYnVmW2NodW5rX2xl
biAtIDFdICE9ICd9JykKKwkJCWRldl93YXJuKHdkZXYtPmRldiwgIlBEUzolZDogdW5leHBlY3Rl
ZCBjb250ZW50XG4iLCBjaHVua19udW0pOworCisJCXJldCA9IHdmeF9oaWZfY29uZmlndXJhdGlv
bih3ZGV2LCBidWYgKyA0LCBjaHVua19sZW4gLSA0KTsKKwkJaWYgKHJldCA+IDApIHsKKwkJCWRl
dl9lcnIod2Rldi0+ZGV2LCAiUERTOiVkOiBpbnZhbGlkIGRhdGEgKHVuc3VwcG9ydGVkIG9wdGlv
bnM/KVxuIiwKKwkJCQljaHVua19udW0pOworCQkJcmV0dXJuIC1FSU5WQUw7CisJCX0KKwkJaWYg
KHJldCA9PSAtRVRJTUVET1VUKSB7CisJCQlkZXZfZXJyKHdkZXYtPmRldiwgIlBEUzolZDogY2hp
cCBkaWRuJ3QgcmVwbHkgKGNvcnJ1cHRlZCBmaWxlPylcbiIsCisJCQkJY2h1bmtfbnVtKTsKKwkJ
CXJldHVybiByZXQ7CisJCX0KKwkJaWYgKHJldCkgeworCQkJZGV2X2Vycih3ZGV2LT5kZXYsICJQ
RFM6JWQ6IGNoaXAgcmV0dXJuZWQgYW4gdW5rbm93biBlcnJvclxuIiwgY2h1bmtfbnVtKTsKKwkJ
CXJldHVybiAtRUlPOworCQl9CituZXh0OgorCQljaHVua19udW0rKzsKKwkJbGVuIC09IGNodW5r
X2xlbjsKKwkJYnVmICs9IGNodW5rX2xlbjsKKwl9CisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBp
bnQgd2Z4X3NlbmRfcGRhdGFfcGRzKHN0cnVjdCB3ZnhfZGV2ICp3ZGV2KQoreworCWludCByZXQg
PSAwOworCWNvbnN0IHN0cnVjdCBmaXJtd2FyZSAqcGRzOworCXU4ICp0bXBfYnVmOworCisJcmV0
ID0gcmVxdWVzdF9maXJtd2FyZSgmcGRzLCB3ZGV2LT5wZGF0YS5maWxlX3Bkcywgd2Rldi0+ZGV2
KTsKKwlpZiAocmV0KSB7CisJCWRldl9lcnIod2Rldi0+ZGV2LCAiY2FuJ3QgbG9hZCBhbnRlbm5h
IHBhcmFtZXRlcnMgKFBEUyBmaWxlICVzKS4gVGhlIGRldmljZSBtYXkgYmUgdW5zdGFibGUuXG4i
LAorCQkJd2Rldi0+cGRhdGEuZmlsZV9wZHMpOworCQlyZXR1cm4gcmV0OworCX0KKwl0bXBfYnVm
ID0ga21lbWR1cChwZHMtPmRhdGEsIHBkcy0+c2l6ZSwgR0ZQX0tFUk5FTCk7CisJaWYgKCF0bXBf
YnVmKSB7CisJCXJldCA9IC1FTk9NRU07CisJCWdvdG8gcmVsZWFzZV9mdzsKKwl9CisJcmV0ID0g
d2Z4X3NlbmRfcGRzKHdkZXYsIHRtcF9idWYsIHBkcy0+c2l6ZSk7CisJa2ZyZWUodG1wX2J1Zik7
CityZWxlYXNlX2Z3OgorCXJlbGVhc2VfZmlybXdhcmUocGRzKTsKKwlyZXR1cm4gcmV0OworfQor
CitzdGF0aWMgdm9pZCB3ZnhfZnJlZV9jb21tb24odm9pZCAqZGF0YSkKK3sKKwlzdHJ1Y3Qgd2Z4
X2RldiAqd2RldiA9IGRhdGE7CisKKwltdXRleF9kZXN0cm95KCZ3ZGV2LT50eF9wb3dlcl9sb29w
X2luZm9fbG9jayk7CisJbXV0ZXhfZGVzdHJveSgmd2Rldi0+cnhfc3RhdHNfbG9jayk7CisJbXV0
ZXhfZGVzdHJveSgmd2Rldi0+Y29uZl9tdXRleCk7CisJaWVlZTgwMjExX2ZyZWVfaHcod2Rldi0+
aHcpOworfQorCitzdHJ1Y3Qgd2Z4X2RldiAqd2Z4X2luaXRfY29tbW9uKHN0cnVjdCBkZXZpY2Ug
KmRldiwgY29uc3Qgc3RydWN0IHdmeF9wbGF0Zm9ybV9kYXRhICpwZGF0YSwKKwkJCQljb25zdCBz
dHJ1Y3Qgd2Z4X2h3YnVzX29wcyAqaHdidXNfb3BzLCB2b2lkICpod2J1c19wcml2KQoreworCXN0
cnVjdCBpZWVlODAyMTFfaHcgKmh3OworCXN0cnVjdCB3ZnhfZGV2ICp3ZGV2OworCisJaHcgPSBp
ZWVlODAyMTFfYWxsb2NfaHcoc2l6ZW9mKHN0cnVjdCB3ZnhfZGV2KSwgJndmeF9vcHMpOworCWlm
ICghaHcpCisJCXJldHVybiBOVUxMOworCisJU0VUX0lFRUU4MDIxMV9ERVYoaHcsIGRldik7CisK
KwlpZWVlODAyMTFfaHdfc2V0KGh3LCBUWF9BTVBEVV9TRVRVUF9JTl9IVyk7CisJaWVlZTgwMjEx
X2h3X3NldChodywgQU1QRFVfQUdHUkVHQVRJT04pOworCWllZWU4MDIxMV9od19zZXQoaHcsIENP
Tk5FQ1RJT05fTU9OSVRPUik7CisJaWVlZTgwMjExX2h3X3NldChodywgUkVQT1JUU19UWF9BQ0tf
U1RBVFVTKTsKKwlpZWVlODAyMTFfaHdfc2V0KGh3LCBTVVBQT1JUU19EWU5BTUlDX1BTKTsKKwlp
ZWVlODAyMTFfaHdfc2V0KGh3LCBTSUdOQUxfREJNKTsKKwlpZWVlODAyMTFfaHdfc2V0KGh3LCBT
VVBQT1JUU19QUyk7CisJaWVlZTgwMjExX2h3X3NldChodywgTUZQX0NBUEFCTEUpOworCisJaHct
PnZpZl9kYXRhX3NpemUgPSBzaXplb2Yoc3RydWN0IHdmeF92aWYpOworCWh3LT5zdGFfZGF0YV9z
aXplID0gc2l6ZW9mKHN0cnVjdCB3Znhfc3RhX3ByaXYpOworCWh3LT5xdWV1ZXMgPSA0OworCWh3
LT5tYXhfcmF0ZXMgPSA4OworCWh3LT5tYXhfcmF0ZV90cmllcyA9IDg7CisJaHctPmV4dHJhX3R4
X2hlYWRyb29tID0gc2l6ZW9mKHN0cnVjdCB3ZnhfaGlmX21zZykgKyBzaXplb2Yoc3RydWN0IHdm
eF9oaWZfcmVxX3R4KSArCisJCQkJNCAvKiBhbGlnbm1lbnQgKi8gKyA4IC8qIFRLSVAgSVYgKi87
CisJaHctPndpcGh5LT5pbnRlcmZhY2VfbW9kZXMgPSBCSVQoTkw4MDIxMV9JRlRZUEVfU1RBVElP
TikgfAorCQkJCSAgICAgQklUKE5MODAyMTFfSUZUWVBFX0FESE9DKSB8CisJCQkJICAgICBCSVQo
Tkw4MDIxMV9JRlRZUEVfQVApOworCWh3LT53aXBoeS0+cHJvYmVfcmVzcF9vZmZsb2FkID0gTkw4
MDIxMV9QUk9CRV9SRVNQX09GRkxPQURfU1VQUE9SVF9XUFMgfAorCQkJCQlOTDgwMjExX1BST0JF
X1JFU1BfT0ZGTE9BRF9TVVBQT1JUX1dQUzIgfAorCQkJCQlOTDgwMjExX1BST0JFX1JFU1BfT0ZG
TE9BRF9TVVBQT1JUX1AyUCB8CisJCQkJCU5MODAyMTFfUFJPQkVfUkVTUF9PRkZMT0FEX1NVUFBP
UlRfODAyMTFVOworCWh3LT53aXBoeS0+ZmVhdHVyZXMgfD0gTkw4MDIxMV9GRUFUVVJFX0FQX1ND
QU47CisJaHctPndpcGh5LT5mbGFncyB8PSBXSVBIWV9GTEFHX0FQX1BST0JFX1JFU1BfT0ZGTE9B
RDsKKwlody0+d2lwaHktPmZsYWdzIHw9IFdJUEhZX0ZMQUdfQVBfVUFQU0Q7CisJaHctPndpcGh5
LT5tYXhfYXBfYXNzb2Nfc3RhID0gSElGX0xJTktfSURfTUFYOworCWh3LT53aXBoeS0+bWF4X3Nj
YW5fc3NpZHMgPSAyOworCWh3LT53aXBoeS0+bWF4X3NjYW5faWVfbGVuID0gSUVFRTgwMjExX01B
WF9EQVRBX0xFTjsKKwlody0+d2lwaHktPm5faWZhY2VfY29tYmluYXRpb25zID0gQVJSQVlfU0la
RSh3ZnhfaWZhY2VfY29tYmluYXRpb25zKTsKKwlody0+d2lwaHktPmlmYWNlX2NvbWJpbmF0aW9u
cyA9IHdmeF9pZmFjZV9jb21iaW5hdGlvbnM7CisJaHctPndpcGh5LT5iYW5kc1tOTDgwMjExX0JB
TkRfMkdIWl0gPSBkZXZtX2ttYWxsb2MoZGV2LCBzaXplb2Yod2Z4X2JhbmRfMmdoeiksIEdGUF9L
RVJORUwpOworCS8qIEZJWE1FOiBhbHNvIGNvcHkgd2Z4X3JhdGVzIGFuZCB3ZnhfMmdoel9jaGFu
dGFibGUgKi8KKwltZW1jcHkoaHctPndpcGh5LT5iYW5kc1tOTDgwMjExX0JBTkRfMkdIWl0sICZ3
ZnhfYmFuZF8yZ2h6LCBzaXplb2Yod2Z4X2JhbmRfMmdoeikpOworCisJd2RldiA9IGh3LT5wcml2
OworCXdkZXYtPmh3ID0gaHc7CisJd2Rldi0+ZGV2ID0gZGV2OworCXdkZXYtPmh3YnVzX29wcyA9
IGh3YnVzX29wczsKKwl3ZGV2LT5od2J1c19wcml2ID0gaHdidXNfcHJpdjsKKwltZW1jcHkoJndk
ZXYtPnBkYXRhLCBwZGF0YSwgc2l6ZW9mKCpwZGF0YSkpOworCW9mX3Byb3BlcnR5X3JlYWRfc3Ry
aW5nKGRldi0+b2Zfbm9kZSwgInNpbGFicyxhbnRlbm5hLWNvbmZpZy1maWxlIiwgJndkZXYtPnBk
YXRhLmZpbGVfcGRzKTsKKwl3ZGV2LT5wZGF0YS5ncGlvX3dha2V1cCA9IGRldm1fZ3Bpb2RfZ2V0
X29wdGlvbmFsKGRldiwgIndha2V1cCIsIEdQSU9EX09VVF9MT1cpOworCWlmIChJU19FUlIod2Rl
di0+cGRhdGEuZ3Bpb193YWtldXApKQorCQlyZXR1cm4gTlVMTDsKKwlpZiAod2Rldi0+cGRhdGEu
Z3Bpb193YWtldXApCisJCWdwaW9kX3NldF9jb25zdW1lcl9uYW1lKHdkZXYtPnBkYXRhLmdwaW9f
d2FrZXVwLCAid2Z4IHdha2V1cCIpOworCisJbXV0ZXhfaW5pdCgmd2Rldi0+Y29uZl9tdXRleCk7
CisJbXV0ZXhfaW5pdCgmd2Rldi0+cnhfc3RhdHNfbG9jayk7CisJbXV0ZXhfaW5pdCgmd2Rldi0+
dHhfcG93ZXJfbG9vcF9pbmZvX2xvY2spOworCWluaXRfY29tcGxldGlvbigmd2Rldi0+ZmlybXdh
cmVfcmVhZHkpOworCUlOSVRfREVMQVlFRF9XT1JLKCZ3ZGV2LT5jb29saW5nX3RpbWVvdXRfd29y
aywgd2Z4X2Nvb2xpbmdfdGltZW91dF93b3JrKTsKKwlza2JfcXVldWVfaGVhZF9pbml0KCZ3ZGV2
LT50eF9wZW5kaW5nKTsKKwlpbml0X3dhaXRxdWV1ZV9oZWFkKCZ3ZGV2LT50eF9kZXF1ZXVlKTsK
Kwl3ZnhfaW5pdF9oaWZfY21kKCZ3ZGV2LT5oaWZfY21kKTsKKworCWlmIChkZXZtX2FkZF9hY3Rp
b25fb3JfcmVzZXQoZGV2LCB3ZnhfZnJlZV9jb21tb24sIHdkZXYpKQorCQlyZXR1cm4gTlVMTDsK
KworCXJldHVybiB3ZGV2OworfQorCitpbnQgd2Z4X3Byb2JlKHN0cnVjdCB3ZnhfZGV2ICp3ZGV2
KQoreworCWludCBpOworCWludCBlcnI7CisJc3RydWN0IGdwaW9fZGVzYyAqZ3Bpb19zYXZlZDsK
KworCS8qIER1cmluZyBmaXJzdCBwYXJ0IG9mIGJvb3QsIGdwaW9fd2FrZXVwIGNhbm5vdCB5ZXQg
YmVlbiB1c2VkLiBTbyBwcmV2ZW50IGJoKCkgdG8gdG91Y2gKKwkgKiBpdC4KKwkgKi8KKwlncGlv
X3NhdmVkID0gd2Rldi0+cGRhdGEuZ3Bpb193YWtldXA7CisJd2Rldi0+cGRhdGEuZ3Bpb193YWtl
dXAgPSBOVUxMOworCXdkZXYtPnBvbGxfaXJxID0gdHJ1ZTsKKworCXdmeF9iaF9yZWdpc3Rlcih3
ZGV2KTsKKworCWVyciA9IHdmeF9pbml0X2RldmljZSh3ZGV2KTsKKwlpZiAoZXJyKQorCQlnb3Rv
IGJoX3VucmVnaXN0ZXI7CisKKwl3ZnhfYmhfcG9sbF9pcnEod2Rldik7CisJZXJyID0gd2FpdF9m
b3JfY29tcGxldGlvbl90aW1lb3V0KCZ3ZGV2LT5maXJtd2FyZV9yZWFkeSwgMSAqIEhaKTsKKwlp
ZiAoZXJyIDw9IDApIHsKKwkJaWYgKGVyciA9PSAwKSB7CisJCQlkZXZfZXJyKHdkZXYtPmRldiwg
InRpbWVvdXQgd2hpbGUgd2FpdGluZyBmb3Igc3RhcnR1cCBpbmRpY2F0aW9uXG4iKTsKKwkJCWVy
ciA9IC1FVElNRURPVVQ7CisJCX0gZWxzZSBpZiAoZXJyID09IC1FUkVTVEFSVFNZUykgeworCQkJ
ZGV2X2luZm8od2Rldi0+ZGV2LCAicHJvYmUgaW50ZXJydXB0ZWQgYnkgdXNlclxuIik7CisJCX0K
KwkJZ290byBiaF91bnJlZ2lzdGVyOworCX0KKworCS8qIEZJWE1FOiBmaWxsIHdpcGh5Ojpod192
ZXJzaW9uICovCisJZGV2X2luZm8od2Rldi0+ZGV2LCAic3RhcnRlZCBmaXJtd2FyZSAlZC4lZC4l
ZCBcIiVzXCIgKEFQSTogJWQuJWQsIGtleXNldDogJTAyWCwgY2FwczogMHglLjhYKVxuIiwKKwkJ
IHdkZXYtPmh3X2NhcHMuZmlybXdhcmVfbWFqb3IsIHdkZXYtPmh3X2NhcHMuZmlybXdhcmVfbWlu
b3IsCisJCSB3ZGV2LT5od19jYXBzLmZpcm13YXJlX2J1aWxkLCB3ZGV2LT5od19jYXBzLmZpcm13
YXJlX2xhYmVsLAorCQkgd2Rldi0+aHdfY2Fwcy5hcGlfdmVyc2lvbl9tYWpvciwgd2Rldi0+aHdf
Y2Fwcy5hcGlfdmVyc2lvbl9taW5vciwKKwkJIHdkZXYtPmtleXNldCwgd2Rldi0+aHdfY2Fwcy5s
aW5rX21vZGUpOworCXNucHJpbnRmKHdkZXYtPmh3LT53aXBoeS0+ZndfdmVyc2lvbiwKKwkJIHNp
emVvZih3ZGV2LT5ody0+d2lwaHktPmZ3X3ZlcnNpb24pLAorCQkgIiVkLiVkLiVkIiwKKwkJIHdk
ZXYtPmh3X2NhcHMuZmlybXdhcmVfbWFqb3IsCisJCSB3ZGV2LT5od19jYXBzLmZpcm13YXJlX21p
bm9yLAorCQkgd2Rldi0+aHdfY2Fwcy5maXJtd2FyZV9idWlsZCk7CisKKwlpZiAod2Z4X2FwaV9v
bGRlcl90aGFuKHdkZXYsIDEsIDApKSB7CisJCWRldl9lcnIod2Rldi0+ZGV2LCAidW5zdXBwb3J0
ZWQgZmlybXdhcmUgQVBJIHZlcnNpb24gKGV4cGVjdCAxIHdoaWxlIGZpcm13YXJlIHJldHVybnMg
JWQpXG4iLAorCQkJd2Rldi0+aHdfY2Fwcy5hcGlfdmVyc2lvbl9tYWpvcik7CisJCWVyciA9IC1F
T1BOT1RTVVBQOworCQlnb3RvIGJoX3VucmVnaXN0ZXI7CisJfQorCisJaWYgKHdkZXYtPmh3X2Nh
cHMubGlua19tb2RlID09IFNFQ19MSU5LX0VORk9SQ0VEKSB7CisJCWRldl9lcnIod2Rldi0+ZGV2
LCAiY2hpcCByZXF1aXJlIHNlY3VyZV9saW5rLCBidXQgY2FuJ3QgbmVnb3RpYXRlIGl0XG4iKTsK
KwkJZ290byBiaF91bnJlZ2lzdGVyOworCX0KKworCWlmICh3ZGV2LT5od19jYXBzLnJlZ2lvbl9z
ZWxfbW9kZSkgeworCQl3ZGV2LT5ody0+d2lwaHktPmJhbmRzW05MODAyMTFfQkFORF8yR0haXS0+
Y2hhbm5lbHNbMTFdLmZsYWdzIHw9CisJCQlJRUVFODAyMTFfQ0hBTl9OT19JUjsKKwkJd2Rldi0+
aHctPndpcGh5LT5iYW5kc1tOTDgwMjExX0JBTkRfMkdIWl0tPmNoYW5uZWxzWzEyXS5mbGFncyB8
PQorCQkJSUVFRTgwMjExX0NIQU5fTk9fSVI7CisJCXdkZXYtPmh3LT53aXBoeS0+YmFuZHNbTkw4
MDIxMV9CQU5EXzJHSFpdLT5jaGFubmVsc1sxM10uZmxhZ3MgfD0KKwkJCUlFRUU4MDIxMV9DSEFO
X0RJU0FCTEVEOworCX0KKworCWRldl9kYmcod2Rldi0+ZGV2LCAic2VuZGluZyBjb25maWd1cmF0
aW9uIGZpbGUgJXNcbiIsIHdkZXYtPnBkYXRhLmZpbGVfcGRzKTsKKwllcnIgPSB3Znhfc2VuZF9w
ZGF0YV9wZHMod2Rldik7CisJaWYgKGVyciA8IDAgJiYgZXJyICE9IC1FTk9FTlQpCisJCWdvdG8g
YmhfdW5yZWdpc3RlcjsKKworCXdkZXYtPnBvbGxfaXJxID0gZmFsc2U7CisJZXJyID0gd2Rldi0+
aHdidXNfb3BzLT5pcnFfc3Vic2NyaWJlKHdkZXYtPmh3YnVzX3ByaXYpOworCWlmIChlcnIpCisJ
CWdvdG8gYmhfdW5yZWdpc3RlcjsKKworCWVyciA9IHdmeF9oaWZfdXNlX211bHRpX3R4X2NvbmYo
d2RldiwgdHJ1ZSk7CisJaWYgKGVycikKKwkJZGV2X2Vycih3ZGV2LT5kZXYsICJtaXNjb25maWd1
cmVkIElSUT9cbiIpOworCisJd2Rldi0+cGRhdGEuZ3Bpb193YWtldXAgPSBncGlvX3NhdmVkOwor
CWlmICh3ZGV2LT5wZGF0YS5ncGlvX3dha2V1cCkgeworCQlkZXZfZGJnKHdkZXYtPmRldiwgImVu
YWJsZSAncXVpZXNjZW50JyBwb3dlciBtb2RlIHdpdGggd2FrZXVwIEdQSU8gYW5kIFBEUyBmaWxl
ICVzXG4iLAorCQkJd2Rldi0+cGRhdGEuZmlsZV9wZHMpOworCQlncGlvZF9zZXRfdmFsdWVfY2Fu
c2xlZXAod2Rldi0+cGRhdGEuZ3Bpb193YWtldXAsIDEpOworCQl3ZnhfY29udHJvbF9yZWdfd3Jp
dGUod2RldiwgMCk7CisJCXdmeF9oaWZfc2V0X29wZXJhdGlvbmFsX21vZGUod2RldiwgSElGX09Q
X1BPV0VSX01PREVfUVVJRVNDRU5UKTsKKwl9IGVsc2UgeworCQl3ZnhfaGlmX3NldF9vcGVyYXRp
b25hbF9tb2RlKHdkZXYsIEhJRl9PUF9QT1dFUl9NT0RFX0RPWkUpOworCX0KKworCWZvciAoaSA9
IDA7IGkgPCBBUlJBWV9TSVpFKHdkZXYtPmFkZHJlc3Nlcyk7IGkrKykgeworCQlldGhfemVyb19h
ZGRyKHdkZXYtPmFkZHJlc3Nlc1tpXS5hZGRyKTsKKwkJZXJyID0gb2ZfZ2V0X21hY19hZGRyZXNz
KHdkZXYtPmRldi0+b2Zfbm9kZSwgd2Rldi0+YWRkcmVzc2VzW2ldLmFkZHIpOworCQlpZiAoIWVy
cikKKwkJCXdkZXYtPmFkZHJlc3Nlc1tpXS5hZGRyW0VUSF9BTEVOIC0gMV0gKz0gaTsKKwkJZWxz
ZQorCQkJZXRoZXJfYWRkcl9jb3B5KHdkZXYtPmFkZHJlc3Nlc1tpXS5hZGRyLCB3ZGV2LT5od19j
YXBzLm1hY19hZGRyW2ldKTsKKwkJaWYgKCFpc192YWxpZF9ldGhlcl9hZGRyKHdkZXYtPmFkZHJl
c3Nlc1tpXS5hZGRyKSkgeworCQkJZGV2X3dhcm4od2Rldi0+ZGV2LCAidXNpbmcgcmFuZG9tIE1B
QyBhZGRyZXNzXG4iKTsKKwkJCWV0aF9yYW5kb21fYWRkcih3ZGV2LT5hZGRyZXNzZXNbaV0uYWRk
cik7CisJCX0KKwkJZGV2X2luZm8od2Rldi0+ZGV2LCAiTUFDIGFkZHJlc3MgJWQ6ICVwTVxuIiwg
aSwgd2Rldi0+YWRkcmVzc2VzW2ldLmFkZHIpOworCX0KKwl3ZGV2LT5ody0+d2lwaHktPm5fYWRk
cmVzc2VzID0gQVJSQVlfU0laRSh3ZGV2LT5hZGRyZXNzZXMpOworCXdkZXYtPmh3LT53aXBoeS0+
YWRkcmVzc2VzID0gd2Rldi0+YWRkcmVzc2VzOworCisJaWYgKCF3ZnhfYXBpX29sZGVyX3RoYW4o
d2RldiwgMywgOCkpCisJCXdkZXYtPmh3LT53aXBoeS0+ZmxhZ3MgfD0gV0lQSFlfRkxBR19TVVBQ
T1JUU19URExTOworCisJZXJyID0gaWVlZTgwMjExX3JlZ2lzdGVyX2h3KHdkZXYtPmh3KTsKKwlp
ZiAoZXJyKQorCQlnb3RvIGlycV91bnN1YnNjcmliZTsKKworCWVyciA9IHdmeF9kZWJ1Z19pbml0
KHdkZXYpOworCWlmIChlcnIpCisJCWdvdG8gaWVlZTgwMjExX3VucmVnaXN0ZXI7CisKKwlyZXR1
cm4gMDsKKworaWVlZTgwMjExX3VucmVnaXN0ZXI6CisJaWVlZTgwMjExX3VucmVnaXN0ZXJfaHco
d2Rldi0+aHcpOworaXJxX3Vuc3Vic2NyaWJlOgorCXdkZXYtPmh3YnVzX29wcy0+aXJxX3Vuc3Vi
c2NyaWJlKHdkZXYtPmh3YnVzX3ByaXYpOworYmhfdW5yZWdpc3RlcjoKKwl3ZnhfYmhfdW5yZWdp
c3Rlcih3ZGV2KTsKKwlyZXR1cm4gZXJyOworfQorCit2b2lkIHdmeF9yZWxlYXNlKHN0cnVjdCB3
ZnhfZGV2ICp3ZGV2KQoreworCWllZWU4MDIxMV91bnJlZ2lzdGVyX2h3KHdkZXYtPmh3KTsKKwl3
ZnhfaGlmX3NodXRkb3duKHdkZXYpOworCXdkZXYtPmh3YnVzX29wcy0+aXJxX3Vuc3Vic2NyaWJl
KHdkZXYtPmh3YnVzX3ByaXYpOworCXdmeF9iaF91bnJlZ2lzdGVyKHdkZXYpOworfQorCitzdGF0
aWMgaW50IF9faW5pdCB3ZnhfY29yZV9pbml0KHZvaWQpCit7CisJaW50IHJldCA9IDA7CisKKwlp
ZiAoSVNfRU5BQkxFRChDT05GSUdfU1BJKSkKKwkJcmV0ID0gc3BpX3JlZ2lzdGVyX2RyaXZlcigm
d2Z4X3NwaV9kcml2ZXIpOworCWlmIChJU19FTkFCTEVEKENPTkZJR19NTUMpICYmICFyZXQpCisJ
CXJldCA9IHNkaW9fcmVnaXN0ZXJfZHJpdmVyKCZ3Znhfc2Rpb19kcml2ZXIpOworCXJldHVybiBy
ZXQ7Cit9Cittb2R1bGVfaW5pdCh3ZnhfY29yZV9pbml0KTsKKworc3RhdGljIHZvaWQgX19leGl0
IHdmeF9jb3JlX2V4aXQodm9pZCkKK3sKKwlpZiAoSVNfRU5BQkxFRChDT05GSUdfTU1DKSkKKwkJ
c2Rpb191bnJlZ2lzdGVyX2RyaXZlcigmd2Z4X3NkaW9fZHJpdmVyKTsKKwlpZiAoSVNfRU5BQkxF
RChDT05GSUdfU1BJKSkKKwkJc3BpX3VucmVnaXN0ZXJfZHJpdmVyKCZ3Znhfc3BpX2RyaXZlcik7
Cit9Cittb2R1bGVfZXhpdCh3ZnhfY29yZV9leGl0KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvbmV0
L3dpcmVsZXNzL3NpbGFicy93ZngvbWFpbi5oIGIvZHJpdmVycy9uZXQvd2lyZWxlc3Mvc2lsYWJz
L3dmeC9tYWluLmgKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi5mY2Qy
NmIyNDUxOWUKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL25ldC93aXJlbGVzcy9zaWxhYnMv
d2Z4L21haW4uaApAQCAtMCwwICsxLDQyIEBACisvKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjog
R1BMLTIuMC1vbmx5ICovCisvKgorICogRGV2aWNlIHByb2JlIGFuZCByZWdpc3Rlci4KKyAqCisg
KiBDb3B5cmlnaHQgKGMpIDIwMTctMjAyMCwgU2lsaWNvbiBMYWJvcmF0b3JpZXMsIEluYy4KKyAq
IENvcHlyaWdodCAoYykgMjAxMCwgU1QtRXJpY3Nzb24KKyAqIENvcHlyaWdodCAoYykgMjAwNiwg
TWljaGFlbCBXdSA8ZmxhbWluZ2ljZUBzb3VybWlsay5uZXQ+CisgKiBDb3B5cmlnaHQgMjAwNC0y
MDA2IEplYW4tQmFwdGlzdGUgTm90ZSA8amJub3RlQGdtYWlsLmNvbT4sIGV0IGFsLgorICovCisj
aWZuZGVmIFdGWF9NQUlOX0gKKyNkZWZpbmUgV0ZYX01BSU5fSAorCisjaW5jbHVkZSA8bGludXgv
ZGV2aWNlLmg+CisjaW5jbHVkZSA8bGludXgvZ3Bpby9jb25zdW1lci5oPgorCisjaW5jbHVkZSAi
aGlmX2FwaV9nZW5lcmFsLmgiCisKK3N0cnVjdCB3ZnhfZGV2Oworc3RydWN0IHdmeF9od2J1c19v
cHM7CisKK3N0cnVjdCB3ZnhfcGxhdGZvcm1fZGF0YSB7CisJLyogS2V5c2V0IGFuZCAiLnNlYyIg
ZXh0ZW5zaW9uIHdpbGwgYmUgYXBwZW5kZWQgdG8gdGhpcyBzdHJpbmcgKi8KKwljb25zdCBjaGFy
ICpmaWxlX2Z3OworCWNvbnN0IGNoYXIgKmZpbGVfcGRzOworCXN0cnVjdCBncGlvX2Rlc2MgKmdw
aW9fd2FrZXVwOworCWJvb2wgcmVzZXRfaW52ZXJ0ZWQ7CisJLyogaWYgdHJ1ZSBISUYgRF9vdXQg
aXMgc2FtcGxlZCBvbiB0aGUgcmlzaW5nIGVkZ2Ugb2YgdGhlIGNsb2NrIChpbnRlbmRlZCB0byBi
ZSB1c2VkIGluCisJICogNTBNaHogU0RJTykKKwkgKi8KKwlib29sIHVzZV9yaXNpbmdfY2xrOwor
fTsKKworc3RydWN0IHdmeF9kZXYgKndmeF9pbml0X2NvbW1vbihzdHJ1Y3QgZGV2aWNlICpkZXYs
IGNvbnN0IHN0cnVjdCB3ZnhfcGxhdGZvcm1fZGF0YSAqcGRhdGEsCisJCQkJY29uc3Qgc3RydWN0
IHdmeF9od2J1c19vcHMgKmh3YnVzX29wcywgdm9pZCAqaHdidXNfcHJpdik7CisKK2ludCB3Znhf
cHJvYmUoc3RydWN0IHdmeF9kZXYgKndkZXYpOwordm9pZCB3ZnhfcmVsZWFzZShzdHJ1Y3Qgd2Z4
X2RldiAqd2Rldik7CisKK2Jvb2wgd2Z4X2FwaV9vbGRlcl90aGFuKHN0cnVjdCB3ZnhfZGV2ICp3
ZGV2LCBpbnQgbWFqb3IsIGludCBtaW5vcik7CitpbnQgd2Z4X3NlbmRfcGRzKHN0cnVjdCB3Znhf
ZGV2ICp3ZGV2LCB1OCAqYnVmLCBzaXplX3QgbGVuKTsKKworI2VuZGlmCi0tIAoyLjM0LjEKCg==
