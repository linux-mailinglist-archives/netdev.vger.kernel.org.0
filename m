Return-Path: <netdev-owner@vger.kernel.org>
X-Original-To: lists+netdev@lfdr.de
Delivered-To: lists+netdev@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 3E3DC315DF
	for <lists+netdev@lfdr.de>; Fri, 31 May 2019 22:10:29 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1727498AbfEaUKE (ORCPT <rfc822;lists+netdev@lfdr.de>);
        Fri, 31 May 2019 16:10:04 -0400
Received: from mail-eopbgr60043.outbound.protection.outlook.com ([40.107.6.43]:15081
        "EHLO EUR04-DB3-obe.outbound.protection.outlook.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S1727376AbfEaUJ7 (ORCPT <rfc822;netdev@vger.kernel.org>);
        Fri, 31 May 2019 16:09:59 -0400
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=Mellanox.com;
 s=selector2;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=3kO0MAQH0MsMuU/+1PenG/4O+85iareY3yiy9iHiKFo=;
 b=dS5fCz8o6DhvgemMp8J4hVmdZsfuvCHJopcV42Oe3ZVcG7/N0CCwhEuU3+rdr/51yf0+xKClxrWEppiHayFPYNVKy+kCPa21TJYKz6HetDj5khyH8yKaGlbng0mpmu5d6EU/8rj7V15lEBckvSrszHnuzTMG8wERBVhBlkwZwYs=
Received: from VI1PR05MB5902.eurprd05.prod.outlook.com (20.178.125.223) by
 VI1PR05MB5600.eurprd05.prod.outlook.com (20.177.203.32) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1922.16; Fri, 31 May 2019 20:09:28 +0000
Received: from VI1PR05MB5902.eurprd05.prod.outlook.com
 ([fe80::dd31:2532:9adf:9b38]) by VI1PR05MB5902.eurprd05.prod.outlook.com
 ([fe80::dd31:2532:9adf:9b38%6]) with mapi id 15.20.1922.021; Fri, 31 May 2019
 20:09:28 +0000
From:   Saeed Mahameed <saeedm@mellanox.com>
To:     "David S. Miller" <davem@davemloft.net>
CC:     "netdev@vger.kernel.org" <netdev@vger.kernel.org>,
        Yevgeny Kliteynik <kliteyn@mellanox.com>,
        Oz Shlomo <ozsh@mellanox.com>,
        Saeed Mahameed <saeedm@mellanox.com>
Subject: [net-next 4/9] net/mlx5: Geneve, Manage Geneve TLV options
Thread-Topic: [net-next 4/9] net/mlx5: Geneve, Manage Geneve TLV options
Thread-Index: AQHVF+zAZ4qod0hI8EO+74kvdi8dYQ==
Date:   Fri, 31 May 2019 20:09:28 +0000
Message-ID: <20190531200838.25184-5-saeedm@mellanox.com>
References: <20190531200838.25184-1-saeedm@mellanox.com>
In-Reply-To: <20190531200838.25184-1-saeedm@mellanox.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-mailer: git-send-email 2.21.0
x-originating-ip: [209.116.155.178]
x-clientproxiedby: BYAPR07CA0086.namprd07.prod.outlook.com
 (2603:10b6:a03:12b::27) To VI1PR05MB5902.eurprd05.prod.outlook.com
 (2603:10a6:803:df::31)
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=saeedm@mellanox.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: ca319f9e-f0dd-4f92-59c6-08d6e603e27c
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0;PCL:0;RULEID:(2390118)(7020095)(4652040)(8989299)(5600148)(711020)(4605104)(1401327)(4618075)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(2017052603328)(7193020);SRVR:VI1PR05MB5600;
x-ms-traffictypediagnostic: VI1PR05MB5600:
x-microsoft-antispam-prvs: <VI1PR05MB56009DC4FE0A28AC3F73EBF9BE190@VI1PR05MB5600.eurprd05.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:10000;
x-forefront-prvs: 00540983E2
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(39860400002)(376002)(366004)(136003)(396003)(346002)(189003)(199004)(99286004)(52116002)(2616005)(6116002)(6512007)(14444005)(107886003)(486006)(54906003)(386003)(476003)(76176011)(186003)(26005)(3846002)(11346002)(305945005)(81166006)(66066001)(256004)(6506007)(4326008)(25786009)(6486002)(102836004)(6436002)(66946007)(8936002)(64756008)(7736002)(8676002)(53936002)(66476007)(73956011)(446003)(66556008)(81156014)(66446008)(6916009)(1076003)(68736007)(2906002)(86362001)(71190400001)(14454004)(5660300002)(316002)(508600001)(36756003)(50226002)(71200400001);DIR:OUT;SFP:1101;SCL:1;SRVR:VI1PR05MB5600;H:VI1PR05MB5902.eurprd05.prod.outlook.com;FPR:;SPF:None;LANG:en;PTR:InfoNoRecords;MX:1;A:1;
received-spf: None (protection.outlook.com: mellanox.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: NQXcS9oarmrjK23XtraaXrYoKDjEjX7ygAlqaSWrBwjmR1yqG5jo3tVlMNBwCFaCVmJyFdcKVQkiRa024yz8BYSuYdTSdnZo9MtIwo66UHFFNMhaNdOid6V4tbpVE11TmedtJFkc1JIi9s4MXMwezajADiAQd6nE/jU29PWSiN4qbqhYbc1Otq+dG0lrAdpIktMQyoyt6DsPzad0D/4mLsGScPgp9Tn59lupOqcKNBlLZb6Qya+xvsOZo49P4JyVrmrgijhvP+e6Rnp/emhBrWBN0zf78qcyqjBZgoAVPflNDi514MdDA5NZhiy99hCY+q2uoaMXxFsvaG2j8DU7Fv8OagnyVXK1ucrmKaMwWNqT7z5YU5CwZh7j6o9O+1XsDY+jPKetiVhrRdC+xRJovC/wVT6Vn+bwhpQdl7kpO7s=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: Mellanox.com
X-MS-Exchange-CrossTenant-Network-Message-Id: ca319f9e-f0dd-4f92-59c6-08d6e603e27c
X-MS-Exchange-CrossTenant-originalarrivaltime: 31 May 2019 20:09:28.3141
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: a652971c-7d2e-4d9b-a6a4-d149256f461b
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: saeedm@mellanox.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: VI1PR05MB5600
Sender: netdev-owner@vger.kernel.org
Precedence: bulk
List-ID: <netdev.vger.kernel.org>
X-Mailing-List: netdev@vger.kernel.org

RnJvbTogWWV2Z2VueSBLbGl0ZXluaWsgPGtsaXRleW5AbWVsbGFub3guY29tPg0KDQpVc2UgR2Vu
ZXZlIFRMViBPcHRpb25zIG9iamVjdCB0byBtYW5hZ2UgdGhlIGZsZXggcGFyc2VyIG1hdGNoaW5n
DQpvbiB0aGUgMzItYml0IG9wdGlvbnMgZGF0YS4NCg0KV2hlbiB0aGUgZmlyc3QgZmxvdyB3aXRo
IGEgY2VydGFpbiBjbGFzcy90eXBlIHZhbHVlcyBpcyByZXF1ZXN0ZWQgdG8NCmJlIG9mZmxvYWRl
ZCwgY3JlYXRlIGEgRlcgb2JqZWN0IHdpdGggRlcgY29tbWFuZCAoR2VuZXZlIFRMViBPcHRpb25z
DQpnZW5lcmFsIG9iamVjdCkgYW5kIHN0YXJ0IGNvdW50aW5nIHRoZSBudW1iZXIgb2YgZmxvd3Mg
dXNpbmcgdGhpcyBvYmplY3QuDQoNCkR1cmluZyB0aGlzIHRpbWUsIGFueSByZXF1ZXN0IHdpdGgg
YSBkaWZmZXJlbnQgY2xhc3MvdHlwZSB2YWx1ZXMgd2lsbA0KZmFpbCB0byBiZSBvZmZsb2FkZWQu
DQpPbmNlIHRoZSByZWZjb3VudCByZWFjaGVzIDAsIGRlc3Ryb3kgdGhlIFRMViBvcHRpb25zIGdl
bmVyYWwgb2JqZWN0LA0KYW5kIGNhbiBub3cgb2ZmbG9hZCBhIGZsb3cgd2l0aCBhbnkgY2xhc3Mv
dHlwZSBwYXJhbWV0ZXJzLg0KDQpHZW5ldmUgVExWIE9wdGlvbnMgb2JqZWN0IGlzIGFkZGVkIHRv
IGNvcmUgZGV2aWNlLg0KSXQgaXMgY3VycmVudGx5IHVzZWQgdG8gbWFuYWdlIEdlbmV2ZSBUTFYg
b3B0aW9ucyBnZW5lcmFsDQpvYmplY3QgYWxsb2NhdGlvbiBpbiBGVyBhbmQgaXRzIHJlZmVyZW5j
ZSBjb3VudGluZyBvbmx5Lg0KSW4gdGhlIGZ1dHVyZSBpdCB3aWxsIGFsc28gYmUgdXNlZCBmb3Ig
bWFuYWdpbmcgZ2VuZXZlIHBvcnRzDQpieSByZWdpc3RlcmluZyBjYWxsYmFja3MgZm9yIG5kb191
ZHBfdHVubmVsX2FkZC9kZWwuDQoNClJldmlld2VkLWJ5OiBPeiBTaGxvbW8gPG96c2hAbWVsbGFu
b3guY29tPg0KU2lnbmVkLW9mZi1ieTogWWV2Z2VueSBLbGl0ZXluaWsgPGtsaXRleW5AbWVsbGFu
b3guY29tPg0KU2lnbmVkLW9mZi1ieTogU2FlZWQgTWFoYW1lZWQgPHNhZWVkbUBtZWxsYW5veC5j
b20+DQotLS0NCiAuLi4vbmV0L2V0aGVybmV0L21lbGxhbm94L21seDUvY29yZS9NYWtlZmlsZSAg
fCAgIDMgKy0NCiAuLi4vZXRoZXJuZXQvbWVsbGFub3gvbWx4NS9jb3JlL2xpYi9nZW5ldmUuYyAg
fCAxNTcgKysrKysrKysrKysrKysrKysrDQogLi4uL2V0aGVybmV0L21lbGxhbm94L21seDUvY29y
ZS9saWIvZ2VuZXZlLmggIHwgIDMzICsrKysNCiAuLi4vbmV0L2V0aGVybmV0L21lbGxhbm94L21s
eDUvY29yZS9tYWluLmMgICAgfCAgIDQgKw0KIGluY2x1ZGUvbGludXgvbWx4NS9kcml2ZXIuaCAg
ICAgICAgICAgICAgICAgICB8ICAgMiArDQogNSBmaWxlcyBjaGFuZ2VkLCAxOTggaW5zZXJ0aW9u
cygrKSwgMSBkZWxldGlvbigtKQ0KIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL25ldC9ldGhl
cm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvbGliL2dlbmV2ZS5jDQogY3JlYXRlIG1vZGUgMTAwNjQ0
IGRyaXZlcnMvbmV0L2V0aGVybmV0L21lbGxhbm94L21seDUvY29yZS9saWIvZ2VuZXZlLmgNCg0K
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvbmV0L2V0aGVybmV0L21lbGxhbm94L21seDUvY29yZS9NYWtl
ZmlsZSBiL2RyaXZlcnMvbmV0L2V0aGVybmV0L21lbGxhbm94L21seDUvY29yZS9NYWtlZmlsZQ0K
aW5kZXggMjQzMzY4ZGMyM2RiLi5lMzEwMjcyNzdhNmUgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL25l
dC9ldGhlcm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvTWFrZWZpbGUNCisrKyBiL2RyaXZlcnMvbmV0
L2V0aGVybmV0L21lbGxhbm94L21seDUvY29yZS9NYWtlZmlsZQ0KQEAgLTMxLDcgKzMxLDggQEAg
bWx4NV9jb3JlLSQoQ09ORklHX01MWDVfQ09SRV9FTikgKz0gZW5fbWFpbi5vIGVuX2NvbW1vbi5v
IGVuX2ZzLm8gZW5fZXRodG9vbC5vIFwNCiBtbHg1X2NvcmUtJChDT05GSUdfTUxYNV9FTl9BUkZT
KSAgICAgKz0gZW5fYXJmcy5vDQogbWx4NV9jb3JlLSQoQ09ORklHX01MWDVfRU5fUlhORkMpICAg
ICs9IGVuX2ZzX2V0aHRvb2wubw0KIG1seDVfY29yZS0kKENPTkZJR19NTFg1X0NPUkVfRU5fRENC
KSArPSBlbl9kY2JubC5vIGVuL3BvcnRfYnVmZmVyLm8NCi1tbHg1X2NvcmUtJChDT05GSUdfTUxY
NV9FU1dJVENIKSAgICAgKz0gZW5fcmVwLm8gZW5fdGMubyBlbi90Y190dW4ubyBsaWIvcG9ydF90
dW4ubyBsYWdfbXAubw0KK21seDVfY29yZS0kKENPTkZJR19NTFg1X0VTV0lUQ0gpICAgICArPSBl
bl9yZXAubyBlbl90Yy5vIGVuL3RjX3R1bi5vIGxpYi9wb3J0X3R1bi5vIGxhZ19tcC5vIFwNCisJ
CQkJCWxpYi9nZW5ldmUubw0KIA0KICMNCiAjIENvcmUgZXh0cmENCmRpZmYgLS1naXQgYS9kcml2
ZXJzL25ldC9ldGhlcm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvbGliL2dlbmV2ZS5jIGIvZHJpdmVy
cy9uZXQvZXRoZXJuZXQvbWVsbGFub3gvbWx4NS9jb3JlL2xpYi9nZW5ldmUuYw0KbmV3IGZpbGUg
bW9kZSAxMDA2NDQNCmluZGV4IDAwMDAwMDAwMDAwMC4uMjMzNjFhOWFlNGZhDQotLS0gL2Rldi9u
dWxsDQorKysgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvbGliL2dl
bmV2ZS5jDQpAQCAtMCwwICsxLDE1NyBAQA0KKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBH
UEwtMi4wIE9SIExpbnV4LU9wZW5JQg0KKy8qIENvcHlyaWdodCAoYykgMjAxOSBNZWxsYW5veCBU
ZWNobm9sb2dpZXMuICovDQorDQorI2luY2x1ZGUgPGxpbnV4L2tlcm5lbC5oPg0KKyNpbmNsdWRl
ICJtbHg1X2NvcmUuaCINCisjaW5jbHVkZSAiZ2VuZXZlLmgiDQorDQorc3RydWN0IG1seDVfZ2Vu
ZXZlIHsNCisJc3RydWN0IG1seDVfY29yZV9kZXYgKm1kZXY7DQorCV9fYmUxNiBvcHRfY2xhc3M7
DQorCXU4IG9wdF90eXBlOw0KKwl1MzIgb2JqX2lkOw0KKwlzdHJ1Y3QgbXV0ZXggc3luY19sb2Nr
OyAvKiBwcm90ZWN0IEdFTkVWRSBvYmogb3BlcmF0aW9ucyAqLw0KKwl1MzIgcmVmY291bnQ7DQor
fTsNCisNCitzdGF0aWMgaW50IG1seDVfZ2VuZXZlX3Rsdl9vcHRpb25fY3JlYXRlKHN0cnVjdCBt
bHg1X2NvcmVfZGV2ICptZGV2LA0KKwkJCQkJIF9fYmUxNiBjbGFzcywNCisJCQkJCSB1OCB0eXBl
LA0KKwkJCQkJIHU4IGxlbikNCit7DQorCXUzMiBpbltNTFg1X1NUX1NaX0RXKGNyZWF0ZV9nZW5l
dmVfdGx2X29wdGlvbl9pbildID0ge307DQorCXUzMiBvdXRbTUxYNV9TVF9TWl9EVyhnZW5lcmFs
X29ial9vdXRfY21kX2hkcildID0ge307DQorCXU2NCBnZW5lcmFsX29ial90eXBlczsNCisJdm9p
ZCAqaGRyLCAqb3B0Ow0KKwl1MTYgb2JqX2lkOw0KKwlpbnQgZXJyOw0KKw0KKwlnZW5lcmFsX29i
al90eXBlcyA9IE1MWDVfQ0FQX0dFTl82NChtZGV2LCBnZW5lcmFsX29ial90eXBlcyk7DQorCWlm
ICghKGdlbmVyYWxfb2JqX3R5cGVzICYgTUxYNV9HRU5FUkFMX09CSl9UWVBFU19DQVBfR0VORVZF
X1RMVl9PUFQpKQ0KKwkJcmV0dXJuIC1FSU5WQUw7DQorDQorCWhkciA9IE1MWDVfQUREUl9PRihj
cmVhdGVfZ2VuZXZlX3Rsdl9vcHRpb25faW4sIGluLCBoZHIpOw0KKwlvcHQgPSBNTFg1X0FERFJf
T0YoY3JlYXRlX2dlbmV2ZV90bHZfb3B0aW9uX2luLCBpbiwgZ2VuZXZlX3Rsdl9vcHQpOw0KKw0K
KwlNTFg1X1NFVChnZW5lcmFsX29ial9pbl9jbWRfaGRyLCBoZHIsIG9wY29kZSwgTUxYNV9DTURf
T1BfQ1JFQVRFX0dFTkVSQUxfT0JKRUNUKTsNCisJTUxYNV9TRVQoZ2VuZXJhbF9vYmpfaW5fY21k
X2hkciwgaGRyLCBvYmpfdHlwZSwgTUxYNV9PQkpfVFlQRV9HRU5FVkVfVExWX09QVCk7DQorDQor
CU1MWDVfU0VUKGdlbmV2ZV90bHZfb3B0aW9uLCBvcHQsIG9wdGlvbl9jbGFzcywgYmUxNl90b19j
cHUoY2xhc3MpKTsNCisJTUxYNV9TRVQoZ2VuZXZlX3Rsdl9vcHRpb24sIG9wdCwgb3B0aW9uX3R5
cGUsIHR5cGUpOw0KKwlNTFg1X1NFVChnZW5ldmVfdGx2X29wdGlvbiwgb3B0LCBvcHRpb25fZGF0
YV9sZW5ndGgsIGxlbik7DQorDQorCWVyciA9IG1seDVfY21kX2V4ZWMobWRldiwgaW4sIHNpemVv
ZihpbiksIG91dCwgc2l6ZW9mKG91dCkpOw0KKwlpZiAoZXJyKQ0KKwkJcmV0dXJuIGVycjsNCisN
CisJb2JqX2lkID0gTUxYNV9HRVQoZ2VuZXJhbF9vYmpfb3V0X2NtZF9oZHIsIG91dCwgb2JqX2lk
KTsNCisJcmV0dXJuIG9ial9pZDsNCit9DQorDQorc3RhdGljIHZvaWQgbWx4NV9nZW5ldmVfdGx2
X29wdGlvbl9kZXN0cm95KHN0cnVjdCBtbHg1X2NvcmVfZGV2ICptZGV2LCB1MTYgb2JqX2lkKQ0K
K3sNCisJdTMyIG91dFtNTFg1X1NUX1NaX0RXKGdlbmVyYWxfb2JqX291dF9jbWRfaGRyKV0gPSB7
fTsNCisJdTMyIGluW01MWDVfU1RfU1pfRFcoZ2VuZXJhbF9vYmpfaW5fY21kX2hkcildID0ge307
DQorDQorCU1MWDVfU0VUKGdlbmVyYWxfb2JqX2luX2NtZF9oZHIsIGluLCBvcGNvZGUsIE1MWDVf
Q01EX09QX0RFU1RST1lfR0VORVJBTF9PQkpFQ1QpOw0KKwlNTFg1X1NFVChnZW5lcmFsX29ial9p
bl9jbWRfaGRyLCBpbiwgb2JqX3R5cGUsIE1MWDVfT0JKX1RZUEVfR0VORVZFX1RMVl9PUFQpOw0K
KwlNTFg1X1NFVChnZW5lcmFsX29ial9pbl9jbWRfaGRyLCBpbiwgb2JqX2lkLCBvYmpfaWQpOw0K
Kw0KKwltbHg1X2NtZF9leGVjKG1kZXYsIGluLCBzaXplb2YoaW4pLCBvdXQsIHNpemVvZihvdXQp
KTsNCit9DQorDQoraW50IG1seDVfZ2VuZXZlX3Rsdl9vcHRpb25fYWRkKHN0cnVjdCBtbHg1X2dl
bmV2ZSAqZ2VuZXZlLCBzdHJ1Y3QgZ2VuZXZlX29wdCAqb3B0KQ0KK3sNCisJaW50IHJlcyA9IDA7
DQorDQorCWlmIChJU19FUlJfT1JfTlVMTChnZW5ldmUpKQ0KKwkJcmV0dXJuIC1FT1BOT1RTVVBQ
Ow0KKw0KKwltdXRleF9sb2NrKCZnZW5ldmUtPnN5bmNfbG9jayk7DQorDQorCWlmIChnZW5ldmUt
PnJlZmNvdW50KSB7DQorCQlpZiAoZ2VuZXZlLT5vcHRfY2xhc3MgPT0gb3B0LT5vcHRfY2xhc3Mg
JiYNCisJCSAgICBnZW5ldmUtPm9wdF90eXBlID09IG9wdC0+dHlwZSkgew0KKwkJCS8qIFdlIGFs
cmVhZHkgaGF2ZSBUTFYgb3B0aW9ucyBvYmogYWxsb2NhdGVkICovDQorCQkJZ2VuZXZlLT5yZWZj
b3VudCsrOw0KKwkJfSBlbHNlIHsNCisJCQkvKiBUTFYgb3B0aW9ucyBvYmogYWxsb2NhdGVkLCBi
dXQgaXRzIHBhcmFtcw0KKwkJCSAqIGRvIG5vdCBtYXRjaCB0aGUgbmV3IHJlcXVlc3QuDQorCQkJ
ICogV2Ugc3VwcG9ydCBvbmx5IG9uZSBzdWNoIG9iamVjdC4NCisJCQkgKi8NCisJCQltbHg1X2Nv
cmVfd2FybihnZW5ldmUtPm1kZXYsDQorCQkJCSAgICAgICAiV29uJ3QgY3JlYXRlIEdlbmV2ZSBU
TFYgb3B0IG9iamVjdCB3aXRoIGNsYXNzOnR5cGU6bGVuID0gMHgleDoweCV4OiVkIChhbm90aGVy
IGNsYXNzOnR5cGUgYWxyZWFkeSBleGlzdHMpXG4iLA0KKwkJCQkgICAgICAgYmUxNl90b19jcHUo
b3B0LT5vcHRfY2xhc3MpLA0KKwkJCQkgICAgICAgb3B0LT50eXBlLA0KKwkJCQkgICAgICAgb3B0
LT5sZW5ndGgpOw0KKwkJCXJlcyA9IC1FT1BOT1RTVVBQOw0KKwkJCWdvdG8gdW5sb2NrOw0KKwkJ
fQ0KKwl9IGVsc2Ugew0KKwkJLyogV2UgZG9uJ3QgaGF2ZSBhbnkgVExWIG9wdGlvbnMgb2JqIGFs
bG9jYXRlZCAqLw0KKw0KKwkJcmVzID0gbWx4NV9nZW5ldmVfdGx2X29wdGlvbl9jcmVhdGUoZ2Vu
ZXZlLT5tZGV2LA0KKwkJCQkJCSAgICBvcHQtPm9wdF9jbGFzcywNCisJCQkJCQkgICAgb3B0LT50
eXBlLA0KKwkJCQkJCSAgICBvcHQtPmxlbmd0aCk7DQorCQlpZiAocmVzIDwgMCkgew0KKwkJCW1s
eDVfY29yZV93YXJuKGdlbmV2ZS0+bWRldiwNCisJCQkJICAgICAgICJGYWlsZWQgY3JlYXRpbmcg
R2VuZXZlIFRMViBvcHQgb2JqZWN0IGNsYXNzOnR5cGU6bGVuID0gMHgleDoweCV4OiVkIChlcnI9
JWQpXG4iLA0KKwkJCQkgICAgICAgYmUxNl90b19jcHUob3B0LT5vcHRfY2xhc3MpLA0KKwkJCQkg
ICAgICAgb3B0LT50eXBlLCBvcHQtPmxlbmd0aCwgcmVzKTsNCisJCQlnb3RvIHVubG9jazsNCisJ
CX0NCisJCWdlbmV2ZS0+b3B0X2NsYXNzID0gb3B0LT5vcHRfY2xhc3M7DQorCQlnZW5ldmUtPm9w
dF90eXBlID0gb3B0LT50eXBlOw0KKwkJZ2VuZXZlLT5vYmpfaWQgPSByZXM7DQorCQlnZW5ldmUt
PnJlZmNvdW50Kys7DQorCX0NCisNCit1bmxvY2s6DQorCW11dGV4X3VubG9jaygmZ2VuZXZlLT5z
eW5jX2xvY2spOw0KKwlyZXR1cm4gcmVzOw0KK30NCisNCit2b2lkIG1seDVfZ2VuZXZlX3Rsdl9v
cHRpb25fZGVsKHN0cnVjdCBtbHg1X2dlbmV2ZSAqZ2VuZXZlKQ0KK3sNCisJaWYgKElTX0VSUl9P
Ul9OVUxMKGdlbmV2ZSkpDQorCQlyZXR1cm47DQorDQorCW11dGV4X2xvY2soJmdlbmV2ZS0+c3lu
Y19sb2NrKTsNCisJaWYgKC0tZ2VuZXZlLT5yZWZjb3VudCA9PSAwKSB7DQorCQkvKiBXZSd2ZSBq
dXN0IHJlbW92ZWQgdGhlIGxhc3QgdXNlciBvZiBHZW5ldmUgb3B0aW9uLg0KKwkJICogTm93IGRl
bGV0ZSB0aGUgb2JqZWN0IGluIEZXLg0KKwkJICovDQorCQltbHg1X2dlbmV2ZV90bHZfb3B0aW9u
X2Rlc3Ryb3koZ2VuZXZlLT5tZGV2LCBnZW5ldmUtPm9ial9pZCk7DQorDQorCQlnZW5ldmUtPm9w
dF9jbGFzcyA9IDA7DQorCQlnZW5ldmUtPm9wdF90eXBlID0gMDsNCisJCWdlbmV2ZS0+b2JqX2lk
ID0gMDsNCisJfQ0KKwltdXRleF91bmxvY2soJmdlbmV2ZS0+c3luY19sb2NrKTsNCit9DQorDQor
c3RydWN0IG1seDVfZ2VuZXZlICptbHg1X2dlbmV2ZV9jcmVhdGUoc3RydWN0IG1seDVfY29yZV9k
ZXYgKm1kZXYpDQorew0KKwlzdHJ1Y3QgbWx4NV9nZW5ldmUgKmdlbmV2ZSA9DQorCQlremFsbG9j
KHNpemVvZigqZ2VuZXZlKSwgR0ZQX0tFUk5FTCk7DQorDQorCWlmICghZ2VuZXZlKQ0KKwkJcmV0
dXJuIEVSUl9QVFIoLUVOT01FTSk7DQorCWdlbmV2ZS0+bWRldiA9IG1kZXY7DQorCW11dGV4X2lu
aXQoJmdlbmV2ZS0+c3luY19sb2NrKTsNCisNCisJcmV0dXJuIGdlbmV2ZTsNCit9DQorDQordm9p
ZCBtbHg1X2dlbmV2ZV9kZXN0cm95KHN0cnVjdCBtbHg1X2dlbmV2ZSAqZ2VuZXZlKQ0KK3sNCisJ
aWYgKElTX0VSUl9PUl9OVUxMKGdlbmV2ZSkpDQorCQlyZXR1cm47DQorDQorCS8qIExvY2tsZXNz
IHNpbmNlIHdlIGFyZSB1bmxvYWRpbmcgKi8NCisJaWYgKGdlbmV2ZS0+cmVmY291bnQpDQorCQlt
bHg1X2dlbmV2ZV90bHZfb3B0aW9uX2Rlc3Ryb3koZ2VuZXZlLT5tZGV2LCBnZW5ldmUtPm9ial9p
ZCk7DQorDQorCWtmcmVlKGdlbmV2ZSk7DQorfQ0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvbmV0L2V0
aGVybmV0L21lbGxhbm94L21seDUvY29yZS9saWIvZ2VuZXZlLmggYi9kcml2ZXJzL25ldC9ldGhl
cm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvbGliL2dlbmV2ZS5oDQpuZXcgZmlsZSBtb2RlIDEwMDY0
NA0KaW5kZXggMDAwMDAwMDAwMDAwLi5hZGVlMGNiYmExOWMNCi0tLSAvZGV2L251bGwNCisrKyBi
L2RyaXZlcnMvbmV0L2V0aGVybmV0L21lbGxhbm94L21seDUvY29yZS9saWIvZ2VuZXZlLmgNCkBA
IC0wLDAgKzEsMzMgQEANCisvKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMCBPUiBM
aW51eC1PcGVuSUIgKi8NCisvKiBDb3B5cmlnaHQgKGMpIDIwMTkgTWVsbGFub3ggVGVjaG5vbG9n
aWVzLiAqLw0KKw0KKyNpZm5kZWYgX19NTFg1X0dFTkVWRV9IX18NCisjZGVmaW5lIF9fTUxYNV9H
RU5FVkVfSF9fDQorDQorI2luY2x1ZGUgPG5ldC9nZW5ldmUuaD4NCisjaW5jbHVkZSA8bGludXgv
bWx4NS9kcml2ZXIuaD4NCisNCitzdHJ1Y3QgbWx4NV9nZW5ldmU7DQorDQorI2lmZGVmIENPTkZJ
R19NTFg1X0VTV0lUQ0gNCisNCitzdHJ1Y3QgbWx4NV9nZW5ldmUgKm1seDVfZ2VuZXZlX2NyZWF0
ZShzdHJ1Y3QgbWx4NV9jb3JlX2RldiAqbWRldik7DQordm9pZCBtbHg1X2dlbmV2ZV9kZXN0cm95
KHN0cnVjdCBtbHg1X2dlbmV2ZSAqZ2VuZXZlKTsNCisNCitpbnQgbWx4NV9nZW5ldmVfdGx2X29w
dGlvbl9hZGQoc3RydWN0IG1seDVfZ2VuZXZlICpnZW5ldmUsIHN0cnVjdCBnZW5ldmVfb3B0ICpv
cHQpOw0KK3ZvaWQgbWx4NV9nZW5ldmVfdGx2X29wdGlvbl9kZWwoc3RydWN0IG1seDVfZ2VuZXZl
ICpnZW5ldmUpOw0KKw0KKyNlbHNlIC8qIENPTkZJR19NTFg1X0VTV0lUQ0ggKi8NCisNCitzdGF0
aWMgaW5saW5lIHN0cnVjdCBtbHg1X2dlbmV2ZQ0KKyptbHg1X2dlbmV2ZV9jcmVhdGUoc3RydWN0
IG1seDVfY29yZV9kZXYgKm1kZXYpIHsgcmV0dXJuIE5VTEw7IH0NCitzdGF0aWMgaW5saW5lIHZv
aWQNCittbHg1X2dlbmV2ZV9kZXN0cm95KHN0cnVjdCBtbHg1X2dlbmV2ZSAqZ2VuZXZlKSB7fQ0K
K3N0YXRpYyBpbmxpbmUgaW50DQorbWx4NV9nZW5ldmVfdGx2X29wdGlvbl9hZGQoc3RydWN0IG1s
eDVfZ2VuZXZlICpnZW5ldmUsIHN0cnVjdCBnZW5ldmVfb3B0ICpvcHQpIHsgcmV0dXJuIDA7IH0N
CitzdGF0aWMgaW5saW5lIHZvaWQNCittbHg1X2dlbmV2ZV90bHZfb3B0aW9uX2RlbChzdHJ1Y3Qg
bWx4NV9nZW5ldmUgKmdlbmV2ZSkge30NCisNCisjZW5kaWYgLyogQ09ORklHX01MWDVfRVNXSVRD
SCAqLw0KKw0KKyNlbmRpZiAvKiBfX01MWDVfR0VORVZFX0hfXyAqLw0KZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvbmV0L2V0aGVybmV0L21lbGxhbm94L21seDUvY29yZS9tYWluLmMgYi9kcml2ZXJzL25l
dC9ldGhlcm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvbWFpbi5jDQppbmRleCAyM2Q1MzE2M2NlMTUu
LmIyN2Y5NTM3MjU2YyAxMDA2NDQNCi0tLSBhL2RyaXZlcnMvbmV0L2V0aGVybmV0L21lbGxhbm94
L21seDUvY29yZS9tYWluLmMNCisrKyBiL2RyaXZlcnMvbmV0L2V0aGVybmV0L21lbGxhbm94L21s
eDUvY29yZS9tYWluLmMNCkBAIC02Myw2ICs2Myw3IEBADQogI2luY2x1ZGUgImFjY2VsL3Rscy5o
Ig0KICNpbmNsdWRlICJsaWIvY2xvY2suaCINCiAjaW5jbHVkZSAibGliL3Z4bGFuLmgiDQorI2lu
Y2x1ZGUgImxpYi9nZW5ldmUuaCINCiAjaW5jbHVkZSAibGliL2RldmNvbS5oIg0KICNpbmNsdWRl
ICJkaWFnL2Z3X3RyYWNlci5oIg0KICNpbmNsdWRlICJlY3BmLmgiDQpAQCAtODIxLDYgKzgyMiw3
IEBAIHN0YXRpYyBpbnQgbWx4NV9pbml0X29uY2Uoc3RydWN0IG1seDVfY29yZV9kZXYgKmRldikN
CiAJbWx4NV9pbml0X2Nsb2NrKGRldik7DQogDQogCWRldi0+dnhsYW4gPSBtbHg1X3Z4bGFuX2Ny
ZWF0ZShkZXYpOw0KKwlkZXYtPmdlbmV2ZSA9IG1seDVfZ2VuZXZlX2NyZWF0ZShkZXYpOw0KIA0K
IAllcnIgPSBtbHg1X2luaXRfcmxfdGFibGUoZGV2KTsNCiAJaWYgKGVycikgew0KQEAgLTg2NSw2
ICs4NjcsNyBAQCBzdGF0aWMgaW50IG1seDVfaW5pdF9vbmNlKHN0cnVjdCBtbHg1X2NvcmVfZGV2
ICpkZXYpDQogZXJyX3JsX2NsZWFudXA6DQogCW1seDVfY2xlYW51cF9ybF90YWJsZShkZXYpOw0K
IGVycl90YWJsZXNfY2xlYW51cDoNCisJbWx4NV9nZW5ldmVfZGVzdHJveShkZXYtPmdlbmV2ZSk7
DQogCW1seDVfdnhsYW5fZGVzdHJveShkZXYtPnZ4bGFuKTsNCiAJbWx4NV9jbGVhbnVwX21rZXlf
dGFibGUoZGV2KTsNCiAJbWx4NV9jbGVhbnVwX3FwX3RhYmxlKGRldik7DQpAQCAtODg3LDYgKzg5
MCw3IEBAIHN0YXRpYyB2b2lkIG1seDVfY2xlYW51cF9vbmNlKHN0cnVjdCBtbHg1X2NvcmVfZGV2
ICpkZXYpDQogCW1seDVfZXN3aXRjaF9jbGVhbnVwKGRldi0+cHJpdi5lc3dpdGNoKTsNCiAJbWx4
NV9tcGZzX2NsZWFudXAoZGV2KTsNCiAJbWx4NV9jbGVhbnVwX3JsX3RhYmxlKGRldik7DQorCW1s
eDVfZ2VuZXZlX2Rlc3Ryb3koZGV2LT5nZW5ldmUpOw0KIAltbHg1X3Z4bGFuX2Rlc3Ryb3koZGV2
LT52eGxhbik7DQogCW1seDVfY2xlYW51cF9jbG9jayhkZXYpOw0KIAltbHg1X2NsZWFudXBfcmVz
ZXJ2ZWRfZ2lkcyhkZXYpOw0KZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvbWx4NS9kcml2ZXIu
aCBiL2luY2x1ZGUvbGludXgvbWx4NS9kcml2ZXIuaA0KaW5kZXggYjU0MzFmN2Q5N2NiLi4zYTgx
MGJmMDQzZmUgMTAwNjQ0DQotLS0gYS9pbmNsdWRlL2xpbnV4L21seDUvZHJpdmVyLmgNCisrKyBi
L2luY2x1ZGUvbGludXgvbWx4NS9kcml2ZXIuaA0KQEAgLTY0Nyw2ICs2NDcsNyBAQCBzdHJ1Y3Qg
bWx4NV9jbG9jayB7DQogDQogc3RydWN0IG1seDVfZndfdHJhY2VyOw0KIHN0cnVjdCBtbHg1X3Z4
bGFuOw0KK3N0cnVjdCBtbHg1X2dlbmV2ZTsNCiANCiBzdHJ1Y3QgbWx4NV9jb3JlX2RldiB7DQog
CXN0cnVjdCBkZXZpY2UgKmRldmljZTsNCkBAIC02ODEsNiArNjgyLDcgQEAgc3RydWN0IG1seDVf
Y29yZV9kZXYgew0KIAl1MzIJCQlpc3NpOw0KIAlzdHJ1Y3QgbWx4NWVfcmVzb3VyY2VzICBtbHg1
ZV9yZXM7DQogCXN0cnVjdCBtbHg1X3Z4bGFuICAgICAgICp2eGxhbjsNCisJc3RydWN0IG1seDVf
Z2VuZXZlICAgICAgKmdlbmV2ZTsNCiAJc3RydWN0IHsNCiAJCXN0cnVjdCBtbHg1X3JzdmRfZ2lk
cwlyZXNlcnZlZF9naWRzOw0KIAkJdTMyCQkJcm9jZV9lbjsNCi0tIA0KMi4yMS4wDQoNCg==
