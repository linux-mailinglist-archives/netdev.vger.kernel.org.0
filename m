Return-Path: <netdev-owner@vger.kernel.org>
X-Original-To: lists+netdev@lfdr.de
Delivered-To: lists+netdev@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 4588615F8A8
	for <lists+netdev@lfdr.de>; Fri, 14 Feb 2020 22:22:16 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2389029AbgBNVWO (ORCPT <rfc822;lists+netdev@lfdr.de>);
        Fri, 14 Feb 2020 16:22:14 -0500
Received: from mail-eopbgr60067.outbound.protection.outlook.com ([40.107.6.67]:35550
        "EHLO EUR04-DB3-obe.outbound.protection.outlook.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S1728123AbgBNVWO (ORCPT <rfc822;netdev@vger.kernel.org>);
        Fri, 14 Feb 2020 16:22:14 -0500
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=JB/gsJvsDJYUZyamCi2PcQNydZqG1VZ4D+33IzBN6XbqpPRRI/HYCzv2duyXKzfjRkEItQP4uNQaj6a6p/jb8pYofwcMEXKmsvkIMftts9sEs6UDkNXQ4cTcLGZj8oFcbC0RC3+sFFOmbnaMJ5jbePADHfeUFtmvYd28fsYJLwuCD/OSRqwp1xPcNzioqd1pnx7lFRZRvRG/HjNTM9oYxxdgq9557VkwvFIiKxS/4ro8gziJE8I9vtrXjxjvB7qlFGK5iUQk4NLuyDJjVhxRXSZVidYQS76x2eGfdK8lfs3F2nLPthXsw0MP2eFITkdV5kkIZqT158XIVqzC+hDo9A==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=rbZlK0YAMHLqhobI7vAtuEnXC7WLC9WTvnhySOg55mI=;
 b=Tu+ixeyThN/Tzy+F7YBCUnJ9lttSys5xmayme9jjNX6W6jiVTiszDEMJNDYd0umDlbDycSNVnmHeE/Znq3Uq3juGrCFn48x7n76LK+F1S5I0z06lm2wGAFEoWrrmnt4ceNPtayNbUk46eCAmqoE5kHcrD8gc8Pr2UrxGJOW0n/Yal9Slp3i6aa92niotlAWNb6q9rtVGTljPpB8KJOUNLDxD0O0sc1zMXyyohjTWn5DMgwPYvJHPrk9xlj4pMwz3yhI1w2bDQX+xbeK+l1OaZDGphFKr8p4aWVPoIdc6xOG0NqZWICM9oXvMLQMhmSH52ka4ELmAohqoehVIvNBhsw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=mellanox.com; dmarc=pass action=none header.from=mellanox.com;
 dkim=pass header.d=mellanox.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=Mellanox.com;
 s=selector1;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=rbZlK0YAMHLqhobI7vAtuEnXC7WLC9WTvnhySOg55mI=;
 b=c3rF1Vj6G3myWUMraxWQjb3getAKVU3kvDWu8qUZonqxN3b+FQ9ZfhYptb8JwWYkGcluMI4akC1d+42p6iySx5vSGfc6Ii73FtvF40uQ2EygUoCqIWUMzwuIQCCEE3YMINkBAgiy+Y2KiYHYOYEhkyJv6OuONn1NS79g3gNEJbg=
Received: from AM0PR05MB4866.eurprd05.prod.outlook.com (20.176.214.160) by
 AM0PR05MB5218.eurprd05.prod.outlook.com (20.178.16.160) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2707.21; Fri, 14 Feb 2020 21:22:08 +0000
Received: from AM0PR05MB4866.eurprd05.prod.outlook.com
 ([fe80::8c4:e45b:ecdc:e02b]) by AM0PR05MB4866.eurprd05.prod.outlook.com
 ([fe80::8c4:e45b:ecdc:e02b%7]) with mapi id 15.20.2729.025; Fri, 14 Feb 2020
 21:22:08 +0000
From:   Parav Pandit <parav@mellanox.com>
To:     Jeff Kirsher <jeffrey.t.kirsher@intel.com>,
        "davem@davemloft.net" <davem@davemloft.net>,
        "gregkh@linuxfoundation.org" <gregkh@linuxfoundation.org>
CC:     Dave Ertman <david.m.ertman@intel.com>,
        "netdev@vger.kernel.org" <netdev@vger.kernel.org>,
        "linux-rdma@vger.kernel.org" <linux-rdma@vger.kernel.org>,
        "nhorman@redhat.com" <nhorman@redhat.com>,
        "sassmann@redhat.com" <sassmann@redhat.com>,
        "jgg@ziepe.ca" <jgg@ziepe.ca>,
        "galpress@amazon.com" <galpress@amazon.com>,
        "selvin.xavier@broadcom.com" <selvin.xavier@broadcom.com>,
        "sriharsha.basavapatna@broadcom.com" 
        <sriharsha.basavapatna@broadcom.com>,
        "benve@cisco.com" <benve@cisco.com>,
        "bharat@chelsio.com" <bharat@chelsio.com>,
        "xavier.huwei@huawei.com" <xavier.huwei@huawei.com>,
        Yishai Hadas <yishaih@mellanox.com>,
        Leon Romanovsky <leonro@mellanox.com>,
        "mkalderon@marvell.com" <mkalderon@marvell.com>,
        "aditr@vmware.com" <aditr@vmware.com>,
        Kiran Patil <kiran.patil@intel.com>,
        Andrew Bowers <andrewx.bowers@intel.com>
Subject: Re: [RFC PATCH v4 01/25] virtual-bus: Implementation of Virtual Bus
Thread-Topic: [RFC PATCH v4 01/25] virtual-bus: Implementation of Virtual Bus
Thread-Index: AQHV4din38eLq7oTD0KS9DysdFYHHagbNe2A
Date:   Fri, 14 Feb 2020 21:22:08 +0000
Message-ID: <a8d8bc52-f67f-6690-8f34-6f3b1ee8254c@mellanox.com>
References: <20200212191424.1715577-1-jeffrey.t.kirsher@intel.com>
 <20200212191424.1715577-2-jeffrey.t.kirsher@intel.com>
In-Reply-To: <20200212191424.1715577-2-jeffrey.t.kirsher@intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=parav@mellanox.com; 
x-originating-ip: [208.176.44.194]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: ffd1147a-d327-4b2d-bfca-08d7b193f285
x-ms-traffictypediagnostic: AM0PR05MB5218:|AM0PR05MB5218:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <AM0PR05MB5218939394BF32DAE99B882DD1150@AM0PR05MB5218.eurprd05.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:6108;
x-forefront-prvs: 03137AC81E
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(4636009)(396003)(366004)(346002)(136003)(376002)(39860400002)(189003)(199004)(81166006)(110136005)(81156014)(2906002)(8936002)(53546011)(6506007)(186003)(31696002)(5660300002)(71200400001)(8676002)(26005)(31686004)(86362001)(7416002)(66946007)(6486002)(2616005)(30864003)(316002)(6512007)(76116006)(64756008)(36756003)(91956017)(4326008)(478600001)(66556008)(66476007)(66446008)(54906003);DIR:OUT;SFP:1101;SCL:1;SRVR:AM0PR05MB5218;H:AM0PR05MB4866.eurprd05.prod.outlook.com;FPR:;SPF:None;LANG:en;PTR:InfoNoRecords;MX:1;A:1;
received-spf: None (protection.outlook.com: mellanox.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: QXFVmNzDMybnB0Hxh3bcc9nPfGYzryx1u2YTvSitgRyafd7oKMiR7WXwsy0lQHcEHuiQfcyS+3zHGKGii6jj4h8MVCig+YmSKr79/AJgPPaETw2vIWPZkIZ3tDFXSE5MOEvkAS/0xf6OSkO1qT1MOUOdqN284DMeYCfBEI5UNU9h9UYLBJiq8oMVrDtTQNNYt1BWqIzE/kCRvZMIn3k2owyt7eVJU5LgSrtpzlnGhv+vzgJZ/iW9nrctFY8Y3xjRYtGTw1C3q+qsQw+oCl4oOcGsX+GXIE+X/KGR0aaNHq4UrjIcx3/jQf75T9/DjhoxT116dakUTXtUiCeCh9DpFuv7ZdlUfK+7BzfDJfHc1zAyYfuFDcne3QNK2g5BetkrDaCHPiTHGhnlL+dBo+50G8hdvI9T85jEZFt8+IbCRVww1oYZQaHbZmKOWiGp3LxW
x-ms-exchange-antispam-messagedata: X5yoAwhAZl5/iPI8auC/uRJAArz0iWtPbJMlOZaECsLqo0K6Ito3E9h7CHPjlebIU3h2uDYSN0oIpTFA81LWdthY2hXzq6fIkY8FEQfy/KghpZ2raGBcWyXbGJyjWjI0vihXyur+vxDXIoZbI7re0g==
Content-Type: text/plain; charset="utf-8"
Content-ID: <5E85BF0200A8634F9FD7B8951A4B1910@eurprd05.prod.outlook.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: Mellanox.com
X-MS-Exchange-CrossTenant-Network-Message-Id: ffd1147a-d327-4b2d-bfca-08d7b193f285
X-MS-Exchange-CrossTenant-originalarrivaltime: 14 Feb 2020 21:22:08.1336
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: a652971c-7d2e-4d9b-a6a4-d149256f461b
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: NfVuRpj02WLCh/MdPnJIAo24wg6hyJyg725LSatUXLy/xBEC/lyn9tu23UFaDmIa5UOwZACvtxpCrUljVfWOsQ==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: AM0PR05MB5218
Sender: netdev-owner@vger.kernel.org
Precedence: bulk
List-ID: <netdev.vger.kernel.org>
X-Mailing-List: netdev@vger.kernel.org

T24gMi8xMi8yMDIwIDE6MTQgUE0sIEplZmYgS2lyc2hlciB3cm90ZToNCj4gRnJvbTogRGF2ZSBF
cnRtYW4gPGRhdmlkLm0uZXJ0bWFuQGludGVsLmNvbT4NCj4gDQo+IFRoaXMgaXMgdGhlIGluaXRp
YWwgaW1wbGVtZW50YXRpb24gb2YgdGhlIFZpcnR1YWwgQnVzLA0KPiB2aXJ0YnVzX2RldmljZSBh
bmQgdmlydGJ1c19kcml2ZXIuICBUaGUgdmlydHVhbCBidXMgaXMNCj4gYSBzb2Z0d2FyZSBiYXNl
ZCBidXMgaW50ZW5kZWQgdG8gc3VwcG9ydCByZWdpc3RlcmluZw0KPiB2aXJ0YnVzX2RldmljZXMg
YW5kIHZpcnRidXNfZHJpdmVycyBhbmQgcHJvdmlkZSBtYXRjaGluZw0KPiBiZXR3ZWVuIHRoZW0g
YW5kIHByb2Jpbmcgb2YgdGhlIHJlZ2lzdGVyZWQgZHJpdmVycy4NCj4gDQo+IFRoZSBidXMgd2ls
bCBzdXBwb3J0IHByb2JlL3JlbW92ZSBzaHV0ZG93biBhbmQNCj4gc3VzcGVuZC9yZXN1bWUgY2Fs
bGJhY2tzLg0KPiANCj4gS2NvbmZpZyBhbmQgTWFrZWZpbGUgYWx0ZXJhdGlvbnMgYXJlIGluY2x1
ZGVkDQo+IA0KPiBTaWduZWQtb2ZmLWJ5OiBEYXZlIEVydG1hbiA8ZGF2aWQubS5lcnRtYW5AaW50
ZWwuY29tPg0KPiBTaWduZWQtb2ZmLWJ5OiBLaXJhbiBQYXRpbCA8a2lyYW4ucGF0aWxAaW50ZWwu
Y29tPg0KPiBUZXN0ZWQtYnk6IEFuZHJldyBCb3dlcnMgPGFuZHJld3guYm93ZXJzQGludGVsLmNv
bT4NCj4gU2lnbmVkLW9mZi1ieTogSmVmZiBLaXJzaGVyIDxqZWZmcmV5LnQua2lyc2hlckBpbnRl
bC5jb20+DQo+IC0tLQ0KPiAgRG9jdW1lbnRhdGlvbi9kcml2ZXItYXBpL3ZpcnR1YWxfYnVzLnJz
dCB8ICA1OSArKysrKw0KPiAgZHJpdmVycy9idXMvS2NvbmZpZyAgICAgICAgICAgICAgICAgICAg
ICB8ICAxMSArDQo+ICBkcml2ZXJzL2J1cy9NYWtlZmlsZSAgICAgICAgICAgICAgICAgICAgIHwg
ICAxICsNCj4gIGRyaXZlcnMvYnVzL3ZpcnR1YWxfYnVzLmMgICAgICAgICAgICAgICAgfCAyNjcg
KysrKysrKysrKysrKysrKysrKysrKysNCj4gIGluY2x1ZGUvbGludXgvbW9kX2RldmljZXRhYmxl
LmggICAgICAgICAgfCAgIDggKw0KPiAgaW5jbHVkZS9saW51eC92aXJ0dWFsX2J1cy5oICAgICAg
ICAgICAgICB8ICA1NyArKysrKw0KPiAgc2NyaXB0cy9tb2QvZGV2aWNldGFibGUtb2Zmc2V0cy5j
ICAgICAgICB8ICAgMyArDQo+ICBzY3JpcHRzL21vZC9maWxlMmFsaWFzLmMgICAgICAgICAgICAg
ICAgIHwgICA4ICsNCj4gIDggZmlsZXMgY2hhbmdlZCwgNDE0IGluc2VydGlvbnMoKykNCj4gIGNy
ZWF0ZSBtb2RlIDEwMDY0NCBEb2N1bWVudGF0aW9uL2RyaXZlci1hcGkvdmlydHVhbF9idXMucnN0
DQo+ICBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9idXMvdmlydHVhbF9idXMuYw0KPiAgY3Jl
YXRlIG1vZGUgMTAwNjQ0IGluY2x1ZGUvbGludXgvdmlydHVhbF9idXMuaA0KPiANCj4gZGlmZiAt
LWdpdCBhL0RvY3VtZW50YXRpb24vZHJpdmVyLWFwaS92aXJ0dWFsX2J1cy5yc3QgYi9Eb2N1bWVu
dGF0aW9uL2RyaXZlci1hcGkvdmlydHVhbF9idXMucnN0DQo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0
DQo+IGluZGV4IDAwMDAwMDAwMDAwMC4uNWYzNWMxOTE3MWQ3DQo+IC0tLSAvZGV2L251bGwNCj4g
KysrIGIvRG9jdW1lbnRhdGlvbi9kcml2ZXItYXBpL3ZpcnR1YWxfYnVzLnJzdA0KPiBAQCAtMCww
ICsxLDU5IEBADQo+ICs9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQo+ICtWaXJ0dWFs
IEJ1cyBEZXZpY2VzIGFuZCBEcml2ZXJzDQo+ICs9PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09DQo+ICsNCj4gK1NlZSA8bGludXgvdmlydHVhbF9idXMuaD4gZm9yIHRoZSBtb2RlbHMgZm9y
IHZpcnRidXNfZGV2aWNlIGFuZCB2aXJ0YnVzX2RyaXZlci4NCj4gK1RoaXMgYnVzIGlzIG1lYW50
IHRvIGJlIGEgbGlnaHR3ZWlnaHQgc29mdHdhcmUgYmFzZWQgYnVzIHRvIGF0dGFjaCBnZW5lcmlj
DQo+ICtkZXZpY2VzIGFuZCBkcml2ZXJzIHRvIHNvIHRoYXQgYSBjaHVuayBvZiBkYXRhIGNhbiBi
ZSBwYXNzZWQgYmV0d2VlbiB0aGVtLg0KPiArDQo+ICtPbmUgdXNlIGNhc2UgZXhhbXBsZSBpcyBh
biByZG1hIGRyaXZlciBuZWVkaW5nIHRvIGNvbm5lY3Qgd2l0aCBzZXZlcmFsDQo+ICtkaWZmZXJl
bnQgdHlwZXMgb2YgUENJIExBTiBkZXZpY2VzIHRvIGJlIGFibGUgdG8gcmVxdWVzdCByZXNvdXJj
ZXMgZnJvbQ0KPiArdGhlbSAocXVldWUgc2V0cykuICBFYWNoIExBTiBkcml2ZXIgdGhhdCBzdXBw
b3J0cyByZG1hIHdpbGwgcmVnaXN0ZXIgYQ0KPiArdmlydGJ1c19kZXZpY2Ugb24gdGhlIHZpcnR1
YWwgYnVzIGZvciBlYWNoIHBoeXNpY2FsIGZ1bmN0aW9uLiAgVGhlIHJkbWENCj4gK2RyaXZlciB3
aWxsIHJlZ2lzdGVyIGFzIGEgdmlydGJ1c19kcml2ZXIgb24gdGhlIHZpcnR1YWwgYnVzIHRvIGJl
DQo+ICttYXRjaGVkIHVwIHdpdGggbXVsdGlwbGUgdmlydGJ1c19kZXZpY2VzIGFuZCByZWNlaXZl
IGEgcG9pbnRlciB0byBhDQo+ICtzdHJ1Y3QgY29udGFpbmluZyB0aGUgY2FsbGJhY2tzIHRoYXQg
dGhlIFBDSSBMQU4gZHJpdmVycyBzdXBwb3J0IGZvcg0KPiArcmVnaXN0ZXJpbmcgd2l0aCB0aGVt
Lg0KPiArDQo+ICtTZWN0aW9ucyBpbiB0aGlzIGRvY3VtZW50Og0KPiArICAgICAgICBWaXJ0YnVz
IGRldmljZXMNCj4gKyAgICAgICAgVmlydGJ1cyBkcml2ZXJzDQo+ICsgICAgICAgIERldmljZSBF
bnVtZXJhdGlvbg0KPiArICAgICAgICBEZXZpY2UgbmFtaW5nIGFuZCBkcml2ZXIgYmluZGluZw0K
PiArICAgICAgICBWaXJ0dWFsIEJ1cyBBUEkgZW50cnkgcG9pbnRzDQo+ICsNCj4gK1ZpcnRidXMg
ZGV2aWNlcw0KPiArfn5+fn5+fn5+fn5+fn5+DQo+ICtWaXJ0YnVzX2RldmljZXMgc3VwcG9ydCB0
aGUgbWluaW1hbCBkZXZpY2UgZnVuY3Rpb25hbGl0eS4gIERldmljZXMgd2lsbA0KPiArYWNjZXB0
IGEgbmFtZSwgYW5kIHRoZW4sIHdoZW4gYWRkZWQgdG8gdGhlIHZpcnR1YWwgYnVzLCBhbiBhdXRv
bWF0aWNhbGx5DQo+ICtnZW5lcmF0ZWQgaW5kZXggaXMgY29uY2F0ZW5hdGVkIG9udG8gaXQgZm9y
IHRoZSB2aXJ0YnVzX2RldmljZS0+bmFtZS4NCj4gKw0KPiArVmlydGJ1cyBkcml2ZXJzDQo+ICt+
fn5+fn5+fn5+fn5+fn4NCj4gK1ZpcnRidXMgZHJpdmVycyByZWdpc3RlciB3aXRoIHRoZSB2aXJ0
dWFsIGJ1cyB0byBiZSBtYXRjaGVkIHdpdGggdmlydGJ1cw0KPiArZGV2aWNlcy4gIFRoZXkgZXhw
ZWN0IHRvIGJlIHJlZ2lzdGVyZWQgd2l0aCBhIHByb2JlIGFuZCByZW1vdmUgY2FsbGJhY2ssDQo+
ICthbmQgYWxzbyBzdXBwb3J0IHNodXRkb3duLCBzdXNwZW5kLCBhbmQgcmVzdW1lIGNhbGxiYWNr
cy4gIFRoZXkgb3RoZXJ3aXNlDQo+ICtmb2xsb3cgdGhlIHN0YW5kYXJkIGRyaXZlciBiZWhhdmlv
ciBvZiBoYXZpbmcgZGlzY292ZXJ5IGFuZCBlbnVtZXJhdGlvbg0KPiAraGFuZGxlZCBpbiB0aGUg
YnVzIGluZnJhc3RydWN0dXJlLg0KPiArDQo+ICtWaXJ0YnVzIGRyaXZlcnMgcmVnaXN0ZXIgdGhl
bXNlbHZlcyB3aXRoIHRoZSBBUEkgZW50cnkgcG9pbnQgdmlydGJ1c19kcnZfcmVnDQo+ICthbmQg
dW5yZWdpc3RlciB3aXRoIHZpcnRidXNfZHJ2X3VucmVnLg0KPiArDQpJZiB5b3UgYXJlIG1lbnRp
b25pbmcgQVBJIG5hbWVzLCBwbGVhc2Uga2VlcCB0aGUgQVBJIGRvY3VtZW50YXRpb24gbWF0Y2gN
CndpdGggQVBJIG5hbWUgaW4gaGVhZGVyIGZpbGUuDQoNCj4gK0RldmljZSBFbnVtZXJhdGlvbg0K
PiArfn5+fn5+fn5+fn5+fn5+fn5+DQo+ICtFbnVtZXJhdGlvbiBpcyBoYW5kbGVkIGF1dG9tYXRp
Y2FsbHkgYnkgdGhlIGJ1cyBpbmZyYXN0cnVjdHVyZSB2aWEgdGhlDQo+ICtpZGFfc2ltcGxlIG1l
dGhvZHMuDQo+ICsNCj4gK0RldmljZSBuYW1pbmcgYW5kIGRyaXZlciBiaW5kaW5nDQo+ICt+fn5+
fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fg0KPiArVGhlIHZpcnRidXNfZGV2aWNlLmRldi5u
YW1lIGlzIHRoZSBjYW5vbmljYWwgbmFtZSBmb3IgdGhlIGRldmljZS4gSXQgaXMNCj4gK2J1aWx0
IGZyb20gdHdvIG90aGVyIHBhcnRzOg0KPiArDQo+ICsgICAgICAgIC0gdmlydGJ1c19kZXZpY2Uu
bmFtZSAoYWxzbyB1c2VkIGZvciBtYXRjaGluZykuDQo+ICsgICAgICAgIC0gdmlydGJ1c19kZXZp
Y2UuaWQgKGdlbmVyYXRlZCBhdXRvbWF0aWNhbGx5IGZyb20gaWRhX3NpbXBsZSBjYWxscykNCj4g
Kw0KPiArVmlydGJ1cyBkZXZpY2UgSURzIGFyZSBhbHdheXMgaW4gIjxuYW1lPi48aW5zdGFuY2U+
IiBmb3JtYXQuICBJbnN0YW5jZXMgYXJlDQo+ICthdXRvbWF0aWNhbGx5IHNlbGVjdGVkIHRocm91
Z2ggYW4gaWRhX3NpbXBsZV9nZXQgc28gYXJlIHBvc2l0aXZlIGludGVnZXJzLg0KPiArTmFtZXMg
YXJlIHRha2VuIGZyb20gdGhlIGRldmljZSBuYW1lIGZpZWxkLiAgDQpOYW1lIGlzIHRha2VuIGZy
b20gdGhlIGRldmljZSBuYW1lIGZpZWxkLg0KDQpEcml2ZXIgSURzIGFyZSBzaW1wbGUgPG5hbWU+
Lg0KPiArTmVlZCB0byBleHRyYWN0IHRoZSBuYW1lIGZyb20gdGhlIFZpcnR1YWwgRGV2aWNlIGNv
bXBhcmUgdG8gbmFtZSBvZiB0aGUNCj4gK2RyaXZlci4NCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
YnVzL0tjb25maWcgYi9kcml2ZXJzL2J1cy9LY29uZmlnDQo+IGluZGV4IDYwOTViNmRmOGE4MS4u
MmU4Yjg5YzE3NjFhIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2J1cy9LY29uZmlnDQo+ICsrKyBi
L2RyaXZlcnMvYnVzL0tjb25maWcNCj4gQEAgLTIwMiw0ICsyMDIsMTUgQEAgY29uZmlnIERBOFhY
X01TVFBSSQ0KPiAgDQo+ICBzb3VyY2UgImRyaXZlcnMvYnVzL2ZzbC1tYy9LY29uZmlnIg0KPiAg
DQo+ICtjb25maWcgVklSVFVBTF9CVVMNCj4gKyAgICAgICB0cmlzdGF0ZSAiU29mdHdhcmUgYmFz
ZWQgVmlydHVhbCBCdXMiDQo+ICsgICAgICAgaGVscA0KPiArICAgICAgICAgUHJvdmlkZXMgYSBz
b2Z0d2FyZSBidXMgZm9yIHZpcnRidXNfZGV2aWNlcyB0byBiZSBhZGRlZCB0byBpdA0KPiArICAg
ICAgICAgYW5kIHZpcnRidXNfZHJpdmVycyB0byBiZSByZWdpc3RlcmVkIG9uIGl0LiAgV2lsbCBj
cmVhdGUgYSBtYXRjaD4gKyAgICAgICAgIGJldHdlZW4gdGhlIGRyaXZlciBhbmQgZGV2aWNlLCB0
aGVuIGNhbGwgdGhlIGRyaXZlcidzIHByb2JlIHdpdGgNCj4gKyAgICAgICAgIHRoZSB2aXJ0YnVz
X2RldmljZSdzIHN0cnVjdC4NCmJlbG93IHRleHQgcmVhZHMgYmV0dGVyIGZvciAiV2lsbCBjcmVh
dGUgYSBtYXRjaC4uIg0KSXQgbWF0Y2hlcyBkcml2ZXIgYW5kIGRldmljZSBiYXNlZCBvbiBpZCBh
bmQgY2FsbHMgZHJpdmVyJ3MgcHJvYmUgcm91dGluZS4NCg0KPiArICAgICAgICAgT25lIGV4YW1w
bGUgaXMgdGhlIGlyZG1hIGRyaXZlciBuZWVkaW5nIHRvIGNvbm5lY3Qgd2l0aCB2YXJpb3VzDQo+
ICsgICAgICAgICBQQ0kgTEFOIGRyaXZlcnMgdG8gcmVxdWVzdCByZXNvdXJjZXMgKHF1ZXVlcykg
dG8gYmUgYWJsZSB0byBwZXJmb3JtDQo+ICsgICAgICAgICBpdHMgZnVuY3Rpb24uDQo+ICsNCj4g
IGVuZG1lbnUNCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvYnVzL01ha2VmaWxlIGIvZHJpdmVycy9i
dXMvTWFrZWZpbGUNCj4gaW5kZXggMTMyMGJjZjlmYTlkLi42NzIxYzc3ZGM3MWIgMTAwNjQ0DQo+
IC0tLSBhL2RyaXZlcnMvYnVzL01ha2VmaWxlDQo+ICsrKyBiL2RyaXZlcnMvYnVzL01ha2VmaWxl
DQo+IEBAIC0zNCwzICszNCw0IEBAIG9iai0kKENPTkZJR19VTklQSElFUl9TWVNURU1fQlVTKQkr
PSB1bmlwaGllci1zeXN0ZW0tYnVzLm8NCj4gIG9iai0kKENPTkZJR19WRVhQUkVTU19DT05GSUcp
CSs9IHZleHByZXNzLWNvbmZpZy5vDQo+ICANCj4gIG9iai0kKENPTkZJR19EQThYWF9NU1RQUkkp
CSs9IGRhOHh4LW1zdHByaS5vDQo+ICtvYmotJChDT05GSUdfVklSVFVBTF9CVVMpCSs9IHZpcnR1
YWxfYnVzLm8NCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvYnVzL3ZpcnR1YWxfYnVzLmMgYi9kcml2
ZXJzL2J1cy92aXJ0dWFsX2J1cy5jDQo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0DQo+IGluZGV4IDAw
MDAwMDAwMDAwMC4uODVkMmRiZmEzMzc2DQo+IC0tLSAvZGV2L251bGwNCj4gKysrIGIvZHJpdmVy
cy9idXMvdmlydHVhbF9idXMuYw0KPiBAQCAtMCwwICsxLDI2NyBAQA0KPiArLy8gU1BEWC1MaWNl
bnNlLUlkZW50aWZpZXI6IEdQTC0yLjANCj4gKy8qDQo+ICsgKiB2aXJ0dWFsX2J1cy5jIC0gbGln
aHR3ZWlnaHQgc29mdHdhcmUgYmFzZWQgYnVzIGZvciB2aXJ0dWFsIGRldmljZXMNCj4gKyAqDQo+
ICsgKiBDb3B5cmlnaHQgKGMpIDIwMTktMjAgSW50ZWwgQ29ycG9yYXRpb24NCj4gKyAqDQo+ICsg
KiBQbGVhc2Ugc2VlIERvY3VtZW50YXRpb24vZHJpdmVyLWFwaS92aXJ0dWFsX2J1cy5yc3QgZm9y
DQo+ICsgKiBtb3JlIGluZm9ybWF0aW9uDQo+ICsgKi8NCj4gKw0KPiArI2luY2x1ZGUgPGxpbnV4
L3N0cmluZy5oPg0KPiArI2luY2x1ZGUgPGxpbnV4L3ZpcnR1YWxfYnVzLmg+DQo+ICsjaW5jbHVk
ZSA8bGludXgvb2ZfaXJxLmg+DQo+ICsjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+DQo+ICsjaW5j
bHVkZSA8bGludXgvaW5pdC5oPg0KPiArI2luY2x1ZGUgPGxpbnV4L3BtX3J1bnRpbWUuaD4NCj4g
KyNpbmNsdWRlIDxsaW51eC9wbV9kb21haW4uaD4NCj4gKyNpbmNsdWRlIDxsaW51eC9hY3BpLmg+
DQo+ICsjaW5jbHVkZSA8bGludXgvZGV2aWNlLmg+DQo+ICsNCj4gK01PRFVMRV9MSUNFTlNFKCJH
UEwgdjIiKTsNCj4gK01PRFVMRV9ERVNDUklQVElPTigiTGlnaHR3ZWlnaHQgVmlydHVhbCBCdXMi
KTsNCkxhc3QgdGltZSBHcmVnIGhhZCBjb21tZW50IGFib3V0ICJMaWdodHdlaWdodCIuDQpJbiB0
aGUgYnVzL0tjb25maWcsIGl0IGlzIG5hbWVkIGFzICJzb2Z0d2FyZSBiYXNlZCB2aXJ0dWFsIGJ1
cyIuDQpKdXN0IHNheSAiVmlydHVhbCBidXMiLg0KDQoNCj4gK01PRFVMRV9BVVRIT1IoIkRhdmlk
IEVydG1hbiA8ZGF2aWQubS5lcnRtYW5AaW50ZWwuY29tPiIpOw0KPiArTU9EVUxFX0FVVEhPUigi
S2lyYW4gUGF0aWwgPGtpcmFuLnBhdGlsQGludGVsLmNvbT4iKTsNCj4gKw0KPiArc3RhdGljIERF
RklORV9JREEodmlydGJ1c19kZXZfaWRhKTsNCj4gKw0KPiArc3RhdGljIGNvbnN0DQo+ICtzdHJ1
Y3QgdmlydGJ1c19kZXZfaWQgKnZpcnRidXNfbWF0Y2hfaWQoY29uc3Qgc3RydWN0IHZpcnRidXNf
ZGV2X2lkICppZCwNCj4gKwkJCQkJc3RydWN0IHZpcnRidXNfZGV2aWNlICp2ZGV2KQ0KPiArew0K
PiArCXdoaWxlIChpZC0+bmFtZVswXSkgew0KPiArCQlpZiAoIXN0cmNtcCh2ZGV2LT5uYW1lLCBp
ZC0+bmFtZSkpIHsNCj4gKwkJCXZkZXYtPm1hdGNoZWRfZWxlbWVudCA9IGlkOw0KDQpJIGFtIHll
dCB0byByZXZpZXcgdGhlIGFjdHVhbCB1c2FnZSBvZiBtYXRjaGVkX2VsZW1lbnQgZmllbGQgaW4N
CnN1YnNlcXVlbnQgcGF0Y2hlcywgYnV0IGFzc2lnbmluZyB0aGlzIGluc2lkZSB0aGUgbWF0Y2gg
cm91dGluZSBkb2Vzbid0DQpsb29rIGNvcnJlY3QuDQoNCj4gKwkJCXJldHVybiBpZDsNCj4gKwkJ
fQ0KPiArCQlpZCsrOw0KPiArCX0NCj4gKwlyZXR1cm4gTlVMTDsNCj4gK30NCj4gKw0KPiArc3Rh
dGljIGludCB2aXJ0YnVzX21hdGNoKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGRldmljZV9k
cml2ZXIgKmRydikNCj4gK3sNCj4gKwlzdHJ1Y3QgdmlydGJ1c19kcml2ZXIgKnZkcnYgPSB0b192
aXJ0YnVzX2RydihkcnYpOw0KPiArCXN0cnVjdCB2aXJ0YnVzX2RldmljZSAqdmRldiA9IHRvX3Zp
cnRidXNfZGV2KGRldik7DQo+ICsNCj4gKwlyZXR1cm4gdmlydGJ1c19tYXRjaF9pZCh2ZHJ2LT5p
ZF90YWJsZSwgdmRldikgIT0gTlVMTDsNCj4gK30NCj4gKw0KPiArc3RhdGljIGludCB2aXJ0YnVz
X3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikNCj4gK3sNCj4gKwlyZXR1cm4gZGV2LT5kcml2ZXIt
PnByb2JlKGRldik7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyBpbnQgdmlydGJ1c19yZW1vdmUoc3Ry
dWN0IGRldmljZSAqZGV2KQ0KPiArew0KPiArCXJldHVybiBkZXYtPmRyaXZlci0+cmVtb3ZlKGRl
dik7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyB2b2lkIHZpcnRidXNfc2h1dGRvd24oc3RydWN0IGRl
dmljZSAqZGV2KQ0KPiArew0KPiArCWRldi0+ZHJpdmVyLT5zaHV0ZG93bihkZXYpOw0KPiArfQ0K
PiArDQo+ICtzdGF0aWMgaW50IHZpcnRidXNfc3VzcGVuZChzdHJ1Y3QgZGV2aWNlICpkZXYsIHBt
X21lc3NhZ2VfdCBzdGF0ZSkNCj4gK3sNCj4gKwlpZiAoZGV2LT5kcml2ZXItPnN1c3BlbmQpDQo+
ICsJCXJldHVybiBkZXYtPmRyaXZlci0+c3VzcGVuZChkZXYsIHN0YXRlKTsNCj4gKw0KPiArCXJl
dHVybiAwOw0KPiArfQ0KPiArDQo+ICtzdGF0aWMgaW50IHZpcnRidXNfcmVzdW1lKHN0cnVjdCBk
ZXZpY2UgKmRldikNCj4gK3sNCj4gKwlpZiAoZGV2LT5kcml2ZXItPnJlc3VtZSkNCj4gKwkJcmV0
dXJuIGRldi0+ZHJpdmVyLT5yZXN1bWUoZGV2KTsNCj4gKw0KPiArCXJldHVybiAwOw0KPiArfQ0K
PiArDQo+ICtzdHJ1Y3QgYnVzX3R5cGUgdmlydHVhbF9idXNfdHlwZSA9IHsNCnN0YXRpYyBzdHJ1
Y3QgYnVzX3R5cGUuDQoNCj4gKwkubmFtZSA9ICJ2aXJ0YnVzIiwNCj4gKwkubWF0Y2ggPSB2aXJ0
YnVzX21hdGNoLA0KPiArCS5wcm9iZSA9IHZpcnRidXNfcHJvYmUsDQo+ICsJLnJlbW92ZSA9IHZp
cnRidXNfcmVtb3ZlLA0KPiArCS5zaHV0ZG93biA9IHZpcnRidXNfc2h1dGRvd24sDQo+ICsJLnN1
c3BlbmQgPSB2aXJ0YnVzX3N1c3BlbmQsDQo+ICsJLnJlc3VtZSA9IHZpcnRidXNfcmVzdW1lLA0K
PiArfTsNCj4gKw0KPiArLyoqDQo+ICsgKiB2aXJ0YnVzX2Rldl9yZWxlYXNlIC0gRGVzdHJveSBh
IHZpcnRidXMgZGV2aWNlDQo+ICsgKiBAdmRldjogdmlydHVhbCBkZXZpY2UgdG8gcmVsZWFzZQ0K
PiArICovDQo+ICtzdGF0aWMgdm9pZCB2aXJ0YnVzX2Rldl9yZWxlYXNlKHN0cnVjdCBkZXZpY2Ug
Kl9kZXYpDQo+ICt7DQo+ICsJc3RydWN0IHZpcnRidXNfZGV2aWNlICp2ZGV2ID0gdG9fdmlydGJ1
c19kZXYoX2Rldik7DQo+ICsNCj4gKwlpZGFfc2ltcGxlX3JlbW92ZSgmdmlydGJ1c19kZXZfaWRh
LCB2ZGV2LT5pZCk7DQoNCkRldmljZSBpcyBub3QgeWV0IHJlbGVhc2VkLiBJdCBpcyBnZXR0aW5n
IHJlbGVhc2VkIGJlbG93LiBQbGVhc2UgbW92ZQ0KaWRhX3NpbXBsZV9yZW1vdmUoKSBhZnRlciBj
b21wbGV0aW5nIHRoZSByZWxlYXNlIGNhbGwuIFNhdmUgdmRldi0+aWQgZmlyc3QuDQpUaGlzIG1h
a2VzIG1pcnJvciBzZXF1ZW5jZSBvZiBkZXZfcmVnaXN0ZXIoKSBvbmNlIHlvdSBtb3ZlIGlkYV9n
ZXQNCmJlZm9yZSBkZXZpY2VfaW5pdGlhbGl6ZSgpIGFzIEdyZWcgc3VnZ2VzdGVkLg0KDQo+ICsJ
dmRldi0+cmVsZWFzZSh2ZGV2KTsNCj4gK30NCj4gKw0KPiArLyoqDQo+ICsgKiB2aXJ0YnVzX2Rl
dl9yZWdpc3RlciAtIGFkZCBhIHZpcnR1YWwgYnVzIGRldmljZQ0KPiArICogQHZkZXY6IHZpcnR1
YWwgYnVzIGRldmljZSB0byBhZGQNCj4gKyAqLw0KPiAraW50IHZpcnRidXNfZGV2X3JlZ2lzdGVy
KHN0cnVjdCB2aXJ0YnVzX2RldmljZSAqdmRldikNCj4gK3sNCg0KPiArCWludCByZXQ7DQo+ICsN
Cj4gKwlpZiAoIXZkZXYtPnJlbGVhc2UpIHsNCj4gKwkJZGV2X2VycigmdmRldi0+ZGV2LCAidmly
dGJ1c19kZXZpY2UgLnJlbGVhc2UgY2FsbGJhY2sgTlVMTFxuIik7DQo+ICsJCXJldHVybiAtRUlO
VkFMOw0KPiArCX0NCj4gKw0KPiArCWRldmljZV9pbml0aWFsaXplKCZ2ZGV2LT5kZXYpOw0KPiAr
DQo+ICsJdmRldi0+ZGV2LmJ1cyA9ICZ2aXJ0dWFsX2J1c190eXBlOw0KPiArCXZkZXYtPmRldi5y
ZWxlYXNlID0gdmlydGJ1c19kZXZfcmVsZWFzZTsNCj4gKwkvKiBBbGwgZGV2aWNlIElEcyBhcmUg
YXV0b21hdGljYWxseSBhbGxvY2F0ZWQgKi8NCj4gKwlyZXQgPSBpZGFfc2ltcGxlX2dldCgmdmly
dGJ1c19kZXZfaWRhLCAwLCAwLCBHRlBfS0VSTkVMKTsNCj4gKwlpZiAocmV0IDwgMCkgew0KPiAr
CQlkZXZfZXJyKCZ2ZGV2LT5kZXYsICJnZXQgSURBIGlkeCBmb3IgdmlydGJ1cyBkZXZpY2UgZmFp
bGVkIVxuIik7DQo+ICsJCXB1dF9kZXZpY2UoJnZkZXYtPmRldik7DQo+ICsJCXJldHVybiByZXQ7
DQo+ICsJfQ0KPiArDQo+ICsJdmRldi0+aWQgPSByZXQ7DQo+ICsJZGV2X3NldF9uYW1lKCZ2ZGV2
LT5kZXYsICIlcy4lZCIsIHZkZXYtPm5hbWUsIHZkZXYtPmlkKTsNCj4gKw0KPiArCWRldl9kYmco
JnZkZXYtPmRldiwgIlJlZ2lzdGVyaW5nIHZpcnRidXMgZGV2aWNlICclcydcbiIsDQo+ICsJCWRl
dl9uYW1lKCZ2ZGV2LT5kZXYpKTsNCj4gKw0KPiArCXJldCA9IGRldmljZV9hZGQoJnZkZXYtPmRl
dik7DQo+ICsJaWYgKHJldCkNCj4gKwkJZ290byBkZXZpY2VfYWRkX2VycjsNCj4gKw0KPiArCXJl
dHVybiAwOw0KPiArDQo+ICtkZXZpY2VfYWRkX2VycjoNCj4gKwlkZXZfZXJyKCZ2ZGV2LT5kZXYs
ICJBZGQgZGV2aWNlIHRvIHZpcnRidXMgZmFpbGVkIVxuIik7DQpQcmludCBlcnJvciBjb2RlIGFs
b25nIHdpdGggdGhlIGVycm9yIGxpbmUgaXMgbW9yZSB1c2VmdWwuDQoNCj4gKwlwdXRfZGV2aWNl
KCZ2ZGV2LT5kZXYpOw0KPiArCWlkYV9zaW1wbGVfcmVtb3ZlKCZ2aXJ0YnVzX2Rldl9pZGEsIHZk
ZXYtPmlkKTsNCj4gKw0KPiArCXJldHVybiByZXQ7DQo+ICt9DQo+ICtFWFBPUlRfU1lNQk9MX0dQ
TCh2aXJ0YnVzX2Rldl9yZWdpc3Rlcik7DQo+ICsNCj4gKy8qKg0KPiArICogdmlydGJ1c19kZXZf
dW5yZWdpc3RlciAtIHJlbW92ZSBhIHZpcnR1YWwgYnVzIGRldmljZQ0KPiArICogdmRldjogdmly
dHVhbCBidXMgZGV2aWNlIHdlIGFyZSByZW1vdmluZw0KPiArICovDQo+ICt2b2lkIHZpcnRidXNf
ZGV2X3VucmVnaXN0ZXIoc3RydWN0IHZpcnRidXNfZGV2aWNlICp2ZGV2KQ0KPiArew0KPiArCWRl
dmljZV9kZWwoJnZkZXYtPmRldik7DQo+ICsJcHV0X2RldmljZSgmdmRldi0+ZGV2KTsNCj4gK30N
Cj4gK0VYUE9SVF9TWU1CT0xfR1BMKHZpcnRidXNfZGV2X3VucmVnaXN0ZXIpOw0KPiArDQo+ICtz
dGF0aWMgaW50IHZpcnRidXNfZHJ2X3Byb2JlKHN0cnVjdCBkZXZpY2UgKl9kZXYpDQo+ICt7DQo+
ICsJc3RydWN0IHZpcnRidXNfZHJpdmVyICp2ZHJ2ID0gdG9fdmlydGJ1c19kcnYoX2Rldi0+ZHJp
dmVyKTsNCj4gKwlzdHJ1Y3QgdmlydGJ1c19kZXZpY2UgKnZkZXYgPSB0b192aXJ0YnVzX2Rldihf
ZGV2KTsNCj4gKwlpbnQgcmV0Ow0KPiArDQo+ICsJcmV0ID0gZGV2X3BtX2RvbWFpbl9hdHRhY2go
X2RldiwgdHJ1ZSk7DQo+ICsJaWYgKHJldCkgew0KPiArCQlkZXZfd2FybihfZGV2LCAiRmFpbGVk
IHRvIGF0dGF0Y2ggdG8gUE0gRG9tYWluIDogJWRcbiIsIHJldCk7DQo+ICsJCXJldHVybiByZXQ7
DQo+ICsJfQ0KPiArDQo+ICsJcmV0ID0gdmRydi0+cHJvYmUodmRldik7DQo+ICsJaWYgKHJldCkg
ew0KPiArCQlkZXZfZXJyKCZ2ZGV2LT5kZXYsICJQcm9iZSByZXR1cm5lZCBlcnJvclxuIik7DQo+
ICsJCWRldl9wbV9kb21haW5fZGV0YWNoKF9kZXYsIHRydWUpOw0KPiArCX0NCj4gKw0KPiArCXJl
dHVybiByZXQ7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyBpbnQgdmlydGJ1c19kcnZfcmVtb3ZlKHN0
cnVjdCBkZXZpY2UgKl9kZXYpDQo+ICt7DQo+ICsJc3RydWN0IHZpcnRidXNfZHJpdmVyICp2ZHJ2
ID0gdG9fdmlydGJ1c19kcnYoX2Rldi0+ZHJpdmVyKTsNCj4gKwlzdHJ1Y3QgdmlydGJ1c19kZXZp
Y2UgKnZkZXYgPSB0b192aXJ0YnVzX2RldihfZGV2KTsNCj4gKwlpbnQgcmV0ID0gMDsNCj4gKw0K
PiArCXJldCA9IHZkcnYtPnJlbW92ZSh2ZGV2KTsNCj4gKwlkZXZfcG1fZG9tYWluX2RldGFjaChf
ZGV2LCB0cnVlKTsNCj4gKw0KPiArCXJldHVybiByZXQ7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyB2
b2lkIHZpcnRidXNfZHJ2X3NodXRkb3duKHN0cnVjdCBkZXZpY2UgKl9kZXYpDQo+ICt7DQo+ICsJ
c3RydWN0IHZpcnRidXNfZHJpdmVyICp2ZHJ2ID0gdG9fdmlydGJ1c19kcnYoX2Rldi0+ZHJpdmVy
KTsNCj4gKwlzdHJ1Y3QgdmlydGJ1c19kZXZpY2UgKnZkZXYgPSB0b192aXJ0YnVzX2RldihfZGV2
KTsNCj4gKw0KPiArCXZkcnYtPnNodXRkb3duKHZkZXYpOw0KPiArfQ0KPiArDQo+ICtzdGF0aWMg
aW50IHZpcnRidXNfZHJ2X3N1c3BlbmQoc3RydWN0IGRldmljZSAqX2RldiwgcG1fbWVzc2FnZV90
IHN0YXRlKQ0KPiArew0KPiArCXN0cnVjdCB2aXJ0YnVzX2RyaXZlciAqdmRydiA9IHRvX3ZpcnRi
dXNfZHJ2KF9kZXYtPmRyaXZlcik7DQo+ICsJc3RydWN0IHZpcnRidXNfZGV2aWNlICp2ZGV2ID0g
dG9fdmlydGJ1c19kZXYoX2Rldik7DQo+ICsNCj4gKwlpZiAodmRydi0+c3VzcGVuZCkNCj4gKwkJ
cmV0dXJuIHZkcnYtPnN1c3BlbmQodmRldiwgc3RhdGUpOw0KPiArDQo+ICsJcmV0dXJuIDA7DQo+
ICt9DQo+ICsNCj4gK3N0YXRpYyBpbnQgdmlydGJ1c19kcnZfcmVzdW1lKHN0cnVjdCBkZXZpY2Ug
Kl9kZXYpDQo+ICt7DQo+ICsJc3RydWN0IHZpcnRidXNfZHJpdmVyICp2ZHJ2ID0gdG9fdmlydGJ1
c19kcnYoX2Rldi0+ZHJpdmVyKTsNCj4gKwlzdHJ1Y3QgdmlydGJ1c19kZXZpY2UgKnZkZXYgPSB0
b192aXJ0YnVzX2RldihfZGV2KTsNCj4gKw0KPiArCWlmICh2ZHJ2LT5yZXN1bWUpDQo+ICsJCXJl
dHVybiB2ZHJ2LT5yZXN1bWUodmRldik7DQo+ICsNCj4gKwlyZXR1cm4gMDsNCj4gK30NCj4gKw0K
PiArLyoqDQo+ICsgKiBfX3ZpcnRidXNfZHJ2X3JlZ2lzdGVyIC0gcmVnaXN0ZXIgYSBkcml2ZXIg
Zm9yIHZpcnR1YWwgYnVzIGRldmljZXMNCj4gKyAqIEB2ZHJ2OiB2aXJ0YnVzX2RyaXZlciBzdHJ1
Y3R1cmUNCj4gKyAqIEBvd25lcjogb3duaW5nIG1vZHVsZS9kcml2ZXINCj4gKyAqLw0KPiAraW50
IF9fdmlydGJ1c19kcnZfcmVnaXN0ZXIoc3RydWN0IHZpcnRidXNfZHJpdmVyICp2ZHJ2LCBzdHJ1
Y3QgbW9kdWxlICpvd25lcikNCj4gK3sNCkxldHMga2VlcCBuYW1lIGNvbnNpc3RlbnQgd2l0aCBv
dGhlciBzdWJzeXN0ZW1zIHN1Y2ggYXMsDQoNCnBjaV9yZWdpc3Rlcl9kcml2ZXIoKSwgc3BpX3Jl
Z2lzdGVyX2RyaXZlcigpIGV0YyBhcw0KdmlydGJ1c19yZWdpc3Rlcl9kcml2ZXIoKSBhbmQgdW5y
ZWdpc3RlcigpLg0KDQo+ICsJaWYgKCF2ZHJ2LT5wcm9iZSB8fCAhdmRydi0+cmVtb3ZlIHx8ICF2
ZHJ2LT5zaHV0ZG93biB8fCAhdmRydi0+aWRfdGFibGUpDQo+ICsJCXJldHVybiAtRUlOVkFMOw0K
PiArDQo+ICsJdmRydi0+ZHJpdmVyLm93bmVyID0gb3duZXI7DQo+ICsJdmRydi0+ZHJpdmVyLmJ1
cyA9ICZ2aXJ0dWFsX2J1c190eXBlOw0KPiArCXZkcnYtPmRyaXZlci5wcm9iZSA9IHZpcnRidXNf
ZHJ2X3Byb2JlOw0KPiArCXZkcnYtPmRyaXZlci5yZW1vdmUgPSB2aXJ0YnVzX2Rydl9yZW1vdmU7
DQo+ICsJdmRydi0+ZHJpdmVyLnNodXRkb3duID0gdmlydGJ1c19kcnZfc2h1dGRvd247DQo+ICsJ
dmRydi0+ZHJpdmVyLnN1c3BlbmQgPSB2aXJ0YnVzX2Rydl9zdXNwZW5kOw0KPiArCXZkcnYtPmRy
aXZlci5yZXN1bWUgPSB2aXJ0YnVzX2Rydl9yZXN1bWU7DQo+ICsNCj4gKwlyZXR1cm4gZHJpdmVy
X3JlZ2lzdGVyKCZ2ZHJ2LT5kcml2ZXIpOw0KPiArfQ0KPiArRVhQT1JUX1NZTUJPTF9HUEwoX192
aXJ0YnVzX2Rydl9yZWdpc3Rlcik7DQo+ICsNCj4gKy8qKg0KPiArICogdmlydGJ1c19kcnZfdW5y
ZWdpc3RlciAtIHVucmVnaXN0ZXIgYSBkcml2ZXIgZm9yIHZpcnR1YWwgYnVzIGRldmljZXMNCj4g
KyAqIEBkcnY6IHZpcnRidXNfZHJpdmVyIHN0cnVjdHVyZQ0KPiArICovDQo+ICt2b2lkIHZpcnRi
dXNfZHJ2X3VucmVnaXN0ZXIoc3RydWN0IHZpcnRidXNfZHJpdmVyICp2ZHJ2KQ0KPiArew0KPiAr
CWRyaXZlcl91bnJlZ2lzdGVyKCZ2ZHJ2LT5kcml2ZXIpOw0KPiArfQ0KPiArRVhQT1JUX1NZTUJP
TF9HUEwodmlydGJ1c19kcnZfdW5yZWdpc3Rlcik7DQoNCg==
