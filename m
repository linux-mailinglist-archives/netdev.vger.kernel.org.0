Return-Path: <netdev+bounces-7807-lists+netdev=lfdr.de@vger.kernel.org>
X-Original-To: lists+netdev@lfdr.de
Delivered-To: lists+netdev@lfdr.de
Received: from sv.mirrors.kernel.org (sv.mirrors.kernel.org [IPv6:2604:1380:45e3:2400::1])
	by mail.lfdr.de (Postfix) with ESMTPS id DF5937218FD
	for <lists+netdev@lfdr.de>; Sun,  4 Jun 2023 20:00:39 +0200 (CEST)
Received: from smtp.subspace.kernel.org (wormhole.subspace.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by sv.mirrors.kernel.org (Postfix) with ESMTPS id 9CADA280EF0
	for <lists+netdev@lfdr.de>; Sun,  4 Jun 2023 18:00:38 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id BB9E110941;
	Sun,  4 Jun 2023 18:00:36 +0000 (UTC)
X-Original-To: netdev@vger.kernel.org
Received: from smtp.kernel.org (aws-us-west-2-korg-mail-1.web.codeaurora.org [10.30.226.201])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 99A9F883C
	for <netdev@vger.kernel.org>; Sun,  4 Jun 2023 18:00:35 +0000 (UTC)
Received: by smtp.kernel.org (Postfix) with ESMTPSA id 43473C433EF;
	Sun,  4 Jun 2023 18:00:35 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
	s=k20201202; t=1685901635;
	bh=63eNB+yM9aKAueRPJ3ZwmnFx1KBz9KU9e0yE0hsM1oY=;
	h=Date:From:To:Cc:Subject:In-Reply-To:References:From;
	b=YzG4HlrS7SACMPGfqIZuob1lsjN121uF2uUZUi71zWCeSyS6w9+Y927NF+KLkLZuF
	 Uf8TOiuQ6H9di105FgF695jZcw7q14to3eDxwpPs+iV/Ngrh7i2zNXaqtUTbdeWM1n
	 mkQMbrNlKHeWubKsq+tX1h9BhC9yPL9qQBz0aEu65/+z50LFIjjn5zMxMkKMNn95dx
	 +l/vS0SmNIx0GTvg23BmWm5BVceclGK9IYMOyp3x7wihXpeuQnkam7xxegAgEa2UAq
	 S0A34rWoi8K+b8SW6qJunRDBS5vUmi3mPS8gx8xTzaGvxKJG0InBYJmdFbDMf7WwPE
	 ItgRSPcck0zJw==
Date: Sun, 4 Jun 2023 11:00:34 -0700
From: Jakub Kicinski <kuba@kernel.org>
To: Simon Horman <simon.horman@corigine.com>
Cc: davem@davemloft.net, netdev@vger.kernel.org, edumazet@google.com,
 pabeni@redhat.com
Subject: Re: [PATCH net-next 2/4] tools: ynl: user space helpers
Message-ID: <20230604110034.08015f1b@kernel.org>
In-Reply-To: <ZHtSbn1oHl4KcfUL@corigine.com>
References: <20230603052547.631384-1-kuba@kernel.org>
	<20230603052547.631384-3-kuba@kernel.org>
	<ZHtSbn1oHl4KcfUL@corigine.com>
Precedence: bulk
X-Mailing-List: netdev@vger.kernel.org
List-Id: <netdev.vger.kernel.org>
List-Subscribe: <mailto:netdev+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:netdev+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

On Sat, 3 Jun 2023 16:47:10 +0200 Simon Horman wrote:
> > +/**
> > + * struct ynl_error - error encountered by YNL
> > + * Users should interact with the err member of struct ynl_sock directly.
> > + * The main exception to that rule is ynl_sock_create().  
> 
> nit: As this is a kernel doc, maybe document the structure members here.
> 
> > + */
> > +struct ynl_error {
> > +	enum ynl_error_code code;
> > +	unsigned int attr_offs;
> > +	char msg[512];
> > +};
> > +
> > +/**
> > + * struct ynl_family - YNL family info
> > + * Family description generated by codegen.  
> 
> And here.
> 
> > + */
> > +struct ynl_family {
> > +	const char *name;
> > +	const struct ynl_ntf_info *ntf_info;
> > +	unsigned int ntf_info_size;
> > +};  
> 
> ...
> 
> > +/**
> > + * ynl_has_ntf() - check if socket has *parsed* notifications
> > + * Note that this does not take into account notifications sitting
> > + * in netlink socket, just the notifications which have already been
> > + * read and parsed (e.g. during a ynl_ntf_check() call).  
> 
> And the parameter of this function here.

Thanks, not sure why my brain considered this "not really kernel code
so I don't have to obey the rules" :S I marked the innards of the
family as private, and tossed in the other descriptions. v2 posted.

