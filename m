Return-Path: <netdev-owner@vger.kernel.org>
X-Original-To: lists+netdev@lfdr.de
Delivered-To: lists+netdev@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 5077544DA5
	for <lists+netdev@lfdr.de>; Thu, 13 Jun 2019 22:40:20 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1730060AbfFMUkJ (ORCPT <rfc822;lists+netdev@lfdr.de>);
        Thu, 13 Jun 2019 16:40:09 -0400
Received: from mail-eopbgr80088.outbound.protection.outlook.com ([40.107.8.88]:9974
        "EHLO EUR04-VI1-obe.outbound.protection.outlook.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S1728454AbfFMUkH (ORCPT <rfc822;netdev@vger.kernel.org>);
        Thu, 13 Jun 2019 16:40:07 -0400
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=Mellanox.com;
 s=selector2;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=B+3t1qXBP49dzpNMoKGLsI7jNbUPOPPOq6aTP3ARiwY=;
 b=NTDB4bmJOCGrJK2FIZxFUx+sl1hGo/MfqIogUWuBV3N6Dn6kZysXhoxf905vQIk7aKzrYP3zE26Fih/vhB+ZuQBnSpMEl4nmaHeUnAb9mGSYoEym1z17lAOk4cl00gGGAar5VdlywcP6Vf0Cw53tr76VTM1eysqTY40wJIGNvh8=
Received: from DB6PR0501MB2759.eurprd05.prod.outlook.com (10.172.227.7) by
 DB6PR0501MB2629.eurprd05.prod.outlook.com (10.172.225.11) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1965.15; Thu, 13 Jun 2019 20:39:19 +0000
Received: from DB6PR0501MB2759.eurprd05.prod.outlook.com
 ([fe80::a901:6951:59de:3278]) by DB6PR0501MB2759.eurprd05.prod.outlook.com
 ([fe80::a901:6951:59de:3278%2]) with mapi id 15.20.1987.012; Thu, 13 Jun 2019
 20:39:19 +0000
From:   Saeed Mahameed <saeedm@mellanox.com>
To:     "David S. Miller" <davem@davemloft.net>
CC:     "netdev@vger.kernel.org" <netdev@vger.kernel.org>,
        Jiri Pirko <jiri@mellanox.com>,
        Eran Ben Elisha <eranbe@mellanox.com>,
        Moshe Shemesh <moshe@mellanox.com>,
        Saeed Mahameed <saeedm@mellanox.com>
Subject: [net-next v2 03/15] net/mlx5: Move all devlink related functions
 calls to devlink.c
Thread-Topic: [net-next v2 03/15] net/mlx5: Move all devlink related functions
 calls to devlink.c
Thread-Index: AQHVIigTeJ5nYi+75kaHdtML38Dgtw==
Date:   Thu, 13 Jun 2019 20:39:19 +0000
Message-ID: <20190613203825.31049-4-saeedm@mellanox.com>
References: <20190613203825.31049-1-saeedm@mellanox.com>
In-Reply-To: <20190613203825.31049-1-saeedm@mellanox.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-mailer: git-send-email 2.21.0
x-originating-ip: [209.116.155.178]
x-clientproxiedby: BYAPR02CA0020.namprd02.prod.outlook.com
 (2603:10b6:a02:ee::33) To DB6PR0501MB2759.eurprd05.prod.outlook.com
 (2603:10a6:4:84::7)
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=saeedm@mellanox.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: e78c0bd9-37a8-4cc7-e3f9-08d6f03f3583
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0;PCL:0;RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);SRVR:DB6PR0501MB2629;
x-ms-traffictypediagnostic: DB6PR0501MB2629:
x-microsoft-antispam-prvs: <DB6PR0501MB2629D53DCB3659F213F5125EBEEF0@DB6PR0501MB2629.eurprd05.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:5516;
x-forefront-prvs: 0067A8BA2A
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(396003)(136003)(366004)(39860400002)(376002)(346002)(199004)(189003)(8676002)(6916009)(81156014)(81166006)(2616005)(316002)(11346002)(25786009)(4326008)(6512007)(86362001)(476003)(486006)(8936002)(6436002)(446003)(50226002)(6486002)(66066001)(36756003)(26005)(305945005)(7736002)(186003)(73956011)(66946007)(64756008)(66446008)(66556008)(66476007)(53936002)(6116002)(256004)(14444005)(3846002)(1076003)(71190400001)(71200400001)(2906002)(478600001)(99286004)(52116002)(14454004)(102836004)(54906003)(76176011)(5660300002)(6506007)(107886003)(386003)(68736007);DIR:OUT;SFP:1101;SCL:1;SRVR:DB6PR0501MB2629;H:DB6PR0501MB2759.eurprd05.prod.outlook.com;FPR:;SPF:None;LANG:en;PTR:InfoNoRecords;A:1;MX:1;
received-spf: None (protection.outlook.com: mellanox.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: xLP8TtJHnR6zHHjtaURfMiCtHL4LZlt5djsT/VdEKJESp/DWmQY8U9eTy0i/CIMuyfGtRjeb6+G785eNRo4ian0ZaOFI0MRfZ0sXpWLiU7wD15r/CR7xHi7W3ozDe/9eFj4Y4MlEmie2TkX2L4blnJ9nE7CYeZXDj3/hihwB4ycvKVW7z4Jood2CqpPQZN/UIWcnkNLPjsXZPWZMmXtw4F+ZHE1KQ8ub8kFbk94fpI1Kkr/j6ViCDZGsYpVJumB79/2eKZMGA9xd5cjrizopbthnfC0fe7ADd9C4aa7Vg71kfR9PCpTF+NHSuqefeyBV6zsF9kF1K320ljstb6xCt2Xq3vdLX6u3SSci2j+SjrPwEtpD0Kr/lK5iSe1/rUVksSlh3wVc5jpLnjGDimijREkKti4MTF6U9zp53lBPag4=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: Mellanox.com
X-MS-Exchange-CrossTenant-Network-Message-Id: e78c0bd9-37a8-4cc7-e3f9-08d6f03f3583
X-MS-Exchange-CrossTenant-originalarrivaltime: 13 Jun 2019 20:39:19.7331
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: a652971c-7d2e-4d9b-a6a4-d149256f461b
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: saeedm@mellanox.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DB6PR0501MB2629
Sender: netdev-owner@vger.kernel.org
Precedence: bulk
List-ID: <netdev.vger.kernel.org>
X-Mailing-List: netdev@vger.kernel.org

RnJvbTogRXJhbiBCZW4gRWxpc2hhIDxlcmFuYmVAbWVsbGFub3guY29tPg0KDQpDZW50cmFsaXpl
IGFsbCBkZXZsaW5rIHJlbGF0ZWQgY2FsbGJhY2tzIGluIG9uZSBmaWxlLg0KSW4gdGhlIGRvd25z
dHJlYW0gcGF0Y2gsIHNvbWUgbW9yZSBmdW5jdGlvbmFsaXR5IHdpbGwgYmUgYWRkZWQsIHRoaXMN
CnBhdGNoIGlzIHByZXBhcmluZyB0aGUgZHJpdmVyIGluZnJhc3RydWN0dXJlIGZvciBpdC4NCg0K
Q3VycmVudGx5LCBtb3ZlIGRldmxpbmsgdW4vcmVnaXN0ZXIgZnVuY3Rpb25zIGNhbGxzIGludG8g
dGhpcyBmaWxlLg0KDQpTaWduZWQtb2ZmLWJ5OiBFcmFuIEJlbiBFbGlzaGEgPGVyYW5iZUBtZWxs
YW5veC5jb20+DQpSZXZpZXdlZC1ieTogTW9zaGUgU2hlbWVzaCA8bW9zaGVAbWVsbGFub3guY29t
Pg0KU2lnbmVkLW9mZi1ieTogU2FlZWQgTWFoYW1lZWQgPHNhZWVkbUBtZWxsYW5veC5jb20+DQot
LS0NCiAuLi4vbmV0L2V0aGVybmV0L21lbGxhbm94L21seDUvY29yZS9NYWtlZmlsZSAgfCAgMiAr
LQ0KIC4uLi9uZXQvZXRoZXJuZXQvbWVsbGFub3gvbWx4NS9jb3JlL2RldmxpbmsuYyB8IDU4ICsr
KysrKysrKysrKysrKysrKysNCiAuLi4vbmV0L2V0aGVybmV0L21lbGxhbm94L21seDUvY29yZS9k
ZXZsaW5rLmggfCAxNCArKysrKw0KIC4uLi9uZXQvZXRoZXJuZXQvbWVsbGFub3gvbWx4NS9jb3Jl
L21haW4uYyAgICB8IDQ0ICsrKy0tLS0tLS0tLS0tDQogNCBmaWxlcyBjaGFuZ2VkLCA4MCBpbnNl
cnRpb25zKCspLCAzOCBkZWxldGlvbnMoLSkNCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9u
ZXQvZXRoZXJuZXQvbWVsbGFub3gvbWx4NS9jb3JlL2RldmxpbmsuYw0KIGNyZWF0ZSBtb2RlIDEw
MDY0NCBkcml2ZXJzL25ldC9ldGhlcm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvZGV2bGluay5oDQoN
CmRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvTWFr
ZWZpbGUgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvTWFrZWZpbGUN
CmluZGV4IGQ5ZDM2M2ZlNWNmNy4uOTAwNmZkYTZiZDExIDEwMDY0NA0KLS0tIGEvZHJpdmVycy9u
ZXQvZXRoZXJuZXQvbWVsbGFub3gvbWx4NS9jb3JlL01ha2VmaWxlDQorKysgYi9kcml2ZXJzL25l
dC9ldGhlcm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvTWFrZWZpbGUNCkBAIC0xNSw3ICsxNSw3IEBA
IG1seDVfY29yZS15IDo9CW1haW4ubyBjbWQubyBkZWJ1Z2ZzLm8gZncubyBlcS5vIHVhci5vIHBh
Z2VhbGxvYy5vIFwNCiAJCWhlYWx0aC5vIG1jZy5vIGNxLm8gYWxsb2MubyBxcC5vIHBvcnQubyBt
ci5vIHBkLm8gXA0KIAkJdHJhbnNvYmoubyB2cG9ydC5vIHNyaW92Lm8gZnNfY21kLm8gZnNfY29y
ZS5vIFwNCiAJCWZzX2NvdW50ZXJzLm8gcmwubyBsYWcubyBkZXYubyBldmVudHMubyB3cS5vIGxp
Yi9naWQubyBcDQotCQlsaWIvZGV2Y29tLm8gZGlhZy9mc190cmFjZXBvaW50Lm8gZGlhZy9md190
cmFjZXIubw0KKwkJbGliL2RldmNvbS5vIGRpYWcvZnNfdHJhY2Vwb2ludC5vIGRpYWcvZndfdHJh
Y2VyLm8gZGV2bGluay5vDQogDQogIw0KICMgTmV0ZGV2IGJhc2ljDQpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9uZXQvZXRoZXJuZXQvbWVsbGFub3gvbWx4NS9jb3JlL2RldmxpbmsuYyBiL2RyaXZlcnMv
bmV0L2V0aGVybmV0L21lbGxhbm94L21seDUvY29yZS9kZXZsaW5rLmMNCm5ldyBmaWxlIG1vZGUg
MTAwNjQ0DQppbmRleCAwMDAwMDAwMDAwMDAuLmVkNDIwMmU4ODNmMA0KLS0tIC9kZXYvbnVsbA0K
KysrIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvbWVsbGFub3gvbWx4NS9jb3JlL2RldmxpbmsuYw0K
QEAgLTAsMCArMSw1OCBAQA0KKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wIE9S
IExpbnV4LU9wZW5JQg0KKy8qIENvcHlyaWdodCAoYykgMjAxOSBNZWxsYW5veCBUZWNobm9sb2dp
ZXMgKi8NCisNCisjaW5jbHVkZSA8ZGV2bGluay5oPg0KKw0KKyNpbmNsdWRlICJtbHg1X2NvcmUu
aCINCisjaW5jbHVkZSAiZXN3aXRjaC5oIg0KKw0KK3N0YXRpYyBpbnQgbWx4NV9kZXZsaW5rX2Zs
YXNoX3VwZGF0ZShzdHJ1Y3QgZGV2bGluayAqZGV2bGluaywNCisJCQkJICAgICBjb25zdCBjaGFy
ICpmaWxlX25hbWUsDQorCQkJCSAgICAgY29uc3QgY2hhciAqY29tcG9uZW50LA0KKwkJCQkgICAg
IHN0cnVjdCBuZXRsaW5rX2V4dF9hY2sgKmV4dGFjaykNCit7DQorCXN0cnVjdCBtbHg1X2NvcmVf
ZGV2ICpkZXYgPSBkZXZsaW5rX3ByaXYoZGV2bGluayk7DQorCWNvbnN0IHN0cnVjdCBmaXJtd2Fy
ZSAqZnc7DQorCWludCBlcnI7DQorDQorCWlmIChjb21wb25lbnQpDQorCQlyZXR1cm4gLUVPUE5P
VFNVUFA7DQorDQorCWVyciA9IHJlcXVlc3RfZmlybXdhcmVfZGlyZWN0KCZmdywgZmlsZV9uYW1l
LCAmZGV2LT5wZGV2LT5kZXYpOw0KKwlpZiAoZXJyKQ0KKwkJcmV0dXJuIGVycjsNCisNCisJcmV0
dXJuIG1seDVfZmlybXdhcmVfZmxhc2goZGV2LCBmdywgZXh0YWNrKTsNCit9DQorDQorc3RhdGlj
IGNvbnN0IHN0cnVjdCBkZXZsaW5rX29wcyBtbHg1X2Rldmxpbmtfb3BzID0gew0KKyNpZmRlZiBD
T05GSUdfTUxYNV9FU1dJVENIDQorCS5lc3dpdGNoX21vZGVfc2V0ID0gbWx4NV9kZXZsaW5rX2Vz
d2l0Y2hfbW9kZV9zZXQsDQorCS5lc3dpdGNoX21vZGVfZ2V0ID0gbWx4NV9kZXZsaW5rX2Vzd2l0
Y2hfbW9kZV9nZXQsDQorCS5lc3dpdGNoX2lubGluZV9tb2RlX3NldCA9IG1seDVfZGV2bGlua19l
c3dpdGNoX2lubGluZV9tb2RlX3NldCwNCisJLmVzd2l0Y2hfaW5saW5lX21vZGVfZ2V0ID0gbWx4
NV9kZXZsaW5rX2Vzd2l0Y2hfaW5saW5lX21vZGVfZ2V0LA0KKwkuZXN3aXRjaF9lbmNhcF9tb2Rl
X3NldCA9IG1seDVfZGV2bGlua19lc3dpdGNoX2VuY2FwX21vZGVfc2V0LA0KKwkuZXN3aXRjaF9l
bmNhcF9tb2RlX2dldCA9IG1seDVfZGV2bGlua19lc3dpdGNoX2VuY2FwX21vZGVfZ2V0LA0KKyNl
bmRpZg0KKwkuZmxhc2hfdXBkYXRlID0gbWx4NV9kZXZsaW5rX2ZsYXNoX3VwZGF0ZSwNCit9Ow0K
Kw0KK3N0cnVjdCBkZXZsaW5rICptbHg1X2RldmxpbmtfYWxsb2MoKQ0KK3sNCisJcmV0dXJuIGRl
dmxpbmtfYWxsb2MoJm1seDVfZGV2bGlua19vcHMsIHNpemVvZihzdHJ1Y3QgbWx4NV9jb3JlX2Rl
dikpOw0KK30NCisNCit2b2lkIG1seDVfZGV2bGlua19mcmVlKHN0cnVjdCBkZXZsaW5rICpkZXZs
aW5rKQ0KK3sNCisJZGV2bGlua19mcmVlKGRldmxpbmspOw0KK30NCisNCitpbnQgbWx4NV9kZXZs
aW5rX3JlZ2lzdGVyKHN0cnVjdCBkZXZsaW5rICpkZXZsaW5rLCBzdHJ1Y3QgZGV2aWNlICpkZXYp
DQorew0KKwlyZXR1cm4gZGV2bGlua19yZWdpc3RlcihkZXZsaW5rLCBkZXYpOw0KK30NCisNCit2
b2lkIG1seDVfZGV2bGlua191bnJlZ2lzdGVyKHN0cnVjdCBkZXZsaW5rICpkZXZsaW5rKQ0KK3sN
CisJZGV2bGlua191bnJlZ2lzdGVyKGRldmxpbmspOw0KK30NCmRpZmYgLS1naXQgYS9kcml2ZXJz
L25ldC9ldGhlcm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvZGV2bGluay5oIGIvZHJpdmVycy9uZXQv
ZXRoZXJuZXQvbWVsbGFub3gvbWx4NS9jb3JlL2RldmxpbmsuaA0KbmV3IGZpbGUgbW9kZSAxMDA2
NDQNCmluZGV4IDAwMDAwMDAwMDAwMC4uZDBiYTAzNzc0ZGRmDQotLS0gL2Rldi9udWxsDQorKysg
Yi9kcml2ZXJzL25ldC9ldGhlcm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvZGV2bGluay5oDQpAQCAt
MCwwICsxLDE0IEBADQorLyogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAgT1IgTGlu
dXgtT3BlbklCICovDQorLyogQ29weXJpZ2h0IChjKSAyMDE5LCBNZWxsYW5veCBUZWNobm9sb2dp
ZXMgKi8NCisNCisjaWZuZGVmIF9fTUxYNV9ERVZMSU5LX0hfXw0KKyNkZWZpbmUgX19NTFg1X0RF
VkxJTktfSF9fDQorDQorI2luY2x1ZGUgPG5ldC9kZXZsaW5rLmg+DQorDQorc3RydWN0IGRldmxp
bmsgKm1seDVfZGV2bGlua19hbGxvYyh2b2lkKTsNCit2b2lkIG1seDVfZGV2bGlua19mcmVlKHN0
cnVjdCBkZXZsaW5rICpkZXZsaW5rKTsNCitpbnQgbWx4NV9kZXZsaW5rX3JlZ2lzdGVyKHN0cnVj
dCBkZXZsaW5rICpkZXZsaW5rLCBzdHJ1Y3QgZGV2aWNlICpkZXYpOw0KK3ZvaWQgbWx4NV9kZXZs
aW5rX3VucmVnaXN0ZXIoc3RydWN0IGRldmxpbmsgKmRldmxpbmspOw0KKw0KKyNlbmRpZiAvKiBf
X01MWDVfREVWTElOS19IX18gKi8NCmRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9t
ZWxsYW5veC9tbHg1L2NvcmUvbWFpbi5jIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvbWVsbGFub3gv
bWx4NS9jb3JlL21haW4uYw0KaW5kZXggN2VjMTM1ZWFhYmM2Li41ZWExNDE4OTNiOTkgMTAwNjQ0
DQotLS0gYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvbWFpbi5jDQor
KysgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvbWFpbi5jDQpAQCAt
NTYsNiArNTYsNyBAQA0KICNpbmNsdWRlICJmc19jb3JlLmgiDQogI2luY2x1ZGUgImxpYi9tcGZz
LmgiDQogI2luY2x1ZGUgImVzd2l0Y2guaCINCisjaW5jbHVkZSAiZGV2bGluay5oIg0KICNpbmNs
dWRlICJsaWIvbWx4NS5oIg0KICNpbmNsdWRlICJmcGdhL2NvcmUuaCINCiAjaW5jbHVkZSAiZnBn
YS9pcHNlYy5oIg0KQEAgLTEyMTQsMzcgKzEyMTUsNiBAQCBzdGF0aWMgaW50IG1seDVfdW5sb2Fk
X29uZShzdHJ1Y3QgbWx4NV9jb3JlX2RldiAqZGV2LCBib29sIGNsZWFudXApDQogCXJldHVybiBl
cnI7DQogfQ0KIA0KLXN0YXRpYyBpbnQgbWx4NV9kZXZsaW5rX2ZsYXNoX3VwZGF0ZShzdHJ1Y3Qg
ZGV2bGluayAqZGV2bGluaywNCi0JCQkJICAgICBjb25zdCBjaGFyICpmaWxlX25hbWUsDQotCQkJ
CSAgICAgY29uc3QgY2hhciAqY29tcG9uZW50LA0KLQkJCQkgICAgIHN0cnVjdCBuZXRsaW5rX2V4
dF9hY2sgKmV4dGFjaykNCi17DQotCXN0cnVjdCBtbHg1X2NvcmVfZGV2ICpkZXYgPSBkZXZsaW5r
X3ByaXYoZGV2bGluayk7DQotCWNvbnN0IHN0cnVjdCBmaXJtd2FyZSAqZnc7DQotCWludCBlcnI7
DQotDQotCWlmIChjb21wb25lbnQpDQotCQlyZXR1cm4gLUVPUE5PVFNVUFA7DQotDQotCWVyciA9
IHJlcXVlc3RfZmlybXdhcmVfZGlyZWN0KCZmdywgZmlsZV9uYW1lLCAmZGV2LT5wZGV2LT5kZXYp
Ow0KLQlpZiAoZXJyKQ0KLQkJcmV0dXJuIGVycjsNCi0NCi0JcmV0dXJuIG1seDVfZmlybXdhcmVf
Zmxhc2goZGV2LCBmdywgZXh0YWNrKTsNCi19DQotDQotc3RhdGljIGNvbnN0IHN0cnVjdCBkZXZs
aW5rX29wcyBtbHg1X2Rldmxpbmtfb3BzID0gew0KLSNpZmRlZiBDT05GSUdfTUxYNV9FU1dJVENI
DQotCS5lc3dpdGNoX21vZGVfc2V0ID0gbWx4NV9kZXZsaW5rX2Vzd2l0Y2hfbW9kZV9zZXQsDQot
CS5lc3dpdGNoX21vZGVfZ2V0ID0gbWx4NV9kZXZsaW5rX2Vzd2l0Y2hfbW9kZV9nZXQsDQotCS5l
c3dpdGNoX2lubGluZV9tb2RlX3NldCA9IG1seDVfZGV2bGlua19lc3dpdGNoX2lubGluZV9tb2Rl
X3NldCwNCi0JLmVzd2l0Y2hfaW5saW5lX21vZGVfZ2V0ID0gbWx4NV9kZXZsaW5rX2Vzd2l0Y2hf
aW5saW5lX21vZGVfZ2V0LA0KLQkuZXN3aXRjaF9lbmNhcF9tb2RlX3NldCA9IG1seDVfZGV2bGlu
a19lc3dpdGNoX2VuY2FwX21vZGVfc2V0LA0KLQkuZXN3aXRjaF9lbmNhcF9tb2RlX2dldCA9IG1s
eDVfZGV2bGlua19lc3dpdGNoX2VuY2FwX21vZGVfZ2V0LA0KLSNlbmRpZg0KLQkuZmxhc2hfdXBk
YXRlID0gbWx4NV9kZXZsaW5rX2ZsYXNoX3VwZGF0ZSwNCi19Ow0KLQ0KIHN0YXRpYyBpbnQgbWx4
NV9tZGV2X2luaXQoc3RydWN0IG1seDVfY29yZV9kZXYgKmRldiwgaW50IHByb2ZpbGVfaWR4KQ0K
IHsNCiAJc3RydWN0IG1seDVfcHJpdiAqcHJpdiA9ICZkZXYtPnByaXY7DQpAQCAtMTMwNiw5ICsx
Mjc2LDkgQEAgc3RhdGljIGludCBpbml0X29uZShzdHJ1Y3QgcGNpX2RldiAqcGRldiwgY29uc3Qg
c3RydWN0IHBjaV9kZXZpY2VfaWQgKmlkKQ0KIAlzdHJ1Y3QgZGV2bGluayAqZGV2bGluazsNCiAJ
aW50IGVycjsNCiANCi0JZGV2bGluayA9IGRldmxpbmtfYWxsb2MoJm1seDVfZGV2bGlua19vcHMs
IHNpemVvZigqZGV2KSk7DQorCWRldmxpbmsgPSBtbHg1X2RldmxpbmtfYWxsb2MoKTsNCiAJaWYg
KCFkZXZsaW5rKSB7DQotCQlkZXZfZXJyKCZwZGV2LT5kZXYsICJremFsbG9jIGZhaWxlZFxuIik7
DQorCQlkZXZfZXJyKCZwZGV2LT5kZXYsICJkZXZsaW5rIGFsbG9jIGZhaWxlZFxuIik7DQogCQly
ZXR1cm4gLUVOT01FTTsNCiAJfQ0KIA0KQEAgLTEzMzYsNyArMTMwNiw3IEBAIHN0YXRpYyBpbnQg
aW5pdF9vbmUoc3RydWN0IHBjaV9kZXYgKnBkZXYsIGNvbnN0IHN0cnVjdCBwY2lfZGV2aWNlX2lk
ICppZCkNCiANCiAJcmVxdWVzdF9tb2R1bGVfbm93YWl0KE1MWDVfSUJfTU9EKTsNCiANCi0JZXJy
ID0gZGV2bGlua19yZWdpc3RlcihkZXZsaW5rLCAmcGRldi0+ZGV2KTsNCisJZXJyID0gbWx4NV9k
ZXZsaW5rX3JlZ2lzdGVyKGRldmxpbmssICZwZGV2LT5kZXYpOw0KIAlpZiAoZXJyKQ0KIAkJZ290
byBjbGVhbl9sb2FkOw0KIA0KQEAgLTEzNTEsNyArMTMyMSw3IEBAIHN0YXRpYyBpbnQgaW5pdF9v
bmUoc3RydWN0IHBjaV9kZXYgKnBkZXYsIGNvbnN0IHN0cnVjdCBwY2lfZGV2aWNlX2lkICppZCkN
CiBwY2lfaW5pdF9lcnI6DQogCW1seDVfbWRldl91bmluaXQoZGV2KTsNCiBtZGV2X2luaXRfZXJy
Og0KLQlkZXZsaW5rX2ZyZWUoZGV2bGluayk7DQorCW1seDVfZGV2bGlua19mcmVlKGRldmxpbmsp
Ow0KIA0KIAlyZXR1cm4gZXJyOw0KIH0NCkBAIC0xMzYxLDcgKzEzMzEsNyBAQCBzdGF0aWMgdm9p
ZCByZW1vdmVfb25lKHN0cnVjdCBwY2lfZGV2ICpwZGV2KQ0KIAlzdHJ1Y3QgbWx4NV9jb3JlX2Rl
diAqZGV2ICA9IHBjaV9nZXRfZHJ2ZGF0YShwZGV2KTsNCiAJc3RydWN0IGRldmxpbmsgKmRldmxp
bmsgPSBwcml2X3RvX2RldmxpbmsoZGV2KTsNCiANCi0JZGV2bGlua191bnJlZ2lzdGVyKGRldmxp
bmspOw0KKwltbHg1X2RldmxpbmtfdW5yZWdpc3RlcihkZXZsaW5rKTsNCiAJbWx4NV91bnJlZ2lz
dGVyX2RldmljZShkZXYpOw0KIA0KIAlpZiAobWx4NV91bmxvYWRfb25lKGRldiwgdHJ1ZSkpIHsN
CkBAIC0xMzcyLDcgKzEzNDIsNyBAQCBzdGF0aWMgdm9pZCByZW1vdmVfb25lKHN0cnVjdCBwY2lf
ZGV2ICpwZGV2KQ0KIA0KIAltbHg1X3BjaV9jbG9zZShkZXYpOw0KIAltbHg1X21kZXZfdW5pbml0
KGRldik7DQotCWRldmxpbmtfZnJlZShkZXZsaW5rKTsNCisJbWx4NV9kZXZsaW5rX2ZyZWUoZGV2
bGluayk7DQogfQ0KIA0KIHN0YXRpYyBwY2lfZXJzX3Jlc3VsdF90IG1seDVfcGNpX2Vycl9kZXRl
Y3RlZChzdHJ1Y3QgcGNpX2RldiAqcGRldiwNCi0tIA0KMi4yMS4wDQoNCg==
